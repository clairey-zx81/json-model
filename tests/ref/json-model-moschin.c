//
// Generated by JSON Model Compiler version 2.0b1
// see https://github.com/clairey-zx81/json-model
//

// regular expression engine
#include <stddef.h>
#include <cre2.h>

#include <json-model.h>
#define JSON_MODEL_VERSION "2.0b1"

static bool json_model_3(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool json_model_1(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool json_model_39(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool json_model_19(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool json_model_6(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool json_model_31(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool _jm_cst_0_test(const json_t *);
static jm_constant_t _jm_cst_0[8];
static bool json_model_14(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool json_model_15(const json_t *val, jm_path_t *path, jm_report_t *rep);
static jm_constant_t _jm_cst_1[24];
static bool json_model_5(const json_t *val, jm_path_t *path, jm_report_t *rep);
static cre2_regexp_t *_jm_re_0_re2 = NULL;
static int _jm_re_0_nn = 0;
static bool _jm_re_0(const char *s, jm_path_t *path, jm_report_t *rep);
static bool json_model_7(const json_t *val, jm_path_t *path, jm_report_t *rep);
static cre2_regexp_t *_jm_re_1_re2 = NULL;
static int _jm_re_1_nn = 0;
static bool _jm_re_1(const char *s, jm_path_t *path, jm_report_t *rep);
static bool json_model_8(const json_t *val, jm_path_t *path, jm_report_t *rep);
static cre2_regexp_t *_jm_re_2_re2 = NULL;
static int _jm_re_2_nn = 0;
static bool _jm_re_2(const char *s, jm_path_t *path, jm_report_t *rep);
static bool json_model_9(const json_t *val, jm_path_t *path, jm_report_t *rep);
static cre2_regexp_t *_jm_xre_0_re_re2 = NULL;
static int _jm_xre_0_re_nn = 0;
static bool _jm_xre_0_re(const char *s, jm_path_t *path, jm_report_t *rep);
static bool _jm_xre_0(const char *, jm_path_t *, jm_report_t *);
static cre2_regexp_t *_jm_xre_1_re_re2 = NULL;
static int _jm_xre_1_re_nn = 0;
static bool _jm_xre_1_re(const char *s, jm_path_t *path, jm_report_t *rep);
static bool _jm_xre_1(const char *, jm_path_t *, jm_report_t *);
static bool json_model_10(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool json_model_32(const json_t *val, jm_path_t *path, jm_report_t *rep);
static cre2_regexp_t *_jm_re_3_re2 = NULL;
static int _jm_re_3_nn = 0;
static bool _jm_re_3(const char *s, jm_path_t *path, jm_report_t *rep);
static cre2_regexp_t *_jm_re_4_re2 = NULL;
static int _jm_re_4_nn = 0;
static bool _jm_re_4(const char *s, jm_path_t *path, jm_report_t *rep);
static bool json_model_28(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool json_model_12(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool json_model_13(const json_t *val, jm_path_t *path, jm_report_t *rep);
static cre2_regexp_t *_jm_re_5_re2 = NULL;
static int _jm_re_5_nn = 0;
static bool _jm_re_5(const char *s, jm_path_t *path, jm_report_t *rep);
static bool json_model_25(const json_t *val, jm_path_t *path, jm_report_t *rep);
static cre2_regexp_t *_jm_re_6_re2 = NULL;
static int _jm_re_6_nn = 0;
static bool _jm_re_6(const char *s, jm_path_t *path, jm_report_t *rep);
static bool json_model_11(const json_t *val, jm_path_t *path, jm_report_t *rep);
static cre2_regexp_t *_jm_re_7_re2 = NULL;
static int _jm_re_7_nn = 0;
static bool _jm_re_7(const char *s, jm_path_t *path, jm_report_t *rep);
static cre2_regexp_t *_jm_re_8_re2 = NULL;
static int _jm_re_8_nn = 0;
static bool _jm_re_8(const char *s, jm_path_t *path, jm_report_t *rep);
static cre2_regexp_t *_jm_re_9_re2 = NULL;
static int _jm_re_9_nn = 0;
static bool _jm_re_9(const char *s, jm_path_t *path, jm_report_t *rep);
static bool _jm_f_0(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool _jm_f_1(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool _jm_f_2(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool _jm_f_3(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool _jm_f_4(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool _jm_f_5(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool _jm_f_6(const json_t *val, jm_path_t *path, jm_report_t *rep);
static jm_propmap_t _jm_obj_42_map_tab[7];
static bool json_model_38(const json_t *val, jm_path_t *path, jm_report_t *rep);
static cre2_regexp_t *_jm_re_10_re2 = NULL;
static int _jm_re_10_nn = 0;
static bool _jm_re_10(const char *s, jm_path_t *path, jm_report_t *rep);
static bool json_model_4(const json_t *val, jm_path_t *path, jm_report_t *rep);
static bool json_model_30(const json_t *val, jm_path_t *path, jm_report_t *rep);
jm_propmap_t check_model_map_tab[2];
const size_t check_model_map_size = 2;

// check $Model (.'$Model')
static bool json_model_3(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model'
    res = json_model_39(val, path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected $RootModel [.'$Model']", path);
    }
    return res;
}

// check $ (.)
static bool json_model_1(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .
    res = json_model_3(val, path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected $Model [.]", path);
    }
    return res;
}

// check $Model#RootModel (.'$Model#RootModel')
static bool json_model_39(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#RootModel'
    // .'$Model#RootModel'.'|'.0
    res = json_model_31(val, path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected $ScalarModel [.'$Model#RootModel'.'|'.0]", path);
    }
    if (! res)
    {
        // .'$Model#RootModel'.'|'.1
        res = json_model_19(val, path, rep);
        if (! res)
        {
            if (rep) jm_report_add_entry(rep, "unexpected $Array [.'$Model#RootModel'.'|'.1]", path);
        }
        if (! res)
        {
            // .'$Model#RootModel'.'|'.2
            res = json_model_38(val, path, rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Root [.'$Model#RootModel'.'|'.2]", path);
            }
        }
    }
    if (res)
    {
        if (rep) jm_report_free_entries(rep);
    }
    else
    {
        if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#RootModel'.'|']", path);
    }
    return res;
}

// check $Model#Array (.'$Model#Array')
static bool json_model_19(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Array'
    res = json_is_array(val);
    if (res)
    {
        size_t arr_0_idx;
        json_t *arr_0_item;
        json_array_foreach(val, arr_0_idx, arr_0_item)
        {
            jm_path_t arr_0_lpath = (jm_path_t) { NULL, arr_0_idx, path, NULL };
            // .'$Model#Array'.0
            // .'$Model#Array'.0.'|'.0
            res = json_model_32(arr_0_item, (path ? &arr_0_lpath : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Array'.0.'|'.0]", (path ? &arr_0_lpath : NULL));
            }
            if (! res)
            {
                // .'$Model#Array'.0.'|'.1
                res = json_model_6(arr_0_item, (path ? &arr_0_lpath : NULL), rep);
                if (! res)
                {
                    if (rep) jm_report_add_entry(rep, "unexpected $Comment [.'$Model#Array'.0.'|'.1]", (path ? &arr_0_lpath : NULL));
                }
            }
            if (res)
            {
                if (rep) jm_report_free_entries(rep);
            }
            else
            {
                if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Array'.0.'|']", (path ? &arr_0_lpath : NULL));
            }
            if (! res)
            {
                break;
            }
        }
    }
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Array']", path);
    }
    return res;
}

// check $Model#Comment (.'$Model#Comment')
static bool json_model_6(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Comment'
    // "/^#/"
    res = json_is_string(val) && strncmp(json_string_value(val), "#", strlen("#")) == 0;
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected /^#/ [.'$Model#Comment']", path);
    }
    return res;
}

// check $Model#ScalarModel (.'$Model#ScalarModel')
static bool json_model_31(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#ScalarModel'
    // .'$Model#ScalarModel'.'|'.0
    res = json_model_14(val, path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected $ValModel [.'$Model#ScalarModel'.'|'.0]", path);
    }
    if (! res)
    {
        // .'$Model#ScalarModel'.'|'.1
        res = json_model_15(val, path, rep);
        if (! res)
        {
            if (rep) jm_report_add_entry(rep, "unexpected $StrModel [.'$Model#ScalarModel'.'|'.1]", path);
        }
    }
    if (res)
    {
        if (rep) jm_report_free_entries(rep);
    }
    else
    {
        if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#ScalarModel'.'|']", path);
    }
    return res;
}

static bool _jm_cst_0_test(const json_t *val)
{
  jm_constant_t cst;
  jm_set_cst(&cst, val);
  return jm_search_cst(&cst, _jm_cst_0, 8);
}

// check $Model#ValModel (.'$Model#ValModel')
static bool json_model_14(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#ValModel'
    res = jm_json_is_scalar(val) && _jm_cst_0_test(val);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "value not in enum [.'$Model#ValModel'.'|']", path);
    }
    return res;
}

// check $Model#StrModel (.'$Model#StrModel')
static bool json_model_15(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#StrModel'
    // .'$Model#StrModel'.'|'.0
    res = json_model_9(val, path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected $StrConst [.'$Model#StrModel'.'|'.0]", path);
    }
    if (! res)
    {
        // .'$Model#StrModel'.'|'.1
        res = json_model_8(val, path, rep);
        if (! res)
        {
            if (rep) jm_report_add_entry(rep, "unexpected $ValConst [.'$Model#StrModel'.'|'.1]", path);
        }
        if (! res)
        {
            // .'$Model#StrModel'.'|'.2
            res = json_model_10(val, path, rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Regex [.'$Model#StrModel'.'|'.2]", path);
            }
            if (! res)
            {
                // .'$Model#StrModel'.'|'.3
                res = json_model_5(val, path, rep);
                if (! res)
                {
                    if (rep) jm_report_add_entry(rep, "unexpected $PreDef [.'$Model#StrModel'.'|'.3]", path);
                }
                if (! res)
                {
                    // .'$Model#StrModel'.'|'.4
                    res = json_model_7(val, path, rep);
                    if (! res)
                    {
                        if (rep) jm_report_add_entry(rep, "unexpected $Ref [.'$Model#StrModel'.'|'.4]", path);
                    }
                    if (! res)
                    {
                        // .'$Model#StrModel'.'|'.5
                        res = json_is_string(val) && strcmp(json_string_value(val), "") == 0;
                        if (! res)
                        {
                            if (rep) jm_report_add_entry(rep, "unexpected _ [.'$Model#StrModel'.'|'.5]", path);
                        }
                    }
                }
            }
        }
    }
    if (res)
    {
        if (rep) jm_report_free_entries(rep);
    }
    else
    {
        if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#StrModel'.'|']", path);
    }
    return res;
}


// check $Model#PreDef (.'$Model#PreDef')
static bool json_model_5(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#PreDef'
    res = jm_json_is_scalar(val) && json_is_string(val) && jm_search_cst(&(jm_constant_t) { cst_is_string, { .s = json_string_value(val) } }, _jm_cst_1, 24);;
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "value not in enum [.'$Model#PreDef'.'|']", path);
    }
    return res;
}

static bool _jm_re_0(const char *s, jm_path_t *path, jm_report_t *rep)
{
    size_t slen = strlen(s);
    return cre2_match(_jm_re_0_re2, s, slen, 0, slen, CRE2_UNANCHORED, NULL, 0);
}

// check $Model#Ref (.'$Model#Ref')
static bool json_model_7(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Ref'
    // "/^\\$/"
    res = json_is_string(val) && _jm_re_0(json_string_value(val), path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected /^\\$/ [.'$Model#Ref']", path);
    }
    return res;
}

static bool _jm_re_1(const char *s, jm_path_t *path, jm_report_t *rep)
{
    size_t slen = strlen(s);
    return cre2_match(_jm_re_1_re2, s, slen, 0, slen, CRE2_UNANCHORED, NULL, 0);
}

// check $Model#ValConst (.'$Model#ValConst')
static bool json_model_8(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#ValConst'
    // "/^=(null|true|false|-?\\d+(\\.\\d+)?([Ee]-?\\d+)?)$/"
    res = json_is_string(val) && _jm_re_1(json_string_value(val), path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected /^=(null|true|false|-?\\d+(\\.\\d+)?([Ee]-?\\d+)?)$/ [.'$Model#ValConst']", path);
    }
    return res;
}

static bool _jm_re_2(const char *s, jm_path_t *path, jm_report_t *rep)
{
    size_t slen = strlen(s);
    return cre2_match(_jm_re_2_re2, s, slen, 0, slen, CRE2_UNANCHORED, NULL, 0);
}

// check $Model#StrConst (.'$Model#StrConst')
static bool json_model_9(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#StrConst'
    // "/^[_a-zA-Z0-9]/"
    res = json_is_string(val) && _jm_re_2(json_string_value(val), path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected /^[_a-zA-Z0-9]/ [.'$Model#StrConst']", path);
    }
    return res;
}

static bool _jm_xre_0_re(const char *s, jm_path_t *path, jm_report_t *rep)
{
    size_t slen = strlen(s);
    return cre2_match(_jm_xre_0_re_re2, s, slen, 0, slen, CRE2_UNANCHORED, NULL, 0);
}

static bool _jm_xre_0(const char *val, jm_path_t *path, jm_report_t *rep)
{
    size_t extract_size = strlen(val) + 1;
    char extract[extract_size];
    int match_index;
    cre2_string_t matches[_jm_xre_0_re_nn];
    int match = cre2_match(_jm_xre_0_re_re2, val, strlen(val), 0, strlen(val), CRE2_UNANCHORED, matches, _jm_xre_0_re_nn) != 0;
    if (! match)
    {
        return false;
    }
    match_index = cre2_find_named_capturing_groups(_jm_xre_0_re_re2, "s1");
    strncpy(extract, matches[match_index].data, matches[match_index].length);
    extract[matches[match_index].length] = '\0';
    if (! jm_is_valid_regex(extract, false, path, rep))
    {
        return false;
    }
    return true;
}

static bool _jm_xre_1_re(const char *s, jm_path_t *path, jm_report_t *rep)
{
    size_t slen = strlen(s);
    return cre2_match(_jm_xre_1_re_re2, s, slen, 0, slen, CRE2_UNANCHORED, NULL, 0);
}

static bool _jm_xre_1(const char *val, jm_path_t *path, jm_report_t *rep)
{
    size_t extract_size = strlen(val) + 1;
    char extract[extract_size];
    int match_index;
    cre2_string_t matches[_jm_xre_1_re_nn];
    int match = cre2_match(_jm_xre_1_re_re2, val, strlen(val), 0, strlen(val), CRE2_UNANCHORED, matches, _jm_xre_1_re_nn) != 0;
    if (! match)
    {
        return false;
    }
    match_index = cre2_find_named_capturing_groups(_jm_xre_1_re_re2, "s1");
    strncpy(extract, matches[match_index].data, matches[match_index].length);
    extract[matches[match_index].length] = '\0';
    if (! jm_is_valid_regex(extract, true, path, rep))
    {
        return false;
    }
    return true;
}

// check $Model#Regex (.'$Model#Regex')
static bool json_model_10(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Regex'
    res = json_is_string(val);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected type [.'$Model#Regex'.'|']", path);
    }
    if (res)
    {
        // .'$Model#Regex'.'|'.0
        // "/^/($EXREG)/[a-z]*X[a-z]*$/X"
        res = _jm_xre_1(json_string_value(val), path, rep);
        if (! res)
        {
            if (rep) jm_report_add_entry(rep, "unexpected /^/($EXREG)/[a-z]*X[a-z]*$/X [.'$Model#Regex'.'|'.0]", path);
        }
        if (! res)
        {
            // .'$Model#Regex'.'|'.1
            // "/^/($REGEX)/[a-z]*$/X"
            res = _jm_xre_0(json_string_value(val), path, rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected /^/($REGEX)/[a-z]*$/X [.'$Model#Regex'.'|'.1]", path);
            }
        }
        if (res)
        {
            if (rep) jm_report_free_entries(rep);
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Regex'.'|']", path);
        }
    }
    return res;
}

// check $Model#Model (.'$Model#Model')
static bool json_model_32(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Model'
    // .'$Model#Model'.'|'.0
    res = json_model_31(val, path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected $ScalarModel [.'$Model#Model'.'|'.0]", path);
    }
    if (! res)
    {
        // .'$Model#Model'.'|'.1
        res = json_model_19(val, path, rep);
        if (! res)
        {
            if (rep) jm_report_add_entry(rep, "unexpected $Array [.'$Model#Model'.'|'.1]", path);
        }
        if (! res)
        {
            // .'$Model#Model'.'|'.2
            res = json_model_28(val, path, rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Element [.'$Model#Model'.'|'.2]", path);
            }
        }
    }
    if (res)
    {
        if (rep) jm_report_free_entries(rep);
    }
    else
    {
        if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Model'.'|']", path);
    }
    return res;
}

// object .'$Model#Element'.'|'.5.'.schema'
static bool _jm_obj_1(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Element'.'|'.5.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Element'.'|'.5
static bool _jm_obj_0(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Element'.'|'.5]", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_0 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Element'.'|'.5.'.schema'
            res = _jm_obj_1(pval, (path ? &lpath_0 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Element'.'|'.5.'.schema']", (path ? &lpath_0 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Element'.'|'.5.'.schema']", (path ? &lpath_0 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_0 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Element'.'|'.5.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Element'.'|'.5.'$Comment']", (path ? &lpath_0 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_25, prop, (path ? &lpath_0 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Element'.'|'.5.'$Prop'
            res = json_model_32(pval, (path ? &lpath_0 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Element'.'|'.5.'$Prop']", (path ? &lpath_0 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Element'.'|'.5]", (path ? &lpath_0 : NULL));
            return false;
        }
    }
    return true;
}

// object .'$Model#Element'.'|'.4.'.schema'
static bool _jm_obj_3(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Element'.'|'.4.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Element'.'|'.4
static bool _jm_obj_2(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Element'.'|'.4]", path);
        return false;
    }
    bool res;
    int64_t must_count = 0;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_1 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, "+") == 0)
        {
            // handle must + property
            must_count += 1;
            // .'$Model#Element'.'|'.4.'+'
            res = json_is_array(pval);
            if (res)
            {
                size_t arr_1_idx;
                json_t *arr_1_item;
                json_array_foreach(pval, arr_1_idx, arr_1_item)
                {
                    jm_path_t arr_1_lpath = (jm_path_t) { NULL, arr_1_idx, (path ? &lpath_1 : NULL), NULL };
                    // .'$Model#Element'.'|'.4.'+'.0
                    res = json_model_32(arr_1_item, ((path ? &lpath_1 : NULL) ? &arr_1_lpath : NULL), rep);
                    if (! res)
                    {
                        if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Element'.'|'.4.'+'.0]", ((path ? &lpath_1 : NULL) ? &arr_1_lpath : NULL));
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Element'.'|'.4.'+']", (path ? &lpath_1 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid mandatory prop value [.'$Model#Element'.'|'.4.'+']", (path ? &lpath_1 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Element'.'|'.4.'.schema'
            res = _jm_obj_3(pval, (path ? &lpath_1 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Element'.'|'.4.'.schema']", (path ? &lpath_1 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Element'.'|'.4.'.schema']", (path ? &lpath_1 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_1 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Element'.'|'.4.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Element'.'|'.4.'$Comment']", (path ? &lpath_1 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Element'.'|'.4]", (path ? &lpath_1 : NULL));
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep != NULL)
        {
            if (! (json_object_get(val, "+") != NULL))
            {
                if (rep) jm_report_add_entry(rep, "missing mandatory prop <+> [.'$Model#Element'.'|'.4]", path);
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#Element'.'|'.3.'.schema'
static bool _jm_obj_5(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Element'.'|'.3.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Element'.'|'.3
static bool _jm_obj_4(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Element'.'|'.3]", path);
        return false;
    }
    bool res;
    int64_t must_count = 0;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_2 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, "^") == 0)
        {
            // handle must ^ property
            must_count += 1;
            // .'$Model#Element'.'|'.3.'^'
            res = json_is_array(pval);
            if (res)
            {
                size_t arr_2_idx;
                json_t *arr_2_item;
                json_array_foreach(pval, arr_2_idx, arr_2_item)
                {
                    jm_path_t arr_2_lpath = (jm_path_t) { NULL, arr_2_idx, (path ? &lpath_2 : NULL), NULL };
                    // .'$Model#Element'.'|'.3.'^'.0
                    res = json_model_32(arr_2_item, ((path ? &lpath_2 : NULL) ? &arr_2_lpath : NULL), rep);
                    if (! res)
                    {
                        if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Element'.'|'.3.'^'.0]", ((path ? &lpath_2 : NULL) ? &arr_2_lpath : NULL));
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Element'.'|'.3.'^']", (path ? &lpath_2 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid mandatory prop value [.'$Model#Element'.'|'.3.'^']", (path ? &lpath_2 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Element'.'|'.3.'.schema'
            res = _jm_obj_5(pval, (path ? &lpath_2 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Element'.'|'.3.'.schema']", (path ? &lpath_2 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Element'.'|'.3.'.schema']", (path ? &lpath_2 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_2 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Element'.'|'.3.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Element'.'|'.3.'$Comment']", (path ? &lpath_2 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Element'.'|'.3]", (path ? &lpath_2 : NULL));
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep != NULL)
        {
            if (! (json_object_get(val, "^") != NULL))
            {
                if (rep) jm_report_add_entry(rep, "missing mandatory prop <^> [.'$Model#Element'.'|'.3]", path);
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#Element'.'|'.2.'.schema'
static bool _jm_obj_7(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Element'.'|'.2.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Element'.'|'.2
static bool _jm_obj_6(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Element'.'|'.2]", path);
        return false;
    }
    bool res;
    int64_t must_count = 0;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_3 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, "&") == 0)
        {
            // handle must & property
            must_count += 1;
            // .'$Model#Element'.'|'.2.'&'
            res = json_is_array(pval);
            if (res)
            {
                size_t arr_3_idx;
                json_t *arr_3_item;
                json_array_foreach(pval, arr_3_idx, arr_3_item)
                {
                    jm_path_t arr_3_lpath = (jm_path_t) { NULL, arr_3_idx, (path ? &lpath_3 : NULL), NULL };
                    // .'$Model#Element'.'|'.2.'&'.0
                    res = json_model_32(arr_3_item, ((path ? &lpath_3 : NULL) ? &arr_3_lpath : NULL), rep);
                    if (! res)
                    {
                        if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Element'.'|'.2.'&'.0]", ((path ? &lpath_3 : NULL) ? &arr_3_lpath : NULL));
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Element'.'|'.2.'&']", (path ? &lpath_3 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid mandatory prop value [.'$Model#Element'.'|'.2.'&']", (path ? &lpath_3 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Element'.'|'.2.'.schema'
            res = _jm_obj_7(pval, (path ? &lpath_3 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Element'.'|'.2.'.schema']", (path ? &lpath_3 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Element'.'|'.2.'.schema']", (path ? &lpath_3 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_3 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Element'.'|'.2.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Element'.'|'.2.'$Comment']", (path ? &lpath_3 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Element'.'|'.2]", (path ? &lpath_3 : NULL));
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep != NULL)
        {
            if (! (json_object_get(val, "&") != NULL))
            {
                if (rep) jm_report_add_entry(rep, "missing mandatory prop <&> [.'$Model#Element'.'|'.2]", path);
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#Element'.'|'.1.'.schema'
static bool _jm_obj_9(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Element'.'|'.1.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Element'.'|'.1
static bool _jm_obj_8(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Element'.'|'.1]", path);
        return false;
    }
    bool res;
    int64_t must_count = 0;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_4 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, "|") == 0)
        {
            // handle must | property
            must_count += 1;
            // .'$Model#Element'.'|'.1.'|'
            res = json_is_array(pval);
            if (res)
            {
                size_t arr_4_idx;
                json_t *arr_4_item;
                json_array_foreach(pval, arr_4_idx, arr_4_item)
                {
                    jm_path_t arr_4_lpath = (jm_path_t) { NULL, arr_4_idx, (path ? &lpath_4 : NULL), NULL };
                    // .'$Model#Element'.'|'.1.'|'.0
                    res = json_model_32(arr_4_item, ((path ? &lpath_4 : NULL) ? &arr_4_lpath : NULL), rep);
                    if (! res)
                    {
                        if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Element'.'|'.1.'|'.0]", ((path ? &lpath_4 : NULL) ? &arr_4_lpath : NULL));
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Element'.'|'.1.'|']", (path ? &lpath_4 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid mandatory prop value [.'$Model#Element'.'|'.1.'|']", (path ? &lpath_4 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Element'.'|'.1.'.schema'
            res = _jm_obj_9(pval, (path ? &lpath_4 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Element'.'|'.1.'.schema']", (path ? &lpath_4 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Element'.'|'.1.'.schema']", (path ? &lpath_4 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_4 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Element'.'|'.1.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Element'.'|'.1.'$Comment']", (path ? &lpath_4 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Element'.'|'.1]", (path ? &lpath_4 : NULL));
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep != NULL)
        {
            if (! (json_object_get(val, "|") != NULL))
            {
                if (rep) jm_report_add_entry(rep, "missing mandatory prop <|> [.'$Model#Element'.'|'.1]", path);
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#Element'.'|'.0.'.schema'
static bool _jm_obj_11(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Element'.'|'.0.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

static bool _jm_re_3(const char *s, jm_path_t *path, jm_report_t *rep)
{
    size_t slen = strlen(s);
    return cre2_match(_jm_re_3_re2, s, slen, 0, slen, CRE2_UNANCHORED, NULL, 0);
}

static bool _jm_re_4(const char *s, jm_path_t *path, jm_report_t *rep)
{
    size_t slen = strlen(s);
    return cre2_match(_jm_re_4_re2, s, slen, 0, slen, CRE2_UNANCHORED, NULL, 0);
}

// object .'$Model#Element'.'|'.0
static bool _jm_obj_10(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Element'.'|'.0]", path);
        return false;
    }
    bool res;
    int64_t must_count = 0;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_5 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, "@") == 0)
        {
            // handle must @ property
            must_count += 1;
            // .'$Model#Element'.'|'.0.'@'
            res = json_model_32(pval, (path ? &lpath_5 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Element'.'|'.0.'@']", (path ? &lpath_5 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid mandatory prop value [.'$Model#Element'.'|'.0.'@']", (path ? &lpath_5 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Element'.'|'.0.'.schema'
            res = _jm_obj_11(pval, (path ? &lpath_5 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Element'.'|'.0.'.schema']", (path ? &lpath_5 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Element'.'|'.0.'.schema']", (path ? &lpath_5 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "!") == 0)
        {
            // handle may ! property
            // .'$Model#Element'.'|'.0.'!'
            res = json_is_boolean(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "not a bool [.'$Model#Element'.'|'.0.'!']", (path ? &lpath_5 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Element'.'|'.0.'!']", (path ? &lpath_5 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, ".mo") == 0)
        {
            // handle may .mo property
            // .'$Model#Element'.'|'.0.'.mo'
            res = json_is_integer(pval) && json_integer_value(pval) >= 1;
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "not a 1 strict int [.'$Model#Element'.'|'.0.'.mo']", (path ? &lpath_5 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Element'.'|'.0.'.mo']", (path ? &lpath_5 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, ".in") == 0)
        {
            // handle may .in property
            // .'$Model#Element'.'|'.0.'.in'
            res = json_model_32(pval, (path ? &lpath_5 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Element'.'|'.0.'.in']", (path ? &lpath_5 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Element'.'|'.0.'.in']", (path ? &lpath_5 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_5 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Element'.'|'.0.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Element'.'|'.0.'$Comment']", (path ? &lpath_5 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_3(prop, path, rep))
        {
            // handle 2 re props
            // .'$Model#Element'.'|'.0.'/^(<=|>=|<|>)$/'
            res = json_model_12(pval, (path ? &lpath_5 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $CmpValue [.'$Model#Element'.'|'.0.'/^(<=|>=|<|>)$/']", (path ? &lpath_5 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_4(prop, path, rep))
        {
            // handle 2 re props
            // .'$Model#Element'.'|'.0.'/^(=|!=)$/'
            res = json_model_13(pval, (path ? &lpath_5 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $EqValue [.'$Model#Element'.'|'.0.'/^(=|!=)$/']", (path ? &lpath_5 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Element'.'|'.0]", (path ? &lpath_5 : NULL));
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep != NULL)
        {
            if (! (json_object_get(val, "@") != NULL))
            {
                if (rep) jm_report_add_entry(rep, "missing mandatory prop <@> [.'$Model#Element'.'|'.0]", path);
            }
        }
        return false;
    }
    return true;
}

// check $Model#Element (.'$Model#Element')
static bool json_model_28(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Element'
    res = json_is_object(val);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected type [.'$Model#Element'.'|']", path);
    }
    if (res)
    {
        // .'$Model#Element'.'|'.0
        res = _jm_obj_10(val, path, rep);
        if (! res)
        {
            if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Element'.'|'.0]", path);
        }
        if (! res)
        {
            // .'$Model#Element'.'|'.1
            res = _jm_obj_8(val, path, rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Element'.'|'.1]", path);
            }
            if (! res)
            {
                // .'$Model#Element'.'|'.2
                res = _jm_obj_6(val, path, rep);
                if (! res)
                {
                    if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Element'.'|'.2]", path);
                }
                if (! res)
                {
                    // .'$Model#Element'.'|'.3
                    res = _jm_obj_4(val, path, rep);
                    if (! res)
                    {
                        if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Element'.'|'.3]", path);
                    }
                    if (! res)
                    {
                        // .'$Model#Element'.'|'.4
                        res = _jm_obj_2(val, path, rep);
                        if (! res)
                        {
                            if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Element'.'|'.4]", path);
                        }
                        if (! res)
                        {
                            // .'$Model#Element'.'|'.5
                            res = _jm_obj_0(val, path, rep);
                            if (! res)
                            {
                                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Element'.'|'.5]", path);
                            }
                        }
                    }
                }
            }
        }
        if (res)
        {
            if (rep) jm_report_free_entries(rep);
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Element'.'|']", path);
        }
    }
    return res;
}

// check $Model#CmpValue (.'$Model#CmpValue')
static bool json_model_12(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#CmpValue'
    // .'$Model#CmpValue'.'|'.0
    res = json_is_integer(val);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "not a -1 strict int [.'$Model#CmpValue'.'|'.0]", path);
    }
    if (! res)
    {
        // .'$Model#CmpValue'.'|'.1
        res = json_is_real(val);
        if (! res)
        {
            if (rep) jm_report_add_entry(rep, "not a -1.0 strict float [.'$Model#CmpValue'.'|'.1]", path);
        }
        if (! res)
        {
            // .'$Model#CmpValue'.'|'.2
            res = json_is_string(val);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#CmpValue'.'|'.2]", path);
            }
        }
    }
    if (res)
    {
        if (rep) jm_report_free_entries(rep);
    }
    else
    {
        if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#CmpValue'.'|']", path);
    }
    return res;
}

// check $Model#EqValue (.'$Model#EqValue')
static bool json_model_13(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#EqValue'
    // .'$Model#EqValue'.'|'.0
    res = json_is_null(val);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "not null [.'$Model#EqValue'.'|'.0]", path);
    }
    if (! res)
    {
        // .'$Model#EqValue'.'|'.1
        res = json_is_boolean(val);
        if (! res)
        {
            if (rep) jm_report_add_entry(rep, "not a bool [.'$Model#EqValue'.'|'.1]", path);
        }
        if (! res)
        {
            // .'$Model#EqValue'.'|'.2
            res = json_model_12(val, path, rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $CmpValue [.'$Model#EqValue'.'|'.2]", path);
            }
        }
    }
    if (res)
    {
        if (rep) jm_report_free_entries(rep);
    }
    else
    {
        if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#EqValue'.'|']", path);
    }
    return res;
}

static bool _jm_re_5(const char *s, jm_path_t *path, jm_report_t *rep)
{
    size_t slen = strlen(s);
    return cre2_match(_jm_re_5_re2, s, slen, 0, slen, CRE2_UNANCHORED, NULL, 0);
}

// check $Model#Prop (.'$Model#Prop')
static bool json_model_25(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Prop'
    // .'$Model#Prop'.'|'.0
    // "/^[?!]/"
    res = json_is_string(val) && _jm_re_5(json_string_value(val), path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected /^[?!]/ [.'$Model#Prop'.'|'.0]", path);
    }
    if (! res)
    {
        // .'$Model#Prop'.'|'.1
        res = json_model_9(val, path, rep);
        if (! res)
        {
            if (rep) jm_report_add_entry(rep, "unexpected $StrConst [.'$Model#Prop'.'|'.1]", path);
        }
        if (! res)
        {
            // .'$Model#Prop'.'|'.2
            res = json_model_10(val, path, rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Regex [.'$Model#Prop'.'|'.2]", path);
            }
            if (! res)
            {
                // .'$Model#Prop'.'|'.3
                res = json_model_7(val, path, rep);
                if (! res)
                {
                    if (rep) jm_report_add_entry(rep, "unexpected $Ref [.'$Model#Prop'.'|'.3]", path);
                }
                if (! res)
                {
                    // .'$Model#Prop'.'|'.4
                    res = json_model_11(val, path, rep);
                    if (! res)
                    {
                        if (rep) jm_report_add_entry(rep, "unexpected $Name [.'$Model#Prop'.'|'.4]", path);
                    }
                    if (! res)
                    {
                        // .'$Model#Prop'.'|'.5
                        res = json_is_string(val) && strcmp(json_string_value(val), "") == 0;
                        if (! res)
                        {
                            if (rep) jm_report_add_entry(rep, "unexpected _ [.'$Model#Prop'.'|'.5]", path);
                        }
                    }
                }
            }
        }
    }
    if (res)
    {
        if (rep) jm_report_free_entries(rep);
    }
    else
    {
        if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Prop'.'|']", path);
    }
    return res;
}

static bool _jm_re_6(const char *s, jm_path_t *path, jm_report_t *rep)
{
    size_t slen = strlen(s);
    return cre2_match(_jm_re_6_re2, s, slen, 0, slen, CRE2_UNANCHORED, NULL, 0);
}

// check $Model#Name (.'$Model#Name')
static bool json_model_11(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Name'
    // "/^\\..+$/"
    res = json_is_string(val) && _jm_re_6(json_string_value(val), path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected /^\\..+$/ [.'$Model#Name']", path);
    }
    return res;
}

// object .'$Model#Root'.'|'.5.'$'.'.schema'
static bool _jm_obj_14(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.5.'$'.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

static bool _jm_re_7(const char *s, jm_path_t *path, jm_report_t *rep)
{
    size_t slen = strlen(s);
    return cre2_match(_jm_re_7_re2, s, slen, 0, slen, CRE2_UNANCHORED, NULL, 0);
}

// object .'$Model#Root'.'|'.5.'$'
static bool _jm_obj_13(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.5.'$']", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_7 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.5.'$'.'.schema'
            res = _jm_obj_14(pval, (path ? &lpath_7 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.5.'$'.'.schema']", (path ? &lpath_7 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.5.'$'.'.schema']", (path ? &lpath_7 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "") == 0)
        {
            // handle may  property
            // .'$Model#Root'.'|'.5.'$'.''
            res = json_model_4(pval, (path ? &lpath_7 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Url [.'$Model#Root'.'|'.5.'$'.'']", (path ? &lpath_7 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.5.'$'.'']", (path ? &lpath_7 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_7 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Root'.'|'.5.'$'.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.5.'$'.'$Comment']", (path ? &lpath_7 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_7(prop, path, rep))
        {
            // handle 1 re props
            // .'$Model#Root'.'|'.5.'$'.'/./'
            res = json_model_32(pval, (path ? &lpath_7 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Root'.'|'.5.'$'.'/./']", (path ? &lpath_7 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.5.'$']", (path ? &lpath_7 : NULL));
            return false;
        }
    }
    return true;
}

// object .'$Model#Root'.'|'.5.'%'.'.schema'
static bool _jm_obj_16(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.5.'%'.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

static bool _jm_re_8(const char *s, jm_path_t *path, jm_report_t *rep)
{
    size_t slen = strlen(s);
    return cre2_match(_jm_re_8_re2, s, slen, 0, slen, CRE2_UNANCHORED, NULL, 0);
}

static bool _jm_re_9(const char *s, jm_path_t *path, jm_report_t *rep)
{
    size_t slen = strlen(s);
    return cre2_match(_jm_re_9_re2, s, slen, 0, slen, CRE2_UNANCHORED, NULL, 0);
}

// object .'$Model#Root'.'|'.5.'%'
static bool _jm_obj_15(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.5.'%']", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_8 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.5.'%'.'.schema'
            res = _jm_obj_16(pval, (path ? &lpath_8 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.5.'%'.'.schema']", (path ? &lpath_8 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.5.'%'.'.schema']", (path ? &lpath_8 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "<") == 0)
        {
            // handle may < property
            // .'$Model#Root'.'|'.5.'%'.'<'
            // .'$Model#Root'.'|'.5.'%'.'<'.'|'.0
            res = json_model_7(pval, (path ? &lpath_8 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Ref [.'$Model#Root'.'|'.5.'%'.'<'.'|'.0]", (path ? &lpath_8 : NULL));
            }
            if (! res)
            {
                // .'$Model#Root'.'|'.5.'%'.'<'.'|'.1
                res = json_is_array(pval);
                if (res)
                {
                    size_t arr_5_idx;
                    json_t *arr_5_item;
                    json_array_foreach(pval, arr_5_idx, arr_5_item)
                    {
                        jm_path_t arr_5_lpath = (jm_path_t) { NULL, arr_5_idx, (path ? &lpath_8 : NULL), NULL };
                        // .'$Model#Root'.'|'.5.'%'.'<'.'|'.1.0
                        res = json_model_7(arr_5_item, ((path ? &lpath_8 : NULL) ? &arr_5_lpath : NULL), rep);
                        if (! res)
                        {
                            if (rep) jm_report_add_entry(rep, "unexpected $Ref [.'$Model#Root'.'|'.5.'%'.'<'.'|'.1.0]", ((path ? &lpath_8 : NULL) ? &arr_5_lpath : NULL));
                        }
                        if (! res)
                        {
                            break;
                        }
                    }
                }
                if (! res)
                {
                    if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Root'.'|'.5.'%'.'<'.'|'.1]", (path ? &lpath_8 : NULL));
                }
            }
            if (res)
            {
                if (rep) jm_report_free_entries(rep);
            }
            else
            {
                if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Root'.'|'.5.'%'.'<'.'|']", (path ? &lpath_8 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.5.'%'.'<']", (path ? &lpath_8 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_8 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Root'.'|'.5.'%'.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.5.'%'.'$Comment']", (path ? &lpath_8 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_11, prop, (path ? &lpath_8 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Root'.'|'.5.'%'.'$Name'
            // "/^([#|&^+/*@~=$%]|[<>!]=?)$/"
            res = json_is_string(pval) && _jm_re_8(json_string_value(pval), (path ? &lpath_8 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected /^([#|&^+/*@~=$%]|[<>!]=?)$/ [.'$Model#Root'.'|'.5.'%'.'$Name']", (path ? &lpath_8 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_9(prop, path, rep))
        {
            // handle 1 re props
            // .'$Model#Root'.'|'.5.'%'.'/^\\$.*$/'
            res = json_model_30(pval, (path ? &lpath_8 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Transformation [.'$Model#Root'.'|'.5.'%'.'/^\\\\$.*$/']", (path ? &lpath_8 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.5.'%']", (path ? &lpath_8 : NULL));
            return false;
        }
    }
    return true;
}

// object .'$Model#Root'.'|'.5.'.schema'
static bool _jm_obj_17(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.5.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.5
static bool _jm_obj_12(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.5]", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_6 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, "~") == 0)
        {
            // handle may ~ property
            // .'$Model#Root'.'|'.5.'~'
            res = json_model_4(pval, (path ? &lpath_6 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Url [.'$Model#Root'.'|'.5.'~']", (path ? &lpath_6 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.5.'~']", (path ? &lpath_6 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "$") == 0)
        {
            // handle may $ property
            // .'$Model#Root'.'|'.5.'$'
            res = _jm_obj_13(pval, (path ? &lpath_6 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.5.'$']", (path ? &lpath_6 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.5.'$']", (path ? &lpath_6 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "%") == 0)
        {
            // handle may % property
            // .'$Model#Root'.'|'.5.'%'
            res = _jm_obj_15(pval, (path ? &lpath_6 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.5.'%']", (path ? &lpath_6 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.5.'%']", (path ? &lpath_6 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.5.'.schema'
            res = _jm_obj_17(pval, (path ? &lpath_6 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.5.'.schema']", (path ? &lpath_6 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.5.'.schema']", (path ? &lpath_6 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_6 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Root'.'|'.5.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.5.'$Comment']", (path ? &lpath_6 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_25, prop, (path ? &lpath_6 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Root'.'|'.5.'$Prop'
            res = json_model_32(pval, (path ? &lpath_6 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Root'.'|'.5.'$Prop']", (path ? &lpath_6 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.5]", (path ? &lpath_6 : NULL));
            return false;
        }
    }
    return true;
}

// object .'$Model#Root'.'|'.4.'$'.'.schema'
static bool _jm_obj_20(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.4.'$'.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.4.'$'
static bool _jm_obj_19(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.4.'$']", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_10 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.4.'$'.'.schema'
            res = _jm_obj_20(pval, (path ? &lpath_10 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.4.'$'.'.schema']", (path ? &lpath_10 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.4.'$'.'.schema']", (path ? &lpath_10 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "") == 0)
        {
            // handle may  property
            // .'$Model#Root'.'|'.4.'$'.''
            res = json_model_4(pval, (path ? &lpath_10 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Url [.'$Model#Root'.'|'.4.'$'.'']", (path ? &lpath_10 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.4.'$'.'']", (path ? &lpath_10 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_10 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Root'.'|'.4.'$'.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.4.'$'.'$Comment']", (path ? &lpath_10 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_7(prop, path, rep))
        {
            // handle 1 re props
            // .'$Model#Root'.'|'.4.'$'.'/./'
            res = json_model_32(pval, (path ? &lpath_10 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Root'.'|'.4.'$'.'/./']", (path ? &lpath_10 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.4.'$']", (path ? &lpath_10 : NULL));
            return false;
        }
    }
    return true;
}

// object .'$Model#Root'.'|'.4.'%'.'.schema'
static bool _jm_obj_22(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.4.'%'.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.4.'%'
static bool _jm_obj_21(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.4.'%']", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_11 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.4.'%'.'.schema'
            res = _jm_obj_22(pval, (path ? &lpath_11 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.4.'%'.'.schema']", (path ? &lpath_11 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.4.'%'.'.schema']", (path ? &lpath_11 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "<") == 0)
        {
            // handle may < property
            // .'$Model#Root'.'|'.4.'%'.'<'
            // .'$Model#Root'.'|'.4.'%'.'<'.'|'.0
            res = json_model_7(pval, (path ? &lpath_11 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Ref [.'$Model#Root'.'|'.4.'%'.'<'.'|'.0]", (path ? &lpath_11 : NULL));
            }
            if (! res)
            {
                // .'$Model#Root'.'|'.4.'%'.'<'.'|'.1
                res = json_is_array(pval);
                if (res)
                {
                    size_t arr_7_idx;
                    json_t *arr_7_item;
                    json_array_foreach(pval, arr_7_idx, arr_7_item)
                    {
                        jm_path_t arr_7_lpath = (jm_path_t) { NULL, arr_7_idx, (path ? &lpath_11 : NULL), NULL };
                        // .'$Model#Root'.'|'.4.'%'.'<'.'|'.1.0
                        res = json_model_7(arr_7_item, ((path ? &lpath_11 : NULL) ? &arr_7_lpath : NULL), rep);
                        if (! res)
                        {
                            if (rep) jm_report_add_entry(rep, "unexpected $Ref [.'$Model#Root'.'|'.4.'%'.'<'.'|'.1.0]", ((path ? &lpath_11 : NULL) ? &arr_7_lpath : NULL));
                        }
                        if (! res)
                        {
                            break;
                        }
                    }
                }
                if (! res)
                {
                    if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Root'.'|'.4.'%'.'<'.'|'.1]", (path ? &lpath_11 : NULL));
                }
            }
            if (res)
            {
                if (rep) jm_report_free_entries(rep);
            }
            else
            {
                if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Root'.'|'.4.'%'.'<'.'|']", (path ? &lpath_11 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.4.'%'.'<']", (path ? &lpath_11 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_11 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Root'.'|'.4.'%'.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.4.'%'.'$Comment']", (path ? &lpath_11 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_11, prop, (path ? &lpath_11 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Root'.'|'.4.'%'.'$Name'
            // "/^([#|&^+/*@~=$%]|[<>!]=?)$/"
            res = json_is_string(pval) && _jm_re_8(json_string_value(pval), (path ? &lpath_11 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected /^([#|&^+/*@~=$%]|[<>!]=?)$/ [.'$Model#Root'.'|'.4.'%'.'$Name']", (path ? &lpath_11 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_9(prop, path, rep))
        {
            // handle 1 re props
            // .'$Model#Root'.'|'.4.'%'.'/^\\$.*$/'
            res = json_model_30(pval, (path ? &lpath_11 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Transformation [.'$Model#Root'.'|'.4.'%'.'/^\\\\$.*$/']", (path ? &lpath_11 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.4.'%']", (path ? &lpath_11 : NULL));
            return false;
        }
    }
    return true;
}

// object .'$Model#Root'.'|'.4.'.schema'
static bool _jm_obj_23(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.4.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.4
static bool _jm_obj_18(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.4]", path);
        return false;
    }
    bool res;
    int64_t must_count = 0;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_9 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, "+") == 0)
        {
            // handle must + property
            must_count += 1;
            // .'$Model#Root'.'|'.4.'+'
            res = json_is_array(pval);
            if (res)
            {
                size_t arr_6_idx;
                json_t *arr_6_item;
                json_array_foreach(pval, arr_6_idx, arr_6_item)
                {
                    jm_path_t arr_6_lpath = (jm_path_t) { NULL, arr_6_idx, (path ? &lpath_9 : NULL), NULL };
                    // .'$Model#Root'.'|'.4.'+'.0
                    res = json_model_32(arr_6_item, ((path ? &lpath_9 : NULL) ? &arr_6_lpath : NULL), rep);
                    if (! res)
                    {
                        if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Root'.'|'.4.'+'.0]", ((path ? &lpath_9 : NULL) ? &arr_6_lpath : NULL));
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Root'.'|'.4.'+']", (path ? &lpath_9 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid mandatory prop value [.'$Model#Root'.'|'.4.'+']", (path ? &lpath_9 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "~") == 0)
        {
            // handle may ~ property
            // .'$Model#Root'.'|'.4.'~'
            res = json_model_4(pval, (path ? &lpath_9 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Url [.'$Model#Root'.'|'.4.'~']", (path ? &lpath_9 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.4.'~']", (path ? &lpath_9 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "$") == 0)
        {
            // handle may $ property
            // .'$Model#Root'.'|'.4.'$'
            res = _jm_obj_19(pval, (path ? &lpath_9 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.4.'$']", (path ? &lpath_9 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.4.'$']", (path ? &lpath_9 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "%") == 0)
        {
            // handle may % property
            // .'$Model#Root'.'|'.4.'%'
            res = _jm_obj_21(pval, (path ? &lpath_9 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.4.'%']", (path ? &lpath_9 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.4.'%']", (path ? &lpath_9 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.4.'.schema'
            res = _jm_obj_23(pval, (path ? &lpath_9 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.4.'.schema']", (path ? &lpath_9 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.4.'.schema']", (path ? &lpath_9 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_9 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Root'.'|'.4.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.4.'$Comment']", (path ? &lpath_9 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.4]", (path ? &lpath_9 : NULL));
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep != NULL)
        {
            if (! (json_object_get(val, "+") != NULL))
            {
                if (rep) jm_report_add_entry(rep, "missing mandatory prop <+> [.'$Model#Root'.'|'.4]", path);
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#Root'.'|'.3.'$'.'.schema'
static bool _jm_obj_26(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.3.'$'.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.3.'$'
static bool _jm_obj_25(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.3.'$']", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_13 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.3.'$'.'.schema'
            res = _jm_obj_26(pval, (path ? &lpath_13 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.3.'$'.'.schema']", (path ? &lpath_13 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.3.'$'.'.schema']", (path ? &lpath_13 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "") == 0)
        {
            // handle may  property
            // .'$Model#Root'.'|'.3.'$'.''
            res = json_model_4(pval, (path ? &lpath_13 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Url [.'$Model#Root'.'|'.3.'$'.'']", (path ? &lpath_13 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.3.'$'.'']", (path ? &lpath_13 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_13 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Root'.'|'.3.'$'.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.3.'$'.'$Comment']", (path ? &lpath_13 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_7(prop, path, rep))
        {
            // handle 1 re props
            // .'$Model#Root'.'|'.3.'$'.'/./'
            res = json_model_32(pval, (path ? &lpath_13 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Root'.'|'.3.'$'.'/./']", (path ? &lpath_13 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.3.'$']", (path ? &lpath_13 : NULL));
            return false;
        }
    }
    return true;
}

// object .'$Model#Root'.'|'.3.'%'.'.schema'
static bool _jm_obj_28(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.3.'%'.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.3.'%'
static bool _jm_obj_27(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.3.'%']", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_14 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.3.'%'.'.schema'
            res = _jm_obj_28(pval, (path ? &lpath_14 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.3.'%'.'.schema']", (path ? &lpath_14 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.3.'%'.'.schema']", (path ? &lpath_14 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "<") == 0)
        {
            // handle may < property
            // .'$Model#Root'.'|'.3.'%'.'<'
            // .'$Model#Root'.'|'.3.'%'.'<'.'|'.0
            res = json_model_7(pval, (path ? &lpath_14 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Ref [.'$Model#Root'.'|'.3.'%'.'<'.'|'.0]", (path ? &lpath_14 : NULL));
            }
            if (! res)
            {
                // .'$Model#Root'.'|'.3.'%'.'<'.'|'.1
                res = json_is_array(pval);
                if (res)
                {
                    size_t arr_9_idx;
                    json_t *arr_9_item;
                    json_array_foreach(pval, arr_9_idx, arr_9_item)
                    {
                        jm_path_t arr_9_lpath = (jm_path_t) { NULL, arr_9_idx, (path ? &lpath_14 : NULL), NULL };
                        // .'$Model#Root'.'|'.3.'%'.'<'.'|'.1.0
                        res = json_model_7(arr_9_item, ((path ? &lpath_14 : NULL) ? &arr_9_lpath : NULL), rep);
                        if (! res)
                        {
                            if (rep) jm_report_add_entry(rep, "unexpected $Ref [.'$Model#Root'.'|'.3.'%'.'<'.'|'.1.0]", ((path ? &lpath_14 : NULL) ? &arr_9_lpath : NULL));
                        }
                        if (! res)
                        {
                            break;
                        }
                    }
                }
                if (! res)
                {
                    if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Root'.'|'.3.'%'.'<'.'|'.1]", (path ? &lpath_14 : NULL));
                }
            }
            if (res)
            {
                if (rep) jm_report_free_entries(rep);
            }
            else
            {
                if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Root'.'|'.3.'%'.'<'.'|']", (path ? &lpath_14 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.3.'%'.'<']", (path ? &lpath_14 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_14 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Root'.'|'.3.'%'.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.3.'%'.'$Comment']", (path ? &lpath_14 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_11, prop, (path ? &lpath_14 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Root'.'|'.3.'%'.'$Name'
            // "/^([#|&^+/*@~=$%]|[<>!]=?)$/"
            res = json_is_string(pval) && _jm_re_8(json_string_value(pval), (path ? &lpath_14 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected /^([#|&^+/*@~=$%]|[<>!]=?)$/ [.'$Model#Root'.'|'.3.'%'.'$Name']", (path ? &lpath_14 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_9(prop, path, rep))
        {
            // handle 1 re props
            // .'$Model#Root'.'|'.3.'%'.'/^\\$.*$/'
            res = json_model_30(pval, (path ? &lpath_14 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Transformation [.'$Model#Root'.'|'.3.'%'.'/^\\\\$.*$/']", (path ? &lpath_14 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.3.'%']", (path ? &lpath_14 : NULL));
            return false;
        }
    }
    return true;
}

// object .'$Model#Root'.'|'.3.'.schema'
static bool _jm_obj_29(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.3.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.3
static bool _jm_obj_24(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.3]", path);
        return false;
    }
    bool res;
    int64_t must_count = 0;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_12 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, "^") == 0)
        {
            // handle must ^ property
            must_count += 1;
            // .'$Model#Root'.'|'.3.'^'
            res = json_is_array(pval);
            if (res)
            {
                size_t arr_8_idx;
                json_t *arr_8_item;
                json_array_foreach(pval, arr_8_idx, arr_8_item)
                {
                    jm_path_t arr_8_lpath = (jm_path_t) { NULL, arr_8_idx, (path ? &lpath_12 : NULL), NULL };
                    // .'$Model#Root'.'|'.3.'^'.0
                    res = json_model_32(arr_8_item, ((path ? &lpath_12 : NULL) ? &arr_8_lpath : NULL), rep);
                    if (! res)
                    {
                        if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Root'.'|'.3.'^'.0]", ((path ? &lpath_12 : NULL) ? &arr_8_lpath : NULL));
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Root'.'|'.3.'^']", (path ? &lpath_12 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid mandatory prop value [.'$Model#Root'.'|'.3.'^']", (path ? &lpath_12 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "~") == 0)
        {
            // handle may ~ property
            // .'$Model#Root'.'|'.3.'~'
            res = json_model_4(pval, (path ? &lpath_12 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Url [.'$Model#Root'.'|'.3.'~']", (path ? &lpath_12 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.3.'~']", (path ? &lpath_12 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "$") == 0)
        {
            // handle may $ property
            // .'$Model#Root'.'|'.3.'$'
            res = _jm_obj_25(pval, (path ? &lpath_12 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.3.'$']", (path ? &lpath_12 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.3.'$']", (path ? &lpath_12 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "%") == 0)
        {
            // handle may % property
            // .'$Model#Root'.'|'.3.'%'
            res = _jm_obj_27(pval, (path ? &lpath_12 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.3.'%']", (path ? &lpath_12 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.3.'%']", (path ? &lpath_12 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.3.'.schema'
            res = _jm_obj_29(pval, (path ? &lpath_12 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.3.'.schema']", (path ? &lpath_12 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.3.'.schema']", (path ? &lpath_12 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_12 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Root'.'|'.3.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.3.'$Comment']", (path ? &lpath_12 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.3]", (path ? &lpath_12 : NULL));
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep != NULL)
        {
            if (! (json_object_get(val, "^") != NULL))
            {
                if (rep) jm_report_add_entry(rep, "missing mandatory prop <^> [.'$Model#Root'.'|'.3]", path);
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#Root'.'|'.2.'$'.'.schema'
static bool _jm_obj_32(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.2.'$'.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.2.'$'
static bool _jm_obj_31(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.2.'$']", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_16 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.2.'$'.'.schema'
            res = _jm_obj_32(pval, (path ? &lpath_16 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.2.'$'.'.schema']", (path ? &lpath_16 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.2.'$'.'.schema']", (path ? &lpath_16 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "") == 0)
        {
            // handle may  property
            // .'$Model#Root'.'|'.2.'$'.''
            res = json_model_4(pval, (path ? &lpath_16 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Url [.'$Model#Root'.'|'.2.'$'.'']", (path ? &lpath_16 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.2.'$'.'']", (path ? &lpath_16 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_16 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Root'.'|'.2.'$'.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.2.'$'.'$Comment']", (path ? &lpath_16 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_7(prop, path, rep))
        {
            // handle 1 re props
            // .'$Model#Root'.'|'.2.'$'.'/./'
            res = json_model_32(pval, (path ? &lpath_16 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Root'.'|'.2.'$'.'/./']", (path ? &lpath_16 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.2.'$']", (path ? &lpath_16 : NULL));
            return false;
        }
    }
    return true;
}

// object .'$Model#Root'.'|'.2.'%'.'.schema'
static bool _jm_obj_34(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.2.'%'.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.2.'%'
static bool _jm_obj_33(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.2.'%']", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_17 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.2.'%'.'.schema'
            res = _jm_obj_34(pval, (path ? &lpath_17 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.2.'%'.'.schema']", (path ? &lpath_17 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.2.'%'.'.schema']", (path ? &lpath_17 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "<") == 0)
        {
            // handle may < property
            // .'$Model#Root'.'|'.2.'%'.'<'
            // .'$Model#Root'.'|'.2.'%'.'<'.'|'.0
            res = json_model_7(pval, (path ? &lpath_17 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Ref [.'$Model#Root'.'|'.2.'%'.'<'.'|'.0]", (path ? &lpath_17 : NULL));
            }
            if (! res)
            {
                // .'$Model#Root'.'|'.2.'%'.'<'.'|'.1
                res = json_is_array(pval);
                if (res)
                {
                    size_t arr_11_idx;
                    json_t *arr_11_item;
                    json_array_foreach(pval, arr_11_idx, arr_11_item)
                    {
                        jm_path_t arr_11_lpath = (jm_path_t) { NULL, arr_11_idx, (path ? &lpath_17 : NULL), NULL };
                        // .'$Model#Root'.'|'.2.'%'.'<'.'|'.1.0
                        res = json_model_7(arr_11_item, ((path ? &lpath_17 : NULL) ? &arr_11_lpath : NULL), rep);
                        if (! res)
                        {
                            if (rep) jm_report_add_entry(rep, "unexpected $Ref [.'$Model#Root'.'|'.2.'%'.'<'.'|'.1.0]", ((path ? &lpath_17 : NULL) ? &arr_11_lpath : NULL));
                        }
                        if (! res)
                        {
                            break;
                        }
                    }
                }
                if (! res)
                {
                    if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Root'.'|'.2.'%'.'<'.'|'.1]", (path ? &lpath_17 : NULL));
                }
            }
            if (res)
            {
                if (rep) jm_report_free_entries(rep);
            }
            else
            {
                if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Root'.'|'.2.'%'.'<'.'|']", (path ? &lpath_17 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.2.'%'.'<']", (path ? &lpath_17 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_17 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Root'.'|'.2.'%'.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.2.'%'.'$Comment']", (path ? &lpath_17 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_11, prop, (path ? &lpath_17 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Root'.'|'.2.'%'.'$Name'
            // "/^([#|&^+/*@~=$%]|[<>!]=?)$/"
            res = json_is_string(pval) && _jm_re_8(json_string_value(pval), (path ? &lpath_17 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected /^([#|&^+/*@~=$%]|[<>!]=?)$/ [.'$Model#Root'.'|'.2.'%'.'$Name']", (path ? &lpath_17 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_9(prop, path, rep))
        {
            // handle 1 re props
            // .'$Model#Root'.'|'.2.'%'.'/^\\$.*$/'
            res = json_model_30(pval, (path ? &lpath_17 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Transformation [.'$Model#Root'.'|'.2.'%'.'/^\\\\$.*$/']", (path ? &lpath_17 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.2.'%']", (path ? &lpath_17 : NULL));
            return false;
        }
    }
    return true;
}

// object .'$Model#Root'.'|'.2.'.schema'
static bool _jm_obj_35(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.2.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.2
static bool _jm_obj_30(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.2]", path);
        return false;
    }
    bool res;
    int64_t must_count = 0;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_15 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, "&") == 0)
        {
            // handle must & property
            must_count += 1;
            // .'$Model#Root'.'|'.2.'&'
            res = json_is_array(pval);
            if (res)
            {
                size_t arr_10_idx;
                json_t *arr_10_item;
                json_array_foreach(pval, arr_10_idx, arr_10_item)
                {
                    jm_path_t arr_10_lpath = (jm_path_t) { NULL, arr_10_idx, (path ? &lpath_15 : NULL), NULL };
                    // .'$Model#Root'.'|'.2.'&'.0
                    res = json_model_32(arr_10_item, ((path ? &lpath_15 : NULL) ? &arr_10_lpath : NULL), rep);
                    if (! res)
                    {
                        if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Root'.'|'.2.'&'.0]", ((path ? &lpath_15 : NULL) ? &arr_10_lpath : NULL));
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Root'.'|'.2.'&']", (path ? &lpath_15 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid mandatory prop value [.'$Model#Root'.'|'.2.'&']", (path ? &lpath_15 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "~") == 0)
        {
            // handle may ~ property
            // .'$Model#Root'.'|'.2.'~'
            res = json_model_4(pval, (path ? &lpath_15 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Url [.'$Model#Root'.'|'.2.'~']", (path ? &lpath_15 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.2.'~']", (path ? &lpath_15 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "$") == 0)
        {
            // handle may $ property
            // .'$Model#Root'.'|'.2.'$'
            res = _jm_obj_31(pval, (path ? &lpath_15 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.2.'$']", (path ? &lpath_15 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.2.'$']", (path ? &lpath_15 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "%") == 0)
        {
            // handle may % property
            // .'$Model#Root'.'|'.2.'%'
            res = _jm_obj_33(pval, (path ? &lpath_15 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.2.'%']", (path ? &lpath_15 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.2.'%']", (path ? &lpath_15 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.2.'.schema'
            res = _jm_obj_35(pval, (path ? &lpath_15 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.2.'.schema']", (path ? &lpath_15 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.2.'.schema']", (path ? &lpath_15 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_15 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Root'.'|'.2.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.2.'$Comment']", (path ? &lpath_15 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.2]", (path ? &lpath_15 : NULL));
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep != NULL)
        {
            if (! (json_object_get(val, "&") != NULL))
            {
                if (rep) jm_report_add_entry(rep, "missing mandatory prop <&> [.'$Model#Root'.'|'.2]", path);
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#Root'.'|'.1.'$'.'.schema'
static bool _jm_obj_38(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.1.'$'.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.1.'$'
static bool _jm_obj_37(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.1.'$']", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_19 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.1.'$'.'.schema'
            res = _jm_obj_38(pval, (path ? &lpath_19 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.1.'$'.'.schema']", (path ? &lpath_19 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.1.'$'.'.schema']", (path ? &lpath_19 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "") == 0)
        {
            // handle may  property
            // .'$Model#Root'.'|'.1.'$'.''
            res = json_model_4(pval, (path ? &lpath_19 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Url [.'$Model#Root'.'|'.1.'$'.'']", (path ? &lpath_19 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.1.'$'.'']", (path ? &lpath_19 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_19 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Root'.'|'.1.'$'.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.1.'$'.'$Comment']", (path ? &lpath_19 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_7(prop, path, rep))
        {
            // handle 1 re props
            // .'$Model#Root'.'|'.1.'$'.'/./'
            res = json_model_32(pval, (path ? &lpath_19 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Root'.'|'.1.'$'.'/./']", (path ? &lpath_19 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.1.'$']", (path ? &lpath_19 : NULL));
            return false;
        }
    }
    return true;
}

// object .'$Model#Root'.'|'.1.'%'.'.schema'
static bool _jm_obj_40(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.1.'%'.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.1.'%'
static bool _jm_obj_39(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.1.'%']", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_20 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.1.'%'.'.schema'
            res = _jm_obj_40(pval, (path ? &lpath_20 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.1.'%'.'.schema']", (path ? &lpath_20 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.1.'%'.'.schema']", (path ? &lpath_20 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "<") == 0)
        {
            // handle may < property
            // .'$Model#Root'.'|'.1.'%'.'<'
            // .'$Model#Root'.'|'.1.'%'.'<'.'|'.0
            res = json_model_7(pval, (path ? &lpath_20 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Ref [.'$Model#Root'.'|'.1.'%'.'<'.'|'.0]", (path ? &lpath_20 : NULL));
            }
            if (! res)
            {
                // .'$Model#Root'.'|'.1.'%'.'<'.'|'.1
                res = json_is_array(pval);
                if (res)
                {
                    size_t arr_13_idx;
                    json_t *arr_13_item;
                    json_array_foreach(pval, arr_13_idx, arr_13_item)
                    {
                        jm_path_t arr_13_lpath = (jm_path_t) { NULL, arr_13_idx, (path ? &lpath_20 : NULL), NULL };
                        // .'$Model#Root'.'|'.1.'%'.'<'.'|'.1.0
                        res = json_model_7(arr_13_item, ((path ? &lpath_20 : NULL) ? &arr_13_lpath : NULL), rep);
                        if (! res)
                        {
                            if (rep) jm_report_add_entry(rep, "unexpected $Ref [.'$Model#Root'.'|'.1.'%'.'<'.'|'.1.0]", ((path ? &lpath_20 : NULL) ? &arr_13_lpath : NULL));
                        }
                        if (! res)
                        {
                            break;
                        }
                    }
                }
                if (! res)
                {
                    if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Root'.'|'.1.'%'.'<'.'|'.1]", (path ? &lpath_20 : NULL));
                }
            }
            if (res)
            {
                if (rep) jm_report_free_entries(rep);
            }
            else
            {
                if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Root'.'|'.1.'%'.'<'.'|']", (path ? &lpath_20 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.1.'%'.'<']", (path ? &lpath_20 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_20 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Root'.'|'.1.'%'.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.1.'%'.'$Comment']", (path ? &lpath_20 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_11, prop, (path ? &lpath_20 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Root'.'|'.1.'%'.'$Name'
            // "/^([#|&^+/*@~=$%]|[<>!]=?)$/"
            res = json_is_string(pval) && _jm_re_8(json_string_value(pval), (path ? &lpath_20 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected /^([#|&^+/*@~=$%]|[<>!]=?)$/ [.'$Model#Root'.'|'.1.'%'.'$Name']", (path ? &lpath_20 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_9(prop, path, rep))
        {
            // handle 1 re props
            // .'$Model#Root'.'|'.1.'%'.'/^\\$.*$/'
            res = json_model_30(pval, (path ? &lpath_20 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Transformation [.'$Model#Root'.'|'.1.'%'.'/^\\\\$.*$/']", (path ? &lpath_20 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.1.'%']", (path ? &lpath_20 : NULL));
            return false;
        }
    }
    return true;
}

// object .'$Model#Root'.'|'.1.'.schema'
static bool _jm_obj_41(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.1.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.1
static bool _jm_obj_36(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.1]", path);
        return false;
    }
    bool res;
    int64_t must_count = 0;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_18 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, "|") == 0)
        {
            // handle must | property
            must_count += 1;
            // .'$Model#Root'.'|'.1.'|'
            res = json_is_array(pval);
            if (res)
            {
                size_t arr_12_idx;
                json_t *arr_12_item;
                json_array_foreach(pval, arr_12_idx, arr_12_item)
                {
                    jm_path_t arr_12_lpath = (jm_path_t) { NULL, arr_12_idx, (path ? &lpath_18 : NULL), NULL };
                    // .'$Model#Root'.'|'.1.'|'.0
                    res = json_model_32(arr_12_item, ((path ? &lpath_18 : NULL) ? &arr_12_lpath : NULL), rep);
                    if (! res)
                    {
                        if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Root'.'|'.1.'|'.0]", ((path ? &lpath_18 : NULL) ? &arr_12_lpath : NULL));
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Root'.'|'.1.'|']", (path ? &lpath_18 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid mandatory prop value [.'$Model#Root'.'|'.1.'|']", (path ? &lpath_18 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "~") == 0)
        {
            // handle may ~ property
            // .'$Model#Root'.'|'.1.'~'
            res = json_model_4(pval, (path ? &lpath_18 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Url [.'$Model#Root'.'|'.1.'~']", (path ? &lpath_18 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.1.'~']", (path ? &lpath_18 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "$") == 0)
        {
            // handle may $ property
            // .'$Model#Root'.'|'.1.'$'
            res = _jm_obj_37(pval, (path ? &lpath_18 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.1.'$']", (path ? &lpath_18 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.1.'$']", (path ? &lpath_18 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "%") == 0)
        {
            // handle may % property
            // .'$Model#Root'.'|'.1.'%'
            res = _jm_obj_39(pval, (path ? &lpath_18 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.1.'%']", (path ? &lpath_18 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.1.'%']", (path ? &lpath_18 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.1.'.schema'
            res = _jm_obj_41(pval, (path ? &lpath_18 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.1.'.schema']", (path ? &lpath_18 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.1.'.schema']", (path ? &lpath_18 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_18 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Root'.'|'.1.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.1.'$Comment']", (path ? &lpath_18 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.1]", (path ? &lpath_18 : NULL));
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep != NULL)
        {
            if (! (json_object_get(val, "|") != NULL))
            {
                if (rep) jm_report_add_entry(rep, "missing mandatory prop <|> [.'$Model#Root'.'|'.1]", path);
            }
        }
        return false;
    }
    return true;
}

// check _jm_obj_42_map_! (.'$Model#Root'.'|'.0.'!')
static bool _jm_f_0(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Root'.'|'.0.'!'
    res = json_is_boolean(val);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "not a bool [.'$Model#Root'.'|'.0.'!']", path);
    }
    return res;
}

// object .'$Model#Root'.'|'.0.'$'.'.schema'
static bool _jm_obj_44(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.0.'$'.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.0.'$'
static bool _jm_obj_43(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.0.'$']", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_22 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.0.'$'.'.schema'
            res = _jm_obj_44(pval, (path ? &lpath_22 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.0.'$'.'.schema']", (path ? &lpath_22 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.0.'$'.'.schema']", (path ? &lpath_22 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "") == 0)
        {
            // handle may  property
            // .'$Model#Root'.'|'.0.'$'.''
            res = json_model_4(pval, (path ? &lpath_22 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Url [.'$Model#Root'.'|'.0.'$'.'']", (path ? &lpath_22 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.0.'$'.'']", (path ? &lpath_22 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_22 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Root'.'|'.0.'$'.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.0.'$'.'$Comment']", (path ? &lpath_22 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_7(prop, path, rep))
        {
            // handle 1 re props
            // .'$Model#Root'.'|'.0.'$'.'/./'
            res = json_model_32(pval, (path ? &lpath_22 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Root'.'|'.0.'$'.'/./']", (path ? &lpath_22 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.0.'$']", (path ? &lpath_22 : NULL));
            return false;
        }
    }
    return true;
}

// check _jm_obj_42_map_$ (.'$Model#Root'.'|'.0.'$')
static bool _jm_f_1(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Root'.'|'.0.'$'
    res = _jm_obj_43(val, path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.0.'$']", path);
    }
    return res;
}

// object .'$Model#Root'.'|'.0.'%'.'.schema'
static bool _jm_obj_46(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.0.'%'.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Root'.'|'.0.'%'
static bool _jm_obj_45(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.0.'%']", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_23 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Root'.'|'.0.'%'.'.schema'
            res = _jm_obj_46(pval, (path ? &lpath_23 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.0.'%'.'.schema']", (path ? &lpath_23 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.0.'%'.'.schema']", (path ? &lpath_23 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "<") == 0)
        {
            // handle may < property
            // .'$Model#Root'.'|'.0.'%'.'<'
            // .'$Model#Root'.'|'.0.'%'.'<'.'|'.0
            res = json_model_7(pval, (path ? &lpath_23 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Ref [.'$Model#Root'.'|'.0.'%'.'<'.'|'.0]", (path ? &lpath_23 : NULL));
            }
            if (! res)
            {
                // .'$Model#Root'.'|'.0.'%'.'<'.'|'.1
                res = json_is_array(pval);
                if (res)
                {
                    size_t arr_14_idx;
                    json_t *arr_14_item;
                    json_array_foreach(pval, arr_14_idx, arr_14_item)
                    {
                        jm_path_t arr_14_lpath = (jm_path_t) { NULL, arr_14_idx, (path ? &lpath_23 : NULL), NULL };
                        // .'$Model#Root'.'|'.0.'%'.'<'.'|'.1.0
                        res = json_model_7(arr_14_item, ((path ? &lpath_23 : NULL) ? &arr_14_lpath : NULL), rep);
                        if (! res)
                        {
                            if (rep) jm_report_add_entry(rep, "unexpected $Ref [.'$Model#Root'.'|'.0.'%'.'<'.'|'.1.0]", ((path ? &lpath_23 : NULL) ? &arr_14_lpath : NULL));
                        }
                        if (! res)
                        {
                            break;
                        }
                    }
                }
                if (! res)
                {
                    if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Root'.'|'.0.'%'.'<'.'|'.1]", (path ? &lpath_23 : NULL));
                }
            }
            if (res)
            {
                if (rep) jm_report_free_entries(rep);
            }
            else
            {
                if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Root'.'|'.0.'%'.'<'.'|']", (path ? &lpath_23 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.0.'%'.'<']", (path ? &lpath_23 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_23 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Root'.'|'.0.'%'.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.0.'%'.'$Comment']", (path ? &lpath_23 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_11, prop, (path ? &lpath_23 : NULL), rep))
        {
            // handle 2 key props
            // .'$Model#Root'.'|'.0.'%'.'$Name'
            // "/^([#|&^+/*@~=$%]|[<>!]=?)$/"
            res = json_is_string(pval) && _jm_re_8(json_string_value(pval), (path ? &lpath_23 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected /^([#|&^+/*@~=$%]|[<>!]=?)$/ [.'$Model#Root'.'|'.0.'%'.'$Name']", (path ? &lpath_23 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_9(prop, path, rep))
        {
            // handle 1 re props
            // .'$Model#Root'.'|'.0.'%'.'/^\\$.*$/'
            res = json_model_30(pval, (path ? &lpath_23 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Transformation [.'$Model#Root'.'|'.0.'%'.'/^\\\\$.*$/']", (path ? &lpath_23 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.0.'%']", (path ? &lpath_23 : NULL));
            return false;
        }
    }
    return true;
}

// check _jm_obj_42_map_% (.'$Model#Root'.'|'.0.'%')
static bool _jm_f_2(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Root'.'|'.0.'%'
    res = _jm_obj_45(val, path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.0.'%']", path);
    }
    return res;
}

// check _jm_obj_42_map_.in (.'$Model#Root'.'|'.0.'.in')
static bool _jm_f_3(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Root'.'|'.0.'.in'
    res = json_model_32(val, path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Root'.'|'.0.'.in']", path);
    }
    return res;
}

// check _jm_obj_42_map_.mo (.'$Model#Root'.'|'.0.'.mo')
static bool _jm_f_4(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Root'.'|'.0.'.mo'
    res = json_is_integer(val) && json_integer_value(val) >= 1;
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "not a 1 strict int [.'$Model#Root'.'|'.0.'.mo']", path);
    }
    return res;
}

// object .'$Model#Root'.'|'.0.'.schema'
static bool _jm_obj_47(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.0.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// check _jm_obj_42_map_.schema (.'$Model#Root'.'|'.0.'.schema')
static bool _jm_f_5(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Root'.'|'.0.'.schema'
    res = _jm_obj_47(val, path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.0.'.schema']", path);
    }
    return res;
}

// check _jm_obj_42_map_~ (.'$Model#Root'.'|'.0.'~')
static bool _jm_f_6(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Root'.'|'.0.'~'
    res = json_model_4(val, path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected $Url [.'$Model#Root'.'|'.0.'~']", path);
    }
    return res;
}

static jm_check_fun_t _jm_obj_42_map(const char *pname)
{
    return jm_search_propmap(pname, _jm_obj_42_map_tab, 7);
}

// object .'$Model#Root'.'|'.0
static bool _jm_obj_42(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Root'.'|'.0]", path);
        return false;
    }
    bool res;
    jm_check_fun_t pfun;
    int64_t must_count = 0;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_21 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, "@") == 0)
        {
            // handle must @ property
            must_count += 1;
            // .'$Model#Root'.'|'.0.'@'
            res = json_model_32(pval, (path ? &lpath_21 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Root'.'|'.0.'@']", (path ? &lpath_21 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid mandatory prop value [.'$Model#Root'.'|'.0.'@']", (path ? &lpath_21 : NULL));
                return false;
            }
        }
        else if ((pfun = _jm_obj_42_map(prop)))
        {
            // handle 7 may props
            if (pfun != NULL && ! pfun(pval, (path ? &lpath_21 : NULL), rep))
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Root'.'|'.0]", (path ? &lpath_21 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_21 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Root'.'|'.0.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Root'.'|'.0.'$Comment']", (path ? &lpath_21 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_3(prop, path, rep))
        {
            // handle 2 re props
            // .'$Model#Root'.'|'.0.'/^(<=|>=|<|>)$/'
            res = json_model_12(pval, (path ? &lpath_21 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $CmpValue [.'$Model#Root'.'|'.0.'/^(<=|>=|<|>)$/']", (path ? &lpath_21 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_4(prop, path, rep))
        {
            // handle 2 re props
            // .'$Model#Root'.'|'.0.'/^(=|!=)$/'
            res = json_model_13(pval, (path ? &lpath_21 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $EqValue [.'$Model#Root'.'|'.0.'/^(=|!=)$/']", (path ? &lpath_21 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Root'.'|'.0]", (path ? &lpath_21 : NULL));
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep != NULL)
        {
            if (! (json_object_get(val, "@") != NULL))
            {
                if (rep) jm_report_add_entry(rep, "missing mandatory prop <@> [.'$Model#Root'.'|'.0]", path);
            }
        }
        return false;
    }
    return true;
}

// check $Model#Root (.'$Model#Root')
static bool json_model_38(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Root'
    res = json_is_object(val);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected type [.'$Model#Root'.'|']", path);
    }
    if (res)
    {
        // .'$Model#Root'.'|'.0
        res = _jm_obj_42(val, path, rep);
        if (! res)
        {
            if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.0]", path);
        }
        if (! res)
        {
            // .'$Model#Root'.'|'.1
            res = _jm_obj_36(val, path, rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.1]", path);
            }
            if (! res)
            {
                // .'$Model#Root'.'|'.2
                res = _jm_obj_30(val, path, rep);
                if (! res)
                {
                    if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.2]", path);
                }
                if (! res)
                {
                    // .'$Model#Root'.'|'.3
                    res = _jm_obj_24(val, path, rep);
                    if (! res)
                    {
                        if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.3]", path);
                    }
                    if (! res)
                    {
                        // .'$Model#Root'.'|'.4
                        res = _jm_obj_18(val, path, rep);
                        if (! res)
                        {
                            if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.4]", path);
                        }
                        if (! res)
                        {
                            // .'$Model#Root'.'|'.5
                            res = _jm_obj_12(val, path, rep);
                            if (! res)
                            {
                                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Root'.'|'.5]", path);
                            }
                        }
                    }
                }
            }
        }
        if (res)
        {
            if (rep) jm_report_free_entries(rep);
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Root'.'|']", path);
        }
    }
    return res;
}

static bool _jm_re_10(const char *s, jm_path_t *path, jm_report_t *rep)
{
    size_t slen = strlen(s);
    return cre2_match(_jm_re_10_re2, s, slen, 0, slen, CRE2_UNANCHORED, NULL, 0);
}

// check $Model#Url (.'$Model#Url')
static bool json_model_4(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Url'
    // "/^((file|https?)://.+|\\./.*|\\.\\./.*)$/"
    res = json_is_string(val) && _jm_re_10(json_string_value(val), path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected /^((file|https?)://.+|\\./.*|\\.\\./.*)$/ [.'$Model#Url']", path);
    }
    return res;
}

// object .'$Model#Transformation'.'|'.1.'.schema'
static bool _jm_obj_49(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Transformation'.'|'.1.'.schema']", path);
        return false;
    }
    // accept any object
    return true;
}

// object .'$Model#Transformation'.'|'.1.'*'.'|'.1
static bool _jm_obj_50(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Transformation'.'|'.1.'*'.'|'.1]", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_25 = (jm_path_t) { prop, 0, path, NULL };
        // handle other props
        // .'$Model#Transformation'.'|'.1.'*'.'|'.1.''
        res = json_model_32(pval, (path ? &lpath_25 : NULL), rep);
        if (! res)
        {
            if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Transformation'.'|'.1.'*'.'|'.1.'']", (path ? &lpath_25 : NULL));
        }
        if (! res)
        {
            return false;
        }
    }
    return true;
}

// object .'$Model#Transformation'.'|'.1
static bool _jm_obj_48(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    if (! json_is_object(val))
    {
        if (rep) jm_report_add_entry(rep, "not an object [.'$Model#Transformation'.'|'.1]", path);
        return false;
    }
    bool res;
    const char *prop;
    json_t *pval;
    json_object_foreach((json_t *) val, prop, pval)
    {
        jm_path_t lpath_24 = (jm_path_t) { prop, 0, path, NULL };
        if (strcmp(prop, ".schema") == 0)
        {
            // handle may .schema property
            // .'$Model#Transformation'.'|'.1.'.schema'
            res = _jm_obj_49(pval, (path ? &lpath_24 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Transformation'.'|'.1.'.schema']", (path ? &lpath_24 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Transformation'.'|'.1.'.schema']", (path ? &lpath_24 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "/") == 0)
        {
            // handle may / property
            // .'$Model#Transformation'.'|'.1.'/'
            // .'$Model#Transformation'.'|'.1.'/'.'|'.0
            res = json_model_13(pval, (path ? &lpath_24 : NULL), rep);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected $EqValue [.'$Model#Transformation'.'|'.1.'/'.'|'.0]", (path ? &lpath_24 : NULL));
            }
            if (! res)
            {
                // .'$Model#Transformation'.'|'.1.'/'.'|'.1
                res = json_is_array(pval);
                if (res)
                {
                    // accept any array
                }
                if (! res)
                {
                    if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Transformation'.'|'.1.'/'.'|'.1]", (path ? &lpath_24 : NULL));
                }
            }
            if (res)
            {
                if (rep) jm_report_free_entries(rep);
            }
            else
            {
                if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Transformation'.'|'.1.'/'.'|']", (path ? &lpath_24 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Transformation'.'|'.1.'/']", (path ? &lpath_24 : NULL));
                return false;
            }
        }
        else if (strcmp(prop, "*") == 0)
        {
            // handle may * property
            // .'$Model#Transformation'.'|'.1.'*'
            // .'$Model#Transformation'.'|'.1.'*'.'|'.0
            res = json_is_array(pval);
            if (res)
            {
                // accept any array
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "not array or unexpected array [.'$Model#Transformation'.'|'.1.'*'.'|'.0]", (path ? &lpath_24 : NULL));
            }
            if (! res)
            {
                // .'$Model#Transformation'.'|'.1.'*'.'|'.1
                res = _jm_obj_50(pval, (path ? &lpath_24 : NULL), rep);
                if (! res)
                {
                    if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Transformation'.'|'.1.'*'.'|'.1]", (path ? &lpath_24 : NULL));
                }
            }
            if (res)
            {
                if (rep) jm_report_free_entries(rep);
            }
            else
            {
                if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Transformation'.'|'.1.'*'.'|']", (path ? &lpath_24 : NULL));
            }
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "invalid optional prop value [.'$Model#Transformation'.'|'.1.'*']", (path ? &lpath_24 : NULL));
                return false;
            }
        }
        else if (jm_check_fun_string(json_model_6, prop, (path ? &lpath_24 : NULL), rep))
        {
            // handle 1 key props
            // .'$Model#Transformation'.'|'.1.'$Comment'
            res = json_is_string(pval);
            if (! res)
            {
                if (rep) jm_report_add_entry(rep, "unexpected string [.'$Model#Transformation'.'|'.1.'$Comment']", (path ? &lpath_24 : NULL));
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            if (rep) jm_report_add_entry(rep, "unexpected prop [.'$Model#Transformation'.'|'.1]", (path ? &lpath_24 : NULL));
            return false;
        }
    }
    return true;
}

// check $Model#Transformation (.'$Model#Transformation')
static bool json_model_30(const json_t *val, jm_path_t *path, jm_report_t *rep)
{
    bool res;
    // .'$Model#Transformation'
    // .'$Model#Transformation'.'|'.0
    res = json_model_32(val, path, rep);
    if (! res)
    {
        if (rep) jm_report_add_entry(rep, "unexpected $Model [.'$Model#Transformation'.'|'.0]", path);
    }
    if (! res)
    {
        // .'$Model#Transformation'.'|'.1
        res = _jm_obj_48(val, path, rep);
        if (! res)
        {
            if (rep) jm_report_add_entry(rep, "unexpected element [.'$Model#Transformation'.'|'.1]", path);
        }
    }
    if (res)
    {
        if (rep) jm_report_free_entries(rep);
    }
    else
    {
        if (rep) jm_report_add_entry(rep, "no model matched [.'$Model#Transformation'.'|']", path);
    }
    return res;
}

jm_check_fun_t check_model_map(const char *pname)
{
    return jm_search_propmap(pname, check_model_map_tab, 2);
}

static bool initialized = false;

const char *check_model_init(void)
{
    if (!initialized)
    {
        initialized = true;
        jm_version_string = JSON_MODEL_VERSION;
        // initialize sorted set _jm_cst_0
        _jm_cst_0[0] = (jm_constant_t) { cst_is_null, { .s = NULL } };
        _jm_cst_0[1] = (jm_constant_t) { cst_is_bool, { .b = true } };
        _jm_cst_0[2] = (jm_constant_t) { cst_is_integer, { .i = 0 } };
        _jm_cst_0[3] = (jm_constant_t) { cst_is_integer, { .i = 1 } };
        _jm_cst_0[4] = (jm_constant_t) { cst_is_integer, { .i = -1 } };
        _jm_cst_0[5] = (jm_constant_t) { cst_is_float, { .f = 0.0 } };
        _jm_cst_0[6] = (jm_constant_t) { cst_is_float, { .f = 1.0 } };
        _jm_cst_0[7] = (jm_constant_t) { cst_is_float, { .f = -1.0 } };
        jm_sort_cst(_jm_cst_0, 8);
        // initialize sorted set _jm_cst_1
        _jm_cst_1[0] = (jm_constant_t) { cst_is_string, { .s = "$DATE" } };
        _jm_cst_1[1] = (jm_constant_t) { cst_is_string, { .s = "$TIME" } };
        _jm_cst_1[2] = (jm_constant_t) { cst_is_string, { .s = "$DATETIME" } };
        _jm_cst_1[3] = (jm_constant_t) { cst_is_string, { .s = "$URL" } };
        _jm_cst_1[4] = (jm_constant_t) { cst_is_string, { .s = "$URI" } };
        _jm_cst_1[5] = (jm_constant_t) { cst_is_string, { .s = "$UUID" } };
        _jm_cst_1[6] = (jm_constant_t) { cst_is_string, { .s = "$EMAIL" } };
        _jm_cst_1[7] = (jm_constant_t) { cst_is_string, { .s = "$REGEX" } };
        _jm_cst_1[8] = (jm_constant_t) { cst_is_string, { .s = "$EXREG" } };
        _jm_cst_1[9] = (jm_constant_t) { cst_is_string, { .s = "$NULL" } };
        _jm_cst_1[10] = (jm_constant_t) { cst_is_string, { .s = "$BOOL" } };
        _jm_cst_1[11] = (jm_constant_t) { cst_is_string, { .s = "$FLOAT" } };
        _jm_cst_1[12] = (jm_constant_t) { cst_is_string, { .s = "$F32" } };
        _jm_cst_1[13] = (jm_constant_t) { cst_is_string, { .s = "$F64" } };
        _jm_cst_1[14] = (jm_constant_t) { cst_is_string, { .s = "$NUMBER" } };
        _jm_cst_1[15] = (jm_constant_t) { cst_is_string, { .s = "$INT" } };
        _jm_cst_1[16] = (jm_constant_t) { cst_is_string, { .s = "$INTEGER" } };
        _jm_cst_1[17] = (jm_constant_t) { cst_is_string, { .s = "$I32" } };
        _jm_cst_1[18] = (jm_constant_t) { cst_is_string, { .s = "$I64" } };
        _jm_cst_1[19] = (jm_constant_t) { cst_is_string, { .s = "$U32" } };
        _jm_cst_1[20] = (jm_constant_t) { cst_is_string, { .s = "$U64" } };
        _jm_cst_1[21] = (jm_constant_t) { cst_is_string, { .s = "$STRING" } };
        _jm_cst_1[22] = (jm_constant_t) { cst_is_string, { .s = "$NONE" } };
        _jm_cst_1[23] = (jm_constant_t) { cst_is_string, { .s = "$ANY" } };
        jm_sort_cst(_jm_cst_1, 24);
        _jm_re_0_re2 = cre2_new("^\\$", strlen("^\\$"), NULL);
        if (cre2_error_code(_jm_re_0_re2))
            return cre2_error_string(_jm_re_0_re2);
        _jm_re_0_nn = cre2_num_capturing_groups(_jm_re_0_re2) + 1;
        _jm_re_1_re2 = cre2_new("^=(null|true|false|-?\\d+(\\.\\d+)?([Ee]-?\\d+)?)$", strlen("^=(null|true|false|-?\\d+(\\.\\d+)?([Ee]-?\\d+)?)$"), NULL);
        if (cre2_error_code(_jm_re_1_re2))
            return cre2_error_string(_jm_re_1_re2);
        _jm_re_1_nn = cre2_num_capturing_groups(_jm_re_1_re2) + 1;
        _jm_re_2_re2 = cre2_new("^[_a-zA-Z0-9]", strlen("^[_a-zA-Z0-9]"), NULL);
        if (cre2_error_code(_jm_re_2_re2))
            return cre2_error_string(_jm_re_2_re2);
        _jm_re_2_nn = cre2_num_capturing_groups(_jm_re_2_re2) + 1;
        _jm_xre_0_re_re2 = cre2_new("^/(?P<s1>.*)/[a-z]*$", strlen("^/(?P<s1>.*)/[a-z]*$"), NULL);
        if (cre2_error_code(_jm_xre_0_re_re2))
            return cre2_error_string(_jm_xre_0_re_re2);
        _jm_xre_0_re_nn = cre2_num_capturing_groups(_jm_xre_0_re_re2) + 1;
        _jm_xre_1_re_re2 = cre2_new("^/(?P<s1>.*)/[a-z]*X[a-z]*$", strlen("^/(?P<s1>.*)/[a-z]*X[a-z]*$"), NULL);
        if (cre2_error_code(_jm_xre_1_re_re2))
            return cre2_error_string(_jm_xre_1_re_re2);
        _jm_xre_1_re_nn = cre2_num_capturing_groups(_jm_xre_1_re_re2) + 1;
        _jm_re_3_re2 = cre2_new("^(<=|>=|<|>)$", strlen("^(<=|>=|<|>)$"), NULL);
        if (cre2_error_code(_jm_re_3_re2))
            return cre2_error_string(_jm_re_3_re2);
        _jm_re_3_nn = cre2_num_capturing_groups(_jm_re_3_re2) + 1;
        _jm_re_4_re2 = cre2_new("^(=|!=)$", strlen("^(=|!=)$"), NULL);
        if (cre2_error_code(_jm_re_4_re2))
            return cre2_error_string(_jm_re_4_re2);
        _jm_re_4_nn = cre2_num_capturing_groups(_jm_re_4_re2) + 1;
        _jm_re_5_re2 = cre2_new("^[?!]", strlen("^[?!]"), NULL);
        if (cre2_error_code(_jm_re_5_re2))
            return cre2_error_string(_jm_re_5_re2);
        _jm_re_5_nn = cre2_num_capturing_groups(_jm_re_5_re2) + 1;
        _jm_re_6_re2 = cre2_new("^\\..+$", strlen("^\\..+$"), NULL);
        if (cre2_error_code(_jm_re_6_re2))
            return cre2_error_string(_jm_re_6_re2);
        _jm_re_6_nn = cre2_num_capturing_groups(_jm_re_6_re2) + 1;
        _jm_re_7_re2 = cre2_new(".", strlen("."), NULL);
        if (cre2_error_code(_jm_re_7_re2))
            return cre2_error_string(_jm_re_7_re2);
        _jm_re_7_nn = cre2_num_capturing_groups(_jm_re_7_re2) + 1;
        _jm_re_8_re2 = cre2_new("^([#|&^+/*@~=$%]|[<>!]=?)$", strlen("^([#|&^+/*@~=$%]|[<>!]=?)$"), NULL);
        if (cre2_error_code(_jm_re_8_re2))
            return cre2_error_string(_jm_re_8_re2);
        _jm_re_8_nn = cre2_num_capturing_groups(_jm_re_8_re2) + 1;
        _jm_re_9_re2 = cre2_new("^\\$.*$", strlen("^\\$.*$"), NULL);
        if (cre2_error_code(_jm_re_9_re2))
            return cre2_error_string(_jm_re_9_re2);
        _jm_re_9_nn = cre2_num_capturing_groups(_jm_re_9_re2) + 1;
        _jm_obj_42_map_tab[0] = (jm_propmap_t) { "!", _jm_f_0 };
        _jm_obj_42_map_tab[1] = (jm_propmap_t) { "$", _jm_f_1 };
        _jm_obj_42_map_tab[2] = (jm_propmap_t) { "%", _jm_f_2 };
        _jm_obj_42_map_tab[3] = (jm_propmap_t) { ".in", _jm_f_3 };
        _jm_obj_42_map_tab[4] = (jm_propmap_t) { ".mo", _jm_f_4 };
        _jm_obj_42_map_tab[5] = (jm_propmap_t) { ".schema", _jm_f_5 };
        _jm_obj_42_map_tab[6] = (jm_propmap_t) { "~", _jm_f_6 };
        jm_sort_propmap(_jm_obj_42_map_tab, 7);
        _jm_re_10_re2 = cre2_new("^((file|https?)://.+|\\./.*|\\.\\./.*)$", strlen("^((file|https?)://.+|\\./.*|\\.\\./.*)$"), NULL);
        if (cre2_error_code(_jm_re_10_re2))
            return cre2_error_string(_jm_re_10_re2);
        _jm_re_10_nn = cre2_num_capturing_groups(_jm_re_10_re2) + 1;
        check_model_map_tab[0] = (jm_propmap_t) { "", json_model_1 };
        check_model_map_tab[1] = (jm_propmap_t) { "Model", json_model_3 };
        jm_sort_propmap(check_model_map_tab, 2);
    }
    return NULL;
}

void check_model_free(void)
{
    if (initialized)
    {
        initialized = false;

        // cleanup code
        cre2_delete(_jm_re_0_re2);
        _jm_re_0_re2 = NULL;
        _jm_re_0_nn = 0;
        cre2_delete(_jm_re_1_re2);
        _jm_re_1_re2 = NULL;
        _jm_re_1_nn = 0;
        cre2_delete(_jm_re_2_re2);
        _jm_re_2_re2 = NULL;
        _jm_re_2_nn = 0;
        cre2_delete(_jm_xre_0_re_re2);
        _jm_xre_0_re_re2 = NULL;
        _jm_xre_0_re_nn = 0;
        cre2_delete(_jm_xre_1_re_re2);
        _jm_xre_1_re_re2 = NULL;
        _jm_xre_1_re_nn = 0;
        cre2_delete(_jm_re_3_re2);
        _jm_re_3_re2 = NULL;
        _jm_re_3_nn = 0;
        cre2_delete(_jm_re_4_re2);
        _jm_re_4_re2 = NULL;
        _jm_re_4_nn = 0;
        cre2_delete(_jm_re_5_re2);
        _jm_re_5_re2 = NULL;
        _jm_re_5_nn = 0;
        cre2_delete(_jm_re_6_re2);
        _jm_re_6_re2 = NULL;
        _jm_re_6_nn = 0;
        cre2_delete(_jm_re_7_re2);
        _jm_re_7_re2 = NULL;
        _jm_re_7_nn = 0;
        cre2_delete(_jm_re_8_re2);
        _jm_re_8_re2 = NULL;
        _jm_re_8_nn = 0;
        cre2_delete(_jm_re_9_re2);
        _jm_re_9_re2 = NULL;
        _jm_re_9_nn = 0;
        cre2_delete(_jm_re_10_re2);
        _jm_re_10_re2 = NULL;
        _jm_re_10_nn = 0;
    }
}

/*
 * # API
 *
 * ```c
 * bool error;
 * char *message;
 *
 * bool valid = check(json_value, "model-name", &error, &message);
 *
 * if (message)
 *    free(message), message = NULL;
 * ```
 *
 * - `error` is set of there was an error during initialization or if the model does not exists.
 * - `message` is provided if a non NULL pointer is passed, and must be freed by the caller.
 */
bool
check_model(const json_t *val, const char *name, bool *error, char **reasons)
{
    return jm_generic_entry(check_model_init, check_model_map, val, name, error, reasons);
}
