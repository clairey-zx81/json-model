#! /bin/env node
// we may need require to load re2
import { createRequire } from 'node:module';
const require = createRequire(import.meta.url);
//
// Generated by JSON Model Compiler version 2
// see https://github.com/clairey-zx81/json-model
//
import * as runtime from "json_model_runtime"
const JSON_MODEL_VERSION = "2";

const _jm_re_0_re = new runtime.RX("^([#|&^+/*@~=$%]|[<>!]=?)$", "")
const _jm_re_1_re = new runtime.RX("^(<=|>=|<|>)$", "")
const _jm_re_2_re = new runtime.RX("^(=|!=)$", "")
let _jm_cst_0 = new Set()
const _jm_xre_0_re_re = new runtime.RX("^/(?<s1>.*)/[a-z]*$", "")
const _jm_xre_1_re_re = new runtime.RX("^/(?<s1>.*)/[a-z]*X[a-z]*$", "")
const _jm_re_3_re = new runtime.RX("^((file|https?)://.+|\\./.*|\\.\\./.*)$", "")
const _jm_re_4_re = new runtime.RX("[^A-Z0-9]", "")
const _jm_re_5_re = new runtime.RX("^\\w+$", "")
const _jm_re_6_re = new runtime.RX("^\\$.", "")
const _jm_re_7_re = new runtime.RX("^=(null|true|false|[-+]?\\d+(\\.\\d+)?([Ee][-+]?\\d+)?)$", "")
const _jm_re_8_re = new runtime.RX("^[A-Za-z0-9_]", "")
const _jm_re_9_re = new runtime.RX("^\\..+$", "")
let _jm_cst_1 = new Set()
const _jm_re_10_re = new runtime.RX("^[?!]", "")
let _jm_cst_2 = new Set()
var check_model_map = new Map()

// check $Model (.'$Model')
function json_model_3(val, path, rep)
{
    let res;
    // .'$Model'
    res = json_model_41(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected $RootModel [.'$Model']", path])
    }
    return res;
}

// check $ (.)
function json_model_1(val, path, rep)
{
    let res;
    // .
    res = json_model_3(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected $Model [.]", path])
    }
    return res;
}

// object .'$Model#RootModel'.'|'.4.'$'
function _jm_obj_1(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.4.'$']", path])
        return false;
    }
    let res;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_1 = path ? path.concat([prop]) : null;
        if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.4.'$'.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.4.'$'.'#']", (path ? lpath_1 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.4.'$'.'#']", (path ? lpath_1 : null)])
                return false;
            }
        }
        else if (prop == "")
        {
            // handle may  property
            // .'$Model#RootModel'.'|'.4.'$'.''
            res = json_model_4(pval, (path ? lpath_1 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Url [.'$Model#RootModel'.'|'.4.'$'.'']", (path ? lpath_1 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.4.'$'.'']", (path ? lpath_1 : null)])
                return false;
            }
        }
        else if (json_model_6(prop, (path ? lpath_1 : null), rep))
        {
            // handle 1 key props
            // .'$Model#RootModel'.'|'.4.'$'.'$Identifier'
            res = json_model_34(pval, (path ? lpath_1 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Model [.'$Model#RootModel'.'|'.4.'$'.'$Identifier']", (path ? lpath_1 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#RootModel'.'|'.4.'$'.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.4.'$'.'/^#/']", (path ? lpath_1 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.4.'$']", (path ? lpath_1 : null)])
            return false;
        }
    }
    return true;
}

const _jm_re_0 = (s) => _jm_re_0_re.exec(s) !== null

// object .'$Model#RootModel'.'|'.4.'%'
function _jm_obj_2(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.4.'%']", path])
        return false;
    }
    let res;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_2 = path ? path.concat([prop]) : null;
        if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.4.'%'.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.4.'%'.'#']", (path ? lpath_2 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.4.'%'.'#']", (path ? lpath_2 : null)])
                return false;
            }
        }
        else if (prop == "<")
        {
            // handle may < property
            // .'$Model#RootModel'.'|'.4.'%'.'<'
            // .'$Model#RootModel'.'|'.4.'%'.'<'.'|'.0
            res = json_model_9(pval, (path ? lpath_2 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Ref [.'$Model#RootModel'.'|'.4.'%'.'<'.'|'.0]", (path ? lpath_2 : null)])
            }
            if (! res)
            {
                // .'$Model#RootModel'.'|'.4.'%'.'<'.'|'.1
                res = Array.isArray(pval);
                if (res)
                {
                    for (let arr_0_idx = 0; arr_0_idx < pval.length; arr_0_idx++)
                    {
                        let arr_0_item = pval[arr_0_idx]
                        let arr_0_lpath = (path ? lpath_2 : null) ? (path ? lpath_2 : null).concat([arr_0_idx]) : null;
                        // .'$Model#RootModel'.'|'.4.'%'.'<'.'|'.1.0
                        res = json_model_9(arr_0_item, ((path ? lpath_2 : null) ? arr_0_lpath : null), rep);
                        if (! res)
                        {
                            rep !== null && rep.push(["unexpected $Ref [.'$Model#RootModel'.'|'.4.'%'.'<'.'|'.1.0]", ((path ? lpath_2 : null) ? arr_0_lpath : null)])
                        }
                        if (! res)
                        {
                            break;
                        }
                    }
                }
                if (! res)
                {
                    rep !== null && rep.push(["not array or unexpected array [.'$Model#RootModel'.'|'.4.'%'.'<'.'|'.1]", (path ? lpath_2 : null)])
                }
            }
            if (res)
            {
                if (rep !== null) rep.length = 0
            }
            else
            {
                rep !== null && rep.push(["no model matched [.'$Model#RootModel'.'|'.4.'%'.'<'.'|']", (path ? lpath_2 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.4.'%'.'<']", (path ? lpath_2 : null)])
                return false;
            }
        }
        else if (json_model_13(prop, (path ? lpath_2 : null), rep))
        {
            // handle 1 key props
            // .'$Model#RootModel'.'|'.4.'%'.'$Name'
            // "/^([#|&^+/*@~=$%]|[<>!]=?)$/"
            res = ((typeof pval === 'string' || pval instanceof String)) && _jm_re_0(pval, (path ? lpath_2 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected /^([#|&^+/*@~=$%]|[<>!]=?)$/ [.'$Model#RootModel'.'|'.4.'%'.'$Name']", (path ? lpath_2 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#RootModel'.'|'.4.'%'.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.4.'%'.'/^#/']", (path ? lpath_2 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.4.'%']", (path ? lpath_2 : null)])
            return false;
        }
    }
    return true;
}

// object .'$Model#RootModel'.'|'.4
function _jm_obj_0(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.4]", path])
        return false;
    }
    let res;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_0 = path ? path.concat([prop]) : null;
        if (prop == "~")
        {
            // handle may ~ property
            // .'$Model#RootModel'.'|'.4.'~'
            res = json_model_4(pval, (path ? lpath_0 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Url [.'$Model#RootModel'.'|'.4.'~']", (path ? lpath_0 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.4.'~']", (path ? lpath_0 : null)])
                return false;
            }
        }
        else if (prop == "$")
        {
            // handle may $ property
            // .'$Model#RootModel'.'|'.4.'$'
            res = _jm_obj_1(pval, (path ? lpath_0 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.4.'$']", (path ? lpath_0 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.4.'$']", (path ? lpath_0 : null)])
                return false;
            }
        }
        else if (prop == "%")
        {
            // handle may % property
            // .'$Model#RootModel'.'|'.4.'%'
            res = _jm_obj_2(pval, (path ? lpath_0 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.4.'%']", (path ? lpath_0 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.4.'%']", (path ? lpath_0 : null)])
                return false;
            }
        }
        else if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.4.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.4.'#']", (path ? lpath_0 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.4.'#']", (path ? lpath_0 : null)])
                return false;
            }
        }
        else if (json_model_27(prop, (path ? lpath_0 : null), rep))
        {
            // handle 1 key props
            // .'$Model#RootModel'.'|'.4.'$Prop'
            res = json_model_34(pval, (path ? lpath_0 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Model [.'$Model#RootModel'.'|'.4.'$Prop']", (path ? lpath_0 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#RootModel'.'|'.4.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.4.'/^#/']", (path ? lpath_0 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.4]", (path ? lpath_0 : null)])
            return false;
        }
    }
    return true;
}

// object .'$Model#RootModel'.'|'.3.'$'
function _jm_obj_4(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.3.'$']", path])
        return false;
    }
    let res;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_4 = path ? path.concat([prop]) : null;
        if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.3.'$'.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.3.'$'.'#']", (path ? lpath_4 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.3.'$'.'#']", (path ? lpath_4 : null)])
                return false;
            }
        }
        else if (prop == "")
        {
            // handle may  property
            // .'$Model#RootModel'.'|'.3.'$'.''
            res = json_model_4(pval, (path ? lpath_4 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Url [.'$Model#RootModel'.'|'.3.'$'.'']", (path ? lpath_4 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.3.'$'.'']", (path ? lpath_4 : null)])
                return false;
            }
        }
        else if (json_model_6(prop, (path ? lpath_4 : null), rep))
        {
            // handle 1 key props
            // .'$Model#RootModel'.'|'.3.'$'.'$Identifier'
            res = json_model_34(pval, (path ? lpath_4 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Model [.'$Model#RootModel'.'|'.3.'$'.'$Identifier']", (path ? lpath_4 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#RootModel'.'|'.3.'$'.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.3.'$'.'/^#/']", (path ? lpath_4 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.3.'$']", (path ? lpath_4 : null)])
            return false;
        }
    }
    return true;
}

// object .'$Model#RootModel'.'|'.3.'%'
function _jm_obj_5(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.3.'%']", path])
        return false;
    }
    let res;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_5 = path ? path.concat([prop]) : null;
        if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.3.'%'.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.3.'%'.'#']", (path ? lpath_5 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.3.'%'.'#']", (path ? lpath_5 : null)])
                return false;
            }
        }
        else if (prop == "<")
        {
            // handle may < property
            // .'$Model#RootModel'.'|'.3.'%'.'<'
            // .'$Model#RootModel'.'|'.3.'%'.'<'.'|'.0
            res = json_model_9(pval, (path ? lpath_5 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Ref [.'$Model#RootModel'.'|'.3.'%'.'<'.'|'.0]", (path ? lpath_5 : null)])
            }
            if (! res)
            {
                // .'$Model#RootModel'.'|'.3.'%'.'<'.'|'.1
                res = Array.isArray(pval);
                if (res)
                {
                    for (let arr_2_idx = 0; arr_2_idx < pval.length; arr_2_idx++)
                    {
                        let arr_2_item = pval[arr_2_idx]
                        let arr_2_lpath = (path ? lpath_5 : null) ? (path ? lpath_5 : null).concat([arr_2_idx]) : null;
                        // .'$Model#RootModel'.'|'.3.'%'.'<'.'|'.1.0
                        res = json_model_9(arr_2_item, ((path ? lpath_5 : null) ? arr_2_lpath : null), rep);
                        if (! res)
                        {
                            rep !== null && rep.push(["unexpected $Ref [.'$Model#RootModel'.'|'.3.'%'.'<'.'|'.1.0]", ((path ? lpath_5 : null) ? arr_2_lpath : null)])
                        }
                        if (! res)
                        {
                            break;
                        }
                    }
                }
                if (! res)
                {
                    rep !== null && rep.push(["not array or unexpected array [.'$Model#RootModel'.'|'.3.'%'.'<'.'|'.1]", (path ? lpath_5 : null)])
                }
            }
            if (res)
            {
                if (rep !== null) rep.length = 0
            }
            else
            {
                rep !== null && rep.push(["no model matched [.'$Model#RootModel'.'|'.3.'%'.'<'.'|']", (path ? lpath_5 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.3.'%'.'<']", (path ? lpath_5 : null)])
                return false;
            }
        }
        else if (json_model_13(prop, (path ? lpath_5 : null), rep))
        {
            // handle 1 key props
            // .'$Model#RootModel'.'|'.3.'%'.'$Name'
            // "/^([#|&^+/*@~=$%]|[<>!]=?)$/"
            res = ((typeof pval === 'string' || pval instanceof String)) && _jm_re_0(pval, (path ? lpath_5 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected /^([#|&^+/*@~=$%]|[<>!]=?)$/ [.'$Model#RootModel'.'|'.3.'%'.'$Name']", (path ? lpath_5 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#RootModel'.'|'.3.'%'.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.3.'%'.'/^#/']", (path ? lpath_5 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.3.'%']", (path ? lpath_5 : null)])
            return false;
        }
    }
    return true;
}

// object .'$Model#RootModel'.'|'.3
function _jm_obj_3(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.3]", path])
        return false;
    }
    let res;
    let must_count = 0;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_3 = path ? path.concat([prop]) : null;
        if (prop == "^")
        {
            // handle must ^ property
            must_count += 1;
            // .'$Model#RootModel'.'|'.3.'^'
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_1_idx = 0; arr_1_idx < pval.length; arr_1_idx++)
                {
                    let arr_1_item = pval[arr_1_idx]
                    let arr_1_lpath = (path ? lpath_3 : null) ? (path ? lpath_3 : null).concat([arr_1_idx]) : null;
                    // .'$Model#RootModel'.'|'.3.'^'.0
                    res = json_model_34(arr_1_item, ((path ? lpath_3 : null) ? arr_1_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $Model [.'$Model#RootModel'.'|'.3.'^'.0]", ((path ? lpath_3 : null) ? arr_1_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$Model#RootModel'.'|'.3.'^']", (path ? lpath_3 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Model#RootModel'.'|'.3.'^']", (path ? lpath_3 : null)])
                return false;
            }
        }
        else if (prop == "~")
        {
            // handle may ~ property
            // .'$Model#RootModel'.'|'.3.'~'
            res = json_model_4(pval, (path ? lpath_3 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Url [.'$Model#RootModel'.'|'.3.'~']", (path ? lpath_3 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.3.'~']", (path ? lpath_3 : null)])
                return false;
            }
        }
        else if (prop == "$")
        {
            // handle may $ property
            // .'$Model#RootModel'.'|'.3.'$'
            res = _jm_obj_4(pval, (path ? lpath_3 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.3.'$']", (path ? lpath_3 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.3.'$']", (path ? lpath_3 : null)])
                return false;
            }
        }
        else if (prop == "%")
        {
            // handle may % property
            // .'$Model#RootModel'.'|'.3.'%'
            res = _jm_obj_5(pval, (path ? lpath_3 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.3.'%']", (path ? lpath_3 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.3.'%']", (path ? lpath_3 : null)])
                return false;
            }
        }
        else if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.3.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.3.'#']", (path ? lpath_3 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.3.'#']", (path ? lpath_3 : null)])
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#RootModel'.'|'.3.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.3.'/^#/']", (path ? lpath_3 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.3]", (path ? lpath_3 : null)])
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("^"))
            {
                rep !== null && rep.push(["missing mandatory prop <^> [.'$Model#RootModel'.'|'.3]", path])
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#RootModel'.'|'.2.'$'
function _jm_obj_7(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.2.'$']", path])
        return false;
    }
    let res;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_7 = path ? path.concat([prop]) : null;
        if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.2.'$'.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.2.'$'.'#']", (path ? lpath_7 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.2.'$'.'#']", (path ? lpath_7 : null)])
                return false;
            }
        }
        else if (prop == "")
        {
            // handle may  property
            // .'$Model#RootModel'.'|'.2.'$'.''
            res = json_model_4(pval, (path ? lpath_7 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Url [.'$Model#RootModel'.'|'.2.'$'.'']", (path ? lpath_7 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.2.'$'.'']", (path ? lpath_7 : null)])
                return false;
            }
        }
        else if (json_model_6(prop, (path ? lpath_7 : null), rep))
        {
            // handle 1 key props
            // .'$Model#RootModel'.'|'.2.'$'.'$Identifier'
            res = json_model_34(pval, (path ? lpath_7 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Model [.'$Model#RootModel'.'|'.2.'$'.'$Identifier']", (path ? lpath_7 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#RootModel'.'|'.2.'$'.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.2.'$'.'/^#/']", (path ? lpath_7 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.2.'$']", (path ? lpath_7 : null)])
            return false;
        }
    }
    return true;
}

// object .'$Model#RootModel'.'|'.2.'%'
function _jm_obj_8(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.2.'%']", path])
        return false;
    }
    let res;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_8 = path ? path.concat([prop]) : null;
        if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.2.'%'.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.2.'%'.'#']", (path ? lpath_8 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.2.'%'.'#']", (path ? lpath_8 : null)])
                return false;
            }
        }
        else if (prop == "<")
        {
            // handle may < property
            // .'$Model#RootModel'.'|'.2.'%'.'<'
            // .'$Model#RootModel'.'|'.2.'%'.'<'.'|'.0
            res = json_model_9(pval, (path ? lpath_8 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Ref [.'$Model#RootModel'.'|'.2.'%'.'<'.'|'.0]", (path ? lpath_8 : null)])
            }
            if (! res)
            {
                // .'$Model#RootModel'.'|'.2.'%'.'<'.'|'.1
                res = Array.isArray(pval);
                if (res)
                {
                    for (let arr_4_idx = 0; arr_4_idx < pval.length; arr_4_idx++)
                    {
                        let arr_4_item = pval[arr_4_idx]
                        let arr_4_lpath = (path ? lpath_8 : null) ? (path ? lpath_8 : null).concat([arr_4_idx]) : null;
                        // .'$Model#RootModel'.'|'.2.'%'.'<'.'|'.1.0
                        res = json_model_9(arr_4_item, ((path ? lpath_8 : null) ? arr_4_lpath : null), rep);
                        if (! res)
                        {
                            rep !== null && rep.push(["unexpected $Ref [.'$Model#RootModel'.'|'.2.'%'.'<'.'|'.1.0]", ((path ? lpath_8 : null) ? arr_4_lpath : null)])
                        }
                        if (! res)
                        {
                            break;
                        }
                    }
                }
                if (! res)
                {
                    rep !== null && rep.push(["not array or unexpected array [.'$Model#RootModel'.'|'.2.'%'.'<'.'|'.1]", (path ? lpath_8 : null)])
                }
            }
            if (res)
            {
                if (rep !== null) rep.length = 0
            }
            else
            {
                rep !== null && rep.push(["no model matched [.'$Model#RootModel'.'|'.2.'%'.'<'.'|']", (path ? lpath_8 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.2.'%'.'<']", (path ? lpath_8 : null)])
                return false;
            }
        }
        else if (json_model_13(prop, (path ? lpath_8 : null), rep))
        {
            // handle 1 key props
            // .'$Model#RootModel'.'|'.2.'%'.'$Name'
            // "/^([#|&^+/*@~=$%]|[<>!]=?)$/"
            res = ((typeof pval === 'string' || pval instanceof String)) && _jm_re_0(pval, (path ? lpath_8 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected /^([#|&^+/*@~=$%]|[<>!]=?)$/ [.'$Model#RootModel'.'|'.2.'%'.'$Name']", (path ? lpath_8 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#RootModel'.'|'.2.'%'.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.2.'%'.'/^#/']", (path ? lpath_8 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.2.'%']", (path ? lpath_8 : null)])
            return false;
        }
    }
    return true;
}

// object .'$Model#RootModel'.'|'.2
function _jm_obj_6(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.2]", path])
        return false;
    }
    let res;
    let must_count = 0;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_6 = path ? path.concat([prop]) : null;
        if (prop == "&")
        {
            // handle must & property
            must_count += 1;
            // .'$Model#RootModel'.'|'.2.'&'
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_3_idx = 0; arr_3_idx < pval.length; arr_3_idx++)
                {
                    let arr_3_item = pval[arr_3_idx]
                    let arr_3_lpath = (path ? lpath_6 : null) ? (path ? lpath_6 : null).concat([arr_3_idx]) : null;
                    // .'$Model#RootModel'.'|'.2.'&'.0
                    res = json_model_34(arr_3_item, ((path ? lpath_6 : null) ? arr_3_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $Model [.'$Model#RootModel'.'|'.2.'&'.0]", ((path ? lpath_6 : null) ? arr_3_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$Model#RootModel'.'|'.2.'&']", (path ? lpath_6 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Model#RootModel'.'|'.2.'&']", (path ? lpath_6 : null)])
                return false;
            }
        }
        else if (prop == "~")
        {
            // handle may ~ property
            // .'$Model#RootModel'.'|'.2.'~'
            res = json_model_4(pval, (path ? lpath_6 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Url [.'$Model#RootModel'.'|'.2.'~']", (path ? lpath_6 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.2.'~']", (path ? lpath_6 : null)])
                return false;
            }
        }
        else if (prop == "$")
        {
            // handle may $ property
            // .'$Model#RootModel'.'|'.2.'$'
            res = _jm_obj_7(pval, (path ? lpath_6 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.2.'$']", (path ? lpath_6 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.2.'$']", (path ? lpath_6 : null)])
                return false;
            }
        }
        else if (prop == "%")
        {
            // handle may % property
            // .'$Model#RootModel'.'|'.2.'%'
            res = _jm_obj_8(pval, (path ? lpath_6 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.2.'%']", (path ? lpath_6 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.2.'%']", (path ? lpath_6 : null)])
                return false;
            }
        }
        else if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.2.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.2.'#']", (path ? lpath_6 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.2.'#']", (path ? lpath_6 : null)])
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#RootModel'.'|'.2.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.2.'/^#/']", (path ? lpath_6 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.2]", (path ? lpath_6 : null)])
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("&"))
            {
                rep !== null && rep.push(["missing mandatory prop <&> [.'$Model#RootModel'.'|'.2]", path])
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#RootModel'.'|'.1.'$'
function _jm_obj_10(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.1.'$']", path])
        return false;
    }
    let res;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_10 = path ? path.concat([prop]) : null;
        if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.1.'$'.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.1.'$'.'#']", (path ? lpath_10 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.1.'$'.'#']", (path ? lpath_10 : null)])
                return false;
            }
        }
        else if (prop == "")
        {
            // handle may  property
            // .'$Model#RootModel'.'|'.1.'$'.''
            res = json_model_4(pval, (path ? lpath_10 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Url [.'$Model#RootModel'.'|'.1.'$'.'']", (path ? lpath_10 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.1.'$'.'']", (path ? lpath_10 : null)])
                return false;
            }
        }
        else if (json_model_6(prop, (path ? lpath_10 : null), rep))
        {
            // handle 1 key props
            // .'$Model#RootModel'.'|'.1.'$'.'$Identifier'
            res = json_model_34(pval, (path ? lpath_10 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Model [.'$Model#RootModel'.'|'.1.'$'.'$Identifier']", (path ? lpath_10 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#RootModel'.'|'.1.'$'.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.1.'$'.'/^#/']", (path ? lpath_10 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.1.'$']", (path ? lpath_10 : null)])
            return false;
        }
    }
    return true;
}

// object .'$Model#RootModel'.'|'.1.'%'
function _jm_obj_11(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.1.'%']", path])
        return false;
    }
    let res;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_11 = path ? path.concat([prop]) : null;
        if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.1.'%'.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.1.'%'.'#']", (path ? lpath_11 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.1.'%'.'#']", (path ? lpath_11 : null)])
                return false;
            }
        }
        else if (prop == "<")
        {
            // handle may < property
            // .'$Model#RootModel'.'|'.1.'%'.'<'
            // .'$Model#RootModel'.'|'.1.'%'.'<'.'|'.0
            res = json_model_9(pval, (path ? lpath_11 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Ref [.'$Model#RootModel'.'|'.1.'%'.'<'.'|'.0]", (path ? lpath_11 : null)])
            }
            if (! res)
            {
                // .'$Model#RootModel'.'|'.1.'%'.'<'.'|'.1
                res = Array.isArray(pval);
                if (res)
                {
                    for (let arr_6_idx = 0; arr_6_idx < pval.length; arr_6_idx++)
                    {
                        let arr_6_item = pval[arr_6_idx]
                        let arr_6_lpath = (path ? lpath_11 : null) ? (path ? lpath_11 : null).concat([arr_6_idx]) : null;
                        // .'$Model#RootModel'.'|'.1.'%'.'<'.'|'.1.0
                        res = json_model_9(arr_6_item, ((path ? lpath_11 : null) ? arr_6_lpath : null), rep);
                        if (! res)
                        {
                            rep !== null && rep.push(["unexpected $Ref [.'$Model#RootModel'.'|'.1.'%'.'<'.'|'.1.0]", ((path ? lpath_11 : null) ? arr_6_lpath : null)])
                        }
                        if (! res)
                        {
                            break;
                        }
                    }
                }
                if (! res)
                {
                    rep !== null && rep.push(["not array or unexpected array [.'$Model#RootModel'.'|'.1.'%'.'<'.'|'.1]", (path ? lpath_11 : null)])
                }
            }
            if (res)
            {
                if (rep !== null) rep.length = 0
            }
            else
            {
                rep !== null && rep.push(["no model matched [.'$Model#RootModel'.'|'.1.'%'.'<'.'|']", (path ? lpath_11 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.1.'%'.'<']", (path ? lpath_11 : null)])
                return false;
            }
        }
        else if (json_model_13(prop, (path ? lpath_11 : null), rep))
        {
            // handle 1 key props
            // .'$Model#RootModel'.'|'.1.'%'.'$Name'
            // "/^([#|&^+/*@~=$%]|[<>!]=?)$/"
            res = ((typeof pval === 'string' || pval instanceof String)) && _jm_re_0(pval, (path ? lpath_11 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected /^([#|&^+/*@~=$%]|[<>!]=?)$/ [.'$Model#RootModel'.'|'.1.'%'.'$Name']", (path ? lpath_11 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#RootModel'.'|'.1.'%'.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.1.'%'.'/^#/']", (path ? lpath_11 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.1.'%']", (path ? lpath_11 : null)])
            return false;
        }
    }
    return true;
}

// object .'$Model#RootModel'.'|'.1
function _jm_obj_9(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.1]", path])
        return false;
    }
    let res;
    let must_count = 0;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_9 = path ? path.concat([prop]) : null;
        if (prop == "|")
        {
            // handle must | property
            must_count += 1;
            // .'$Model#RootModel'.'|'.1.'|'
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_5_idx = 0; arr_5_idx < pval.length; arr_5_idx++)
                {
                    let arr_5_item = pval[arr_5_idx]
                    let arr_5_lpath = (path ? lpath_9 : null) ? (path ? lpath_9 : null).concat([arr_5_idx]) : null;
                    // .'$Model#RootModel'.'|'.1.'|'.0
                    res = json_model_34(arr_5_item, ((path ? lpath_9 : null) ? arr_5_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $Model [.'$Model#RootModel'.'|'.1.'|'.0]", ((path ? lpath_9 : null) ? arr_5_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$Model#RootModel'.'|'.1.'|']", (path ? lpath_9 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Model#RootModel'.'|'.1.'|']", (path ? lpath_9 : null)])
                return false;
            }
        }
        else if (prop == "~")
        {
            // handle may ~ property
            // .'$Model#RootModel'.'|'.1.'~'
            res = json_model_4(pval, (path ? lpath_9 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Url [.'$Model#RootModel'.'|'.1.'~']", (path ? lpath_9 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.1.'~']", (path ? lpath_9 : null)])
                return false;
            }
        }
        else if (prop == "$")
        {
            // handle may $ property
            // .'$Model#RootModel'.'|'.1.'$'
            res = _jm_obj_10(pval, (path ? lpath_9 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.1.'$']", (path ? lpath_9 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.1.'$']", (path ? lpath_9 : null)])
                return false;
            }
        }
        else if (prop == "%")
        {
            // handle may % property
            // .'$Model#RootModel'.'|'.1.'%'
            res = _jm_obj_11(pval, (path ? lpath_9 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.1.'%']", (path ? lpath_9 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.1.'%']", (path ? lpath_9 : null)])
                return false;
            }
        }
        else if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.1.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.1.'#']", (path ? lpath_9 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.1.'#']", (path ? lpath_9 : null)])
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#RootModel'.'|'.1.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.1.'/^#/']", (path ? lpath_9 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.1]", (path ? lpath_9 : null)])
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("|"))
            {
                rep !== null && rep.push(["missing mandatory prop <|> [.'$Model#RootModel'.'|'.1]", path])
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#RootModel'.'|'.0.'$'
function _jm_obj_13(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.0.'$']", path])
        return false;
    }
    let res;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_13 = path ? path.concat([prop]) : null;
        if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.0.'$'.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.0.'$'.'#']", (path ? lpath_13 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.0.'$'.'#']", (path ? lpath_13 : null)])
                return false;
            }
        }
        else if (prop == "")
        {
            // handle may  property
            // .'$Model#RootModel'.'|'.0.'$'.''
            res = json_model_4(pval, (path ? lpath_13 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Url [.'$Model#RootModel'.'|'.0.'$'.'']", (path ? lpath_13 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.0.'$'.'']", (path ? lpath_13 : null)])
                return false;
            }
        }
        else if (json_model_6(prop, (path ? lpath_13 : null), rep))
        {
            // handle 1 key props
            // .'$Model#RootModel'.'|'.0.'$'.'$Identifier'
            res = json_model_34(pval, (path ? lpath_13 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Model [.'$Model#RootModel'.'|'.0.'$'.'$Identifier']", (path ? lpath_13 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#RootModel'.'|'.0.'$'.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.0.'$'.'/^#/']", (path ? lpath_13 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.0.'$']", (path ? lpath_13 : null)])
            return false;
        }
    }
    return true;
}

// object .'$Model#RootModel'.'|'.0.'%'
function _jm_obj_14(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.0.'%']", path])
        return false;
    }
    let res;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_14 = path ? path.concat([prop]) : null;
        if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.0.'%'.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.0.'%'.'#']", (path ? lpath_14 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.0.'%'.'#']", (path ? lpath_14 : null)])
                return false;
            }
        }
        else if (prop == "<")
        {
            // handle may < property
            // .'$Model#RootModel'.'|'.0.'%'.'<'
            // .'$Model#RootModel'.'|'.0.'%'.'<'.'|'.0
            res = json_model_9(pval, (path ? lpath_14 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Ref [.'$Model#RootModel'.'|'.0.'%'.'<'.'|'.0]", (path ? lpath_14 : null)])
            }
            if (! res)
            {
                // .'$Model#RootModel'.'|'.0.'%'.'<'.'|'.1
                res = Array.isArray(pval);
                if (res)
                {
                    for (let arr_7_idx = 0; arr_7_idx < pval.length; arr_7_idx++)
                    {
                        let arr_7_item = pval[arr_7_idx]
                        let arr_7_lpath = (path ? lpath_14 : null) ? (path ? lpath_14 : null).concat([arr_7_idx]) : null;
                        // .'$Model#RootModel'.'|'.0.'%'.'<'.'|'.1.0
                        res = json_model_9(arr_7_item, ((path ? lpath_14 : null) ? arr_7_lpath : null), rep);
                        if (! res)
                        {
                            rep !== null && rep.push(["unexpected $Ref [.'$Model#RootModel'.'|'.0.'%'.'<'.'|'.1.0]", ((path ? lpath_14 : null) ? arr_7_lpath : null)])
                        }
                        if (! res)
                        {
                            break;
                        }
                    }
                }
                if (! res)
                {
                    rep !== null && rep.push(["not array or unexpected array [.'$Model#RootModel'.'|'.0.'%'.'<'.'|'.1]", (path ? lpath_14 : null)])
                }
            }
            if (res)
            {
                if (rep !== null) rep.length = 0
            }
            else
            {
                rep !== null && rep.push(["no model matched [.'$Model#RootModel'.'|'.0.'%'.'<'.'|']", (path ? lpath_14 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.0.'%'.'<']", (path ? lpath_14 : null)])
                return false;
            }
        }
        else if (json_model_13(prop, (path ? lpath_14 : null), rep))
        {
            // handle 1 key props
            // .'$Model#RootModel'.'|'.0.'%'.'$Name'
            // "/^([#|&^+/*@~=$%]|[<>!]=?)$/"
            res = ((typeof pval === 'string' || pval instanceof String)) && _jm_re_0(pval, (path ? lpath_14 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected /^([#|&^+/*@~=$%]|[<>!]=?)$/ [.'$Model#RootModel'.'|'.0.'%'.'$Name']", (path ? lpath_14 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#RootModel'.'|'.0.'%'.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.0.'%'.'/^#/']", (path ? lpath_14 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.0.'%']", (path ? lpath_14 : null)])
            return false;
        }
    }
    return true;
}

const _jm_re_1 = (s) => _jm_re_1_re.exec(s) !== null

const _jm_re_2 = (s) => _jm_re_2_re.exec(s) !== null

// object .'$Model#RootModel'.'|'.0
function _jm_obj_12(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#RootModel'.'|'.0]", path])
        return false;
    }
    let res;
    let must_count = 0;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_12 = path ? path.concat([prop]) : null;
        if (prop == "@")
        {
            // handle must @ property
            must_count += 1;
            // .'$Model#RootModel'.'|'.0.'@'
            res = json_model_34(pval, (path ? lpath_12 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Model [.'$Model#RootModel'.'|'.0.'@']", (path ? lpath_12 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Model#RootModel'.'|'.0.'@']", (path ? lpath_12 : null)])
                return false;
            }
        }
        else if (prop == "~")
        {
            // handle may ~ property
            // .'$Model#RootModel'.'|'.0.'~'
            res = json_model_4(pval, (path ? lpath_12 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Url [.'$Model#RootModel'.'|'.0.'~']", (path ? lpath_12 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.0.'~']", (path ? lpath_12 : null)])
                return false;
            }
        }
        else if (prop == "$")
        {
            // handle may $ property
            // .'$Model#RootModel'.'|'.0.'$'
            res = _jm_obj_13(pval, (path ? lpath_12 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.0.'$']", (path ? lpath_12 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.0.'$']", (path ? lpath_12 : null)])
                return false;
            }
        }
        else if (prop == "%")
        {
            // handle may % property
            // .'$Model#RootModel'.'|'.0.'%'
            res = _jm_obj_14(pval, (path ? lpath_12 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.0.'%']", (path ? lpath_12 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.0.'%']", (path ? lpath_12 : null)])
                return false;
            }
        }
        else if (prop == "#")
        {
            // handle may # property
            // .'$Model#RootModel'.'|'.0.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#RootModel'.'|'.0.'#']", (path ? lpath_12 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.0.'#']", (path ? lpath_12 : null)])
                return false;
            }
        }
        else if (prop == "!")
        {
            // handle may ! property
            // .'$Model#RootModel'.'|'.0.'!'
            res = (typeof pval === 'boolean' || pval instanceof Boolean);
            if (! res)
            {
                rep !== null && rep.push(["not a bool [.'$Model#RootModel'.'|'.0.'!']", (path ? lpath_12 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#RootModel'.'|'.0.'!']", (path ? lpath_12 : null)])
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 3 re props
            // .'$Model#RootModel'.'|'.0.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#RootModel'.'|'.0.'/^#/']", (path ? lpath_12 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_1(prop, path, rep))
        {
            // handle 3 re props
            // .'$Model#RootModel'.'|'.0.'/^(<=|>=|<|>)$/'
            res = json_model_14(pval, (path ? lpath_12 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $CmpValue [.'$Model#RootModel'.'|'.0.'/^(<=|>=|<|>)$/']", (path ? lpath_12 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_2(prop, path, rep))
        {
            // handle 3 re props
            // .'$Model#RootModel'.'|'.0.'/^(=|!=)$/'
            res = json_model_15(pval, (path ? lpath_12 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $EqValue [.'$Model#RootModel'.'|'.0.'/^(=|!=)$/']", (path ? lpath_12 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#RootModel'.'|'.0]", (path ? lpath_12 : null)])
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("@"))
            {
                rep !== null && rep.push(["missing mandatory prop <@> [.'$Model#RootModel'.'|'.0]", path])
            }
        }
        return false;
    }
    return true;
}


const _jm_xre_0_re = (s) => _jm_xre_0_re_re.exec(s) !== null

function _jm_xre_0(val, path, rep)
{
    let extract = val;
    let match = _jm_xre_0_re_re.exec(val);
    if (! match)
    {
        return false;
    }
    extract = match.groups["s1"]
    if (! runtime.jm_is_valid_regex(extract, false))
    {
        return false;
    }
    return true;
}

const _jm_xre_1_re = (s) => _jm_xre_1_re_re.exec(s) !== null

function _jm_xre_1(val, path, rep)
{
    let extract = val;
    let match = _jm_xre_1_re_re.exec(val);
    if (! match)
    {
        return false;
    }
    extract = match.groups["s1"]
    if (! runtime.jm_is_valid_regex(extract, true))
    {
        return false;
    }
    return true;
}

// check $Model#RootModel (.'$Model#RootModel')
function json_model_41(val, path, rep)
{
    let res;
    // .'$Model#RootModel'
    res = Object.prototype.toString.call(val) === '[object Object]';
    if (! res)
    {
        rep !== null && rep.push(["unexpected type [.'$Model#RootModel'.'|']", path])
    }
    if (res)
    {
        // .'$Model#RootModel'.'|'.0
        res = _jm_obj_12(val, path, rep);
        if (! res)
        {
            rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.0]", path])
        }
        if (! res)
        {
            // .'$Model#RootModel'.'|'.1
            res = _jm_obj_9(val, path, rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.1]", path])
            }
            if (! res)
            {
                // .'$Model#RootModel'.'|'.2
                res = _jm_obj_6(val, path, rep);
                if (! res)
                {
                    rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.2]", path])
                }
                if (! res)
                {
                    // .'$Model#RootModel'.'|'.3
                    res = _jm_obj_3(val, path, rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.3]", path])
                    }
                    if (! res)
                    {
                        // .'$Model#RootModel'.'|'.4
                        res = _jm_obj_0(val, path, rep);
                        if (! res)
                        {
                            rep !== null && rep.push(["unexpected element [.'$Model#RootModel'.'|'.4]", path])
                        }
                    }
                }
            }
        }
        if (res)
        {
            if (rep !== null) rep.length = 0
        }
        else
        {
            rep !== null && rep.push(["no model matched [.'$Model#RootModel'.'|']", path])
        }
    }
    if (! res)
    {
        res = ((val === null || (typeof val === 'number' || val instanceof Number) || (typeof val === 'boolean' || val instanceof Boolean) || (typeof val === 'string' || val instanceof String))) && _jm_cst_0.has(val);
        if (! res)
        {
            rep !== null && rep.push(["value not in enum [.'$Model#RootModel'.'|']", path])
        }
        if (! res)
        {
            // .'$Model#RootModel'.'|'.0
            res = json_model_11(val, path, rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $StrConst [.'$Model#RootModel'.'|'.0]", path])
            }
            if (! res)
            {
                // .'$Model#RootModel'.'|'.1
                res = json_model_10(val, path, rep);
                if (! res)
                {
                    rep !== null && rep.push(["unexpected $ValConst [.'$Model#RootModel'.'|'.1]", path])
                }
                if (! res)
                {
                    // .'$Model#RootModel'.'|'.2
                    // "/^/($EXREG)/[a-z]*X[a-z]*$/X"
                    res = ((typeof val === 'string' || val instanceof String)) && _jm_xre_1(val, path, rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected /^/($EXREG)/[a-z]*X[a-z]*$/X [.'$Model#RootModel'.'|'.2]", path])
                    }
                    if (! res)
                    {
                        // .'$Model#RootModel'.'|'.3
                        // "/^/($REGEX)/[a-z]*$/X"
                        res = ((typeof val === 'string' || val instanceof String)) && _jm_xre_0(val, path, rep);
                        if (! res)
                        {
                            rep !== null && rep.push(["unexpected /^/($REGEX)/[a-z]*$/X [.'$Model#RootModel'.'|'.3]", path])
                        }
                        if (! res)
                        {
                            // .'$Model#RootModel'.'|'.4
                            res = json_model_9(val, path, rep);
                            if (! res)
                            {
                                rep !== null && rep.push(["unexpected $Ref [.'$Model#RootModel'.'|'.4]", path])
                            }
                            if (! res)
                            {
                                // .'$Model#RootModel'.'|'.5
                                res = json_model_20(val, path, rep);
                                if (! res)
                                {
                                    rep !== null && rep.push(["unexpected $Array [.'$Model#RootModel'.'|'.5]", path])
                                }
                            }
                        }
                    }
                }
            }
            if (res)
            {
                if (rep !== null) rep.length = 0
            }
            else
            {
                rep !== null && rep.push(["no model matched [.'$Model#RootModel'.'|']", path])
            }
        }
    }
    return res;
}

const _jm_re_3 = (s) => _jm_re_3_re.exec(s) !== null

// check $Model#Url (.'$Model#Url')
function json_model_4(val, path, rep)
{
    let res;
    // .'$Model#Url'
    // "/^((file|https?)://.+|\\./.*|\\.\\./.*)$/"
    res = ((typeof val === 'string' || val instanceof String)) && _jm_re_3(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected /^((file|https?)://.+|\\./.*|\\.\\./.*)$/ [.'$Model#Url']", path])
    }
    return res;
}

const _jm_re_4 = (s) => _jm_re_4_re.exec(s) !== null

const _jm_re_5 = (s) => _jm_re_5_re.exec(s) !== null

// check $Model#Identifier (.'$Model#Identifier')
function json_model_6(val, path, rep)
{
    let res;
    // .'$Model#Identifier'
    res = (typeof val === 'string' || val instanceof String);
    if (res)
    {
        // .'$Model#Identifier'.'&'.0
        // "/^\\w+$/"
        res = _jm_re_5(val, path, rep);
        if (! res)
        {
            rep !== null && rep.push(["unexpected /^\\w+$/ [.'$Model#Identifier'.'&'.0]", path])
        }
        if (res)
        {
            // .'$Model#Identifier'.'&'.1
            // "/[^A-Z0-9]/"
            res = _jm_re_4(val, path, rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected /[^A-Z0-9]/ [.'$Model#Identifier'.'&'.1]", path])
            }
        }
    }
    if (res)
    {
        if (rep !== null) rep.length = 0
    }
    else
    {
        rep !== null && rep.push(["not all model match [.'$Model#Identifier'.'&']", path])
    }
    return res;
}

const _jm_re_6 = (s) => _jm_re_6_re.exec(s) !== null

// check $Model#Ref (.'$Model#Ref')
function json_model_9(val, path, rep)
{
    let res;
    // .'$Model#Ref'
    // "/^\\$./"
    res = ((typeof val === 'string' || val instanceof String)) && _jm_re_6(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected /^\\$./ [.'$Model#Ref']", path])
    }
    return res;
}

const _jm_re_7 = (s) => _jm_re_7_re.exec(s) !== null

// check $Model#ValConst (.'$Model#ValConst')
function json_model_10(val, path, rep)
{
    let res;
    // .'$Model#ValConst'
    // "/^=(null|true|false|[-+]?\\d+(\\.\\d+)?([Ee][-+]?\\d+)?)$/"
    res = ((typeof val === 'string' || val instanceof String)) && _jm_re_7(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected /^=(null|true|false|[-+]?\\d+(\\.\\d+)?([Ee][-+]?\\d+)?)$/ [.'$Model#ValConst']", path])
    }
    return res;
}

const _jm_re_8 = (s) => _jm_re_8_re.exec(s) !== null

// check $Model#StrConst (.'$Model#StrConst')
function json_model_11(val, path, rep)
{
    let res;
    // .'$Model#StrConst'
    // "/^[A-Za-z0-9_]/"
    res = ((typeof val === 'string' || val instanceof String)) && _jm_re_8(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected /^[A-Za-z0-9_]/ [.'$Model#StrConst']", path])
    }
    return res;
}

const _jm_re_9 = (s) => _jm_re_9_re.exec(s) !== null

// check $Model#Name (.'$Model#Name')
function json_model_13(val, path, rep)
{
    let res;
    // .'$Model#Name'
    // "/^\\..+$/"
    res = ((typeof val === 'string' || val instanceof String)) && _jm_re_9(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected /^\\..+$/ [.'$Model#Name']", path])
    }
    return res;
}

// check $Model#CmpValue (.'$Model#CmpValue')
function json_model_14(val, path, rep)
{
    let res;
    // .'$Model#CmpValue'
    // .'$Model#CmpValue'.'|'.0
    res = (typeof val === 'number' || val instanceof Number) && Number.isInteger(val);
    if (! res)
    {
        rep !== null && rep.push(["not a -1 strict int [.'$Model#CmpValue'.'|'.0]", path])
    }
    if (! res)
    {
        // .'$Model#CmpValue'.'|'.1
        res = (typeof val === 'number' || val instanceof Number);
        if (! res)
        {
            rep !== null && rep.push(["not a -1.0 strict float [.'$Model#CmpValue'.'|'.1]", path])
        }
        if (! res)
        {
            // .'$Model#CmpValue'.'|'.2
            res = (typeof val === 'string' || val instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#CmpValue'.'|'.2]", path])
            }
        }
    }
    if (res)
    {
        if (rep !== null) rep.length = 0
    }
    else
    {
        rep !== null && rep.push(["no model matched [.'$Model#CmpValue'.'|']", path])
    }
    return res;
}

// check $Model#EqValue (.'$Model#EqValue')
function json_model_15(val, path, rep)
{
    let res;
    // .'$Model#EqValue'
    // .'$Model#EqValue'.'|'.0
    res = val === null;
    if (! res)
    {
        rep !== null && rep.push(["not null [.'$Model#EqValue'.'|'.0]", path])
    }
    if (! res)
    {
        // .'$Model#EqValue'.'|'.1
        res = (typeof val === 'boolean' || val instanceof Boolean);
        if (! res)
        {
            rep !== null && rep.push(["not a bool [.'$Model#EqValue'.'|'.1]", path])
        }
        if (! res)
        {
            // .'$Model#EqValue'.'|'.2
            res = (typeof val === 'number' || val instanceof Number) && Number.isInteger(val);
            if (! res)
            {
                rep !== null && rep.push(["not a -1 strict int [.'$Model#EqValue'.'|'.2]", path])
            }
            if (! res)
            {
                // .'$Model#EqValue'.'|'.3
                res = (typeof val === 'number' || val instanceof Number);
                if (! res)
                {
                    rep !== null && rep.push(["not a -1.0 strict float [.'$Model#EqValue'.'|'.3]", path])
                }
                if (! res)
                {
                    // .'$Model#EqValue'.'|'.4
                    res = (typeof val === 'string' || val instanceof String);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected string [.'$Model#EqValue'.'|'.4]", path])
                    }
                }
            }
        }
    }
    if (res)
    {
        if (rep !== null) rep.length = 0
    }
    else
    {
        rep !== null && rep.push(["no model matched [.'$Model#EqValue'.'|']", path])
    }
    return res;
}

// object .'$Model#Array'.0.'|'.4
function _jm_obj_15(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#Array'.0.'|'.4]", path])
        return false;
    }
    let res;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_15 = path ? path.concat([prop]) : null;
        if (prop == "#")
        {
            // handle may # property
            // .'$Model#Array'.0.'|'.4.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#Array'.0.'|'.4.'#']", (path ? lpath_15 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#Array'.0.'|'.4.'#']", (path ? lpath_15 : null)])
                return false;
            }
        }
        else if (json_model_27(prop, (path ? lpath_15 : null), rep))
        {
            // handle 1 key props
            // .'$Model#Array'.0.'|'.4.'$Prop'
            res = json_model_34(pval, (path ? lpath_15 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Model [.'$Model#Array'.0.'|'.4.'$Prop']", (path ? lpath_15 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#Array'.0.'|'.4.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#Array'.0.'|'.4.'/^#/']", (path ? lpath_15 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#Array'.0.'|'.4]", (path ? lpath_15 : null)])
            return false;
        }
    }
    return true;
}

// object .'$Model#Array'.0.'|'.3
function _jm_obj_16(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#Array'.0.'|'.3]", path])
        return false;
    }
    let res;
    let must_count = 0;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_16 = path ? path.concat([prop]) : null;
        if (prop == "^")
        {
            // handle must ^ property
            must_count += 1;
            // .'$Model#Array'.0.'|'.3.'^'
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_9_idx = 0; arr_9_idx < pval.length; arr_9_idx++)
                {
                    let arr_9_item = pval[arr_9_idx]
                    let arr_9_lpath = (path ? lpath_16 : null) ? (path ? lpath_16 : null).concat([arr_9_idx]) : null;
                    // .'$Model#Array'.0.'|'.3.'^'.0
                    res = json_model_34(arr_9_item, ((path ? lpath_16 : null) ? arr_9_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $Model [.'$Model#Array'.0.'|'.3.'^'.0]", ((path ? lpath_16 : null) ? arr_9_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$Model#Array'.0.'|'.3.'^']", (path ? lpath_16 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Model#Array'.0.'|'.3.'^']", (path ? lpath_16 : null)])
                return false;
            }
        }
        else if (prop == "#")
        {
            // handle may # property
            // .'$Model#Array'.0.'|'.3.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#Array'.0.'|'.3.'#']", (path ? lpath_16 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#Array'.0.'|'.3.'#']", (path ? lpath_16 : null)])
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#Array'.0.'|'.3.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#Array'.0.'|'.3.'/^#/']", (path ? lpath_16 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#Array'.0.'|'.3]", (path ? lpath_16 : null)])
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("^"))
            {
                rep !== null && rep.push(["missing mandatory prop <^> [.'$Model#Array'.0.'|'.3]", path])
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#Array'.0.'|'.2
function _jm_obj_17(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#Array'.0.'|'.2]", path])
        return false;
    }
    let res;
    let must_count = 0;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_17 = path ? path.concat([prop]) : null;
        if (prop == "&")
        {
            // handle must & property
            must_count += 1;
            // .'$Model#Array'.0.'|'.2.'&'
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_10_idx = 0; arr_10_idx < pval.length; arr_10_idx++)
                {
                    let arr_10_item = pval[arr_10_idx]
                    let arr_10_lpath = (path ? lpath_17 : null) ? (path ? lpath_17 : null).concat([arr_10_idx]) : null;
                    // .'$Model#Array'.0.'|'.2.'&'.0
                    res = json_model_34(arr_10_item, ((path ? lpath_17 : null) ? arr_10_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $Model [.'$Model#Array'.0.'|'.2.'&'.0]", ((path ? lpath_17 : null) ? arr_10_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$Model#Array'.0.'|'.2.'&']", (path ? lpath_17 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Model#Array'.0.'|'.2.'&']", (path ? lpath_17 : null)])
                return false;
            }
        }
        else if (prop == "#")
        {
            // handle may # property
            // .'$Model#Array'.0.'|'.2.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#Array'.0.'|'.2.'#']", (path ? lpath_17 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#Array'.0.'|'.2.'#']", (path ? lpath_17 : null)])
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#Array'.0.'|'.2.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#Array'.0.'|'.2.'/^#/']", (path ? lpath_17 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#Array'.0.'|'.2]", (path ? lpath_17 : null)])
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("&"))
            {
                rep !== null && rep.push(["missing mandatory prop <&> [.'$Model#Array'.0.'|'.2]", path])
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#Array'.0.'|'.1
function _jm_obj_18(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#Array'.0.'|'.1]", path])
        return false;
    }
    let res;
    let must_count = 0;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_18 = path ? path.concat([prop]) : null;
        if (prop == "|")
        {
            // handle must | property
            must_count += 1;
            // .'$Model#Array'.0.'|'.1.'|'
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_11_idx = 0; arr_11_idx < pval.length; arr_11_idx++)
                {
                    let arr_11_item = pval[arr_11_idx]
                    let arr_11_lpath = (path ? lpath_18 : null) ? (path ? lpath_18 : null).concat([arr_11_idx]) : null;
                    // .'$Model#Array'.0.'|'.1.'|'.0
                    res = json_model_34(arr_11_item, ((path ? lpath_18 : null) ? arr_11_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $Model [.'$Model#Array'.0.'|'.1.'|'.0]", ((path ? lpath_18 : null) ? arr_11_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$Model#Array'.0.'|'.1.'|']", (path ? lpath_18 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Model#Array'.0.'|'.1.'|']", (path ? lpath_18 : null)])
                return false;
            }
        }
        else if (prop == "#")
        {
            // handle may # property
            // .'$Model#Array'.0.'|'.1.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#Array'.0.'|'.1.'#']", (path ? lpath_18 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#Array'.0.'|'.1.'#']", (path ? lpath_18 : null)])
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#Array'.0.'|'.1.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#Array'.0.'|'.1.'/^#/']", (path ? lpath_18 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#Array'.0.'|'.1]", (path ? lpath_18 : null)])
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("|"))
            {
                rep !== null && rep.push(["missing mandatory prop <|> [.'$Model#Array'.0.'|'.1]", path])
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#Array'.0.'|'.0
function _jm_obj_19(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#Array'.0.'|'.0]", path])
        return false;
    }
    let res;
    let must_count = 0;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_19 = path ? path.concat([prop]) : null;
        if (prop == "@")
        {
            // handle must @ property
            must_count += 1;
            // .'$Model#Array'.0.'|'.0.'@'
            res = json_model_34(pval, (path ? lpath_19 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Model [.'$Model#Array'.0.'|'.0.'@']", (path ? lpath_19 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Model#Array'.0.'|'.0.'@']", (path ? lpath_19 : null)])
                return false;
            }
        }
        else if (prop == "#")
        {
            // handle may # property
            // .'$Model#Array'.0.'|'.0.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#Array'.0.'|'.0.'#']", (path ? lpath_19 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#Array'.0.'|'.0.'#']", (path ? lpath_19 : null)])
                return false;
            }
        }
        else if (prop == "!")
        {
            // handle may ! property
            // .'$Model#Array'.0.'|'.0.'!'
            res = (typeof pval === 'boolean' || pval instanceof Boolean);
            if (! res)
            {
                rep !== null && rep.push(["not a bool [.'$Model#Array'.0.'|'.0.'!']", (path ? lpath_19 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#Array'.0.'|'.0.'!']", (path ? lpath_19 : null)])
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 3 re props
            // .'$Model#Array'.0.'|'.0.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#Array'.0.'|'.0.'/^#/']", (path ? lpath_19 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_1(prop, path, rep))
        {
            // handle 3 re props
            // .'$Model#Array'.0.'|'.0.'/^(<=|>=|<|>)$/'
            res = json_model_14(pval, (path ? lpath_19 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $CmpValue [.'$Model#Array'.0.'|'.0.'/^(<=|>=|<|>)$/']", (path ? lpath_19 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_2(prop, path, rep))
        {
            // handle 3 re props
            // .'$Model#Array'.0.'|'.0.'/^(=|!=)$/'
            res = json_model_15(pval, (path ? lpath_19 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $EqValue [.'$Model#Array'.0.'|'.0.'/^(=|!=)$/']", (path ? lpath_19 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#Array'.0.'|'.0]", (path ? lpath_19 : null)])
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("@"))
            {
                rep !== null && rep.push(["missing mandatory prop <@> [.'$Model#Array'.0.'|'.0]", path])
            }
        }
        return false;
    }
    return true;
}


// check $Model#Array (.'$Model#Array')
function json_model_20(val, path, rep)
{
    let res;
    // .'$Model#Array'
    res = Array.isArray(val);
    if (res)
    {
        for (let arr_8_idx = 0; arr_8_idx < val.length; arr_8_idx++)
        {
            let arr_8_item = val[arr_8_idx]
            let arr_8_lpath = path ? path.concat([arr_8_idx]) : null;
            // .'$Model#Array'.0
            res = Object.prototype.toString.call(arr_8_item) === '[object Object]';
            if (! res)
            {
                rep !== null && rep.push(["unexpected type [.'$Model#Array'.0.'|']", (path ? arr_8_lpath : null)])
            }
            if (res)
            {
                // .'$Model#Array'.0.'|'.0
                res = _jm_obj_19(arr_8_item, (path ? arr_8_lpath : null), rep);
                if (! res)
                {
                    rep !== null && rep.push(["unexpected element [.'$Model#Array'.0.'|'.0]", (path ? arr_8_lpath : null)])
                }
                if (! res)
                {
                    // .'$Model#Array'.0.'|'.1
                    res = _jm_obj_18(arr_8_item, (path ? arr_8_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected element [.'$Model#Array'.0.'|'.1]", (path ? arr_8_lpath : null)])
                    }
                    if (! res)
                    {
                        // .'$Model#Array'.0.'|'.2
                        res = _jm_obj_17(arr_8_item, (path ? arr_8_lpath : null), rep);
                        if (! res)
                        {
                            rep !== null && rep.push(["unexpected element [.'$Model#Array'.0.'|'.2]", (path ? arr_8_lpath : null)])
                        }
                        if (! res)
                        {
                            // .'$Model#Array'.0.'|'.3
                            res = _jm_obj_16(arr_8_item, (path ? arr_8_lpath : null), rep);
                            if (! res)
                            {
                                rep !== null && rep.push(["unexpected element [.'$Model#Array'.0.'|'.3]", (path ? arr_8_lpath : null)])
                            }
                            if (! res)
                            {
                                // .'$Model#Array'.0.'|'.4
                                res = _jm_obj_15(arr_8_item, (path ? arr_8_lpath : null), rep);
                                if (! res)
                                {
                                    rep !== null && rep.push(["unexpected element [.'$Model#Array'.0.'|'.4]", (path ? arr_8_lpath : null)])
                                }
                            }
                        }
                    }
                }
                if (res)
                {
                    if (rep !== null) rep.length = 0
                }
                else
                {
                    rep !== null && rep.push(["no model matched [.'$Model#Array'.0.'|']", (path ? arr_8_lpath : null)])
                }
            }
            if (! res)
            {
                res = ((arr_8_item === null || (typeof arr_8_item === 'number' || arr_8_item instanceof Number) || (typeof arr_8_item === 'boolean' || arr_8_item instanceof Boolean) || (typeof arr_8_item === 'string' || arr_8_item instanceof String))) && _jm_cst_1.has(arr_8_item);
                if (! res)
                {
                    rep !== null && rep.push(["value not in enum [.'$Model#Array'.0.'|']", (path ? arr_8_lpath : null)])
                }
                if (! res)
                {
                    // .'$Model#Array'.0.'|'.0
                    res = json_model_11(arr_8_item, (path ? arr_8_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $StrConst [.'$Model#Array'.0.'|'.0]", (path ? arr_8_lpath : null)])
                    }
                    if (! res)
                    {
                        // .'$Model#Array'.0.'|'.1
                        res = json_model_10(arr_8_item, (path ? arr_8_lpath : null), rep);
                        if (! res)
                        {
                            rep !== null && rep.push(["unexpected $ValConst [.'$Model#Array'.0.'|'.1]", (path ? arr_8_lpath : null)])
                        }
                        if (! res)
                        {
                            // .'$Model#Array'.0.'|'.2
                            // "/^/($EXREG)/[a-z]*X[a-z]*$/X"
                            res = ((typeof arr_8_item === 'string' || arr_8_item instanceof String)) && _jm_xre_1(arr_8_item, (path ? arr_8_lpath : null), rep);
                            if (! res)
                            {
                                rep !== null && rep.push(["unexpected /^/($EXREG)/[a-z]*X[a-z]*$/X [.'$Model#Array'.0.'|'.2]", (path ? arr_8_lpath : null)])
                            }
                            if (! res)
                            {
                                // .'$Model#Array'.0.'|'.3
                                // "/^/($REGEX)/[a-z]*$/X"
                                res = ((typeof arr_8_item === 'string' || arr_8_item instanceof String)) && _jm_xre_0(arr_8_item, (path ? arr_8_lpath : null), rep);
                                if (! res)
                                {
                                    rep !== null && rep.push(["unexpected /^/($REGEX)/[a-z]*$/X [.'$Model#Array'.0.'|'.3]", (path ? arr_8_lpath : null)])
                                }
                                if (! res)
                                {
                                    // .'$Model#Array'.0.'|'.4
                                    res = json_model_9(arr_8_item, (path ? arr_8_lpath : null), rep);
                                    if (! res)
                                    {
                                        rep !== null && rep.push(["unexpected $Ref [.'$Model#Array'.0.'|'.4]", (path ? arr_8_lpath : null)])
                                    }
                                    if (! res)
                                    {
                                        // .'$Model#Array'.0.'|'.5
                                        res = json_model_20(arr_8_item, (path ? arr_8_lpath : null), rep);
                                        if (! res)
                                        {
                                            rep !== null && rep.push(["unexpected $Array [.'$Model#Array'.0.'|'.5]", (path ? arr_8_lpath : null)])
                                        }
                                        if (! res)
                                        {
                                            // .'$Model#Array'.0.'|'.6
                                            res = json_model_7(arr_8_item, (path ? arr_8_lpath : null), rep);
                                            if (! res)
                                            {
                                                rep !== null && rep.push(["unexpected $ArrayComment [.'$Model#Array'.0.'|'.6]", (path ? arr_8_lpath : null)])
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    if (res)
                    {
                        if (rep !== null) rep.length = 0
                    }
                    else
                    {
                        rep !== null && rep.push(["no model matched [.'$Model#Array'.0.'|']", (path ? arr_8_lpath : null)])
                    }
                }
            }
            if (! res)
            {
                break;
            }
        }
    }
    if (! res)
    {
        rep !== null && rep.push(["not array or unexpected array [.'$Model#Array']", path])
    }
    return res;
}

// check $Model#ArrayComment (.'$Model#ArrayComment')
function json_model_7(val, path, rep)
{
    let res;
    // .'$Model#ArrayComment'
    // "/^#/"
    res = ((typeof val === 'string' || val instanceof String)) && val.startsWith("#");
    if (! res)
    {
        rep !== null && rep.push(["unexpected /^#/ [.'$Model#ArrayComment']", path])
    }
    return res;
}

const _jm_re_10 = (s) => _jm_re_10_re.exec(s) !== null

// check $Model#Prop (.'$Model#Prop')
function json_model_27(val, path, rep)
{
    let res;
    // .'$Model#Prop'
    // .'$Model#Prop'.'|'.0
    // "/^[?!]/"
    res = ((typeof val === 'string' || val instanceof String)) && _jm_re_10(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected /^[?!]/ [.'$Model#Prop'.'|'.0]", path])
    }
    if (! res)
    {
        // .'$Model#Prop'.'|'.1
        res = json_model_11(val, path, rep);
        if (! res)
        {
            rep !== null && rep.push(["unexpected $StrConst [.'$Model#Prop'.'|'.1]", path])
        }
        if (! res)
        {
            // .'$Model#Prop'.'|'.2
            // "/^/($EXREG)/[a-z]*X[a-z]*$/X"
            res = ((typeof val === 'string' || val instanceof String)) && _jm_xre_1(val, path, rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected /^/($EXREG)/[a-z]*X[a-z]*$/X [.'$Model#Prop'.'|'.2]", path])
            }
            if (! res)
            {
                // .'$Model#Prop'.'|'.3
                // "/^/($REGEX)/[a-z]*$/X"
                res = ((typeof val === 'string' || val instanceof String)) && _jm_xre_0(val, path, rep);
                if (! res)
                {
                    rep !== null && rep.push(["unexpected /^/($REGEX)/[a-z]*$/X [.'$Model#Prop'.'|'.3]", path])
                }
                if (! res)
                {
                    // .'$Model#Prop'.'|'.4
                    res = json_model_9(val, path, rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $Ref [.'$Model#Prop'.'|'.4]", path])
                    }
                    if (! res)
                    {
                        // .'$Model#Prop'.'|'.5
                        res = json_model_13(val, path, rep);
                        if (! res)
                        {
                            rep !== null && rep.push(["unexpected $Name [.'$Model#Prop'.'|'.5]", path])
                        }
                        if (! res)
                        {
                            // .'$Model#Prop'.'|'.6
                            res = ((typeof val === 'string' || val instanceof String)) && val == "";
                            if (! res)
                            {
                                rep !== null && rep.push(["unexpected _ [.'$Model#Prop'.'|'.6]", path])
                            }
                        }
                    }
                }
            }
        }
    }
    if (res)
    {
        if (rep !== null) rep.length = 0
    }
    else
    {
        rep !== null && rep.push(["no model matched [.'$Model#Prop'.'|']", path])
    }
    return res;
}

// object .'$Model#Model'.'|'.4
function _jm_obj_20(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#Model'.'|'.4]", path])
        return false;
    }
    let res;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_20 = path ? path.concat([prop]) : null;
        if (prop == "#")
        {
            // handle may # property
            // .'$Model#Model'.'|'.4.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#Model'.'|'.4.'#']", (path ? lpath_20 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#Model'.'|'.4.'#']", (path ? lpath_20 : null)])
                return false;
            }
        }
        else if (json_model_27(prop, (path ? lpath_20 : null), rep))
        {
            // handle 1 key props
            // .'$Model#Model'.'|'.4.'$Prop'
            res = json_model_34(pval, (path ? lpath_20 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Model [.'$Model#Model'.'|'.4.'$Prop']", (path ? lpath_20 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#Model'.'|'.4.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#Model'.'|'.4.'/^#/']", (path ? lpath_20 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#Model'.'|'.4]", (path ? lpath_20 : null)])
            return false;
        }
    }
    return true;
}

// object .'$Model#Model'.'|'.3
function _jm_obj_21(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#Model'.'|'.3]", path])
        return false;
    }
    let res;
    let must_count = 0;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_21 = path ? path.concat([prop]) : null;
        if (prop == "^")
        {
            // handle must ^ property
            must_count += 1;
            // .'$Model#Model'.'|'.3.'^'
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_12_idx = 0; arr_12_idx < pval.length; arr_12_idx++)
                {
                    let arr_12_item = pval[arr_12_idx]
                    let arr_12_lpath = (path ? lpath_21 : null) ? (path ? lpath_21 : null).concat([arr_12_idx]) : null;
                    // .'$Model#Model'.'|'.3.'^'.0
                    res = json_model_34(arr_12_item, ((path ? lpath_21 : null) ? arr_12_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $Model [.'$Model#Model'.'|'.3.'^'.0]", ((path ? lpath_21 : null) ? arr_12_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$Model#Model'.'|'.3.'^']", (path ? lpath_21 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Model#Model'.'|'.3.'^']", (path ? lpath_21 : null)])
                return false;
            }
        }
        else if (prop == "#")
        {
            // handle may # property
            // .'$Model#Model'.'|'.3.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#Model'.'|'.3.'#']", (path ? lpath_21 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#Model'.'|'.3.'#']", (path ? lpath_21 : null)])
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#Model'.'|'.3.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#Model'.'|'.3.'/^#/']", (path ? lpath_21 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#Model'.'|'.3]", (path ? lpath_21 : null)])
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("^"))
            {
                rep !== null && rep.push(["missing mandatory prop <^> [.'$Model#Model'.'|'.3]", path])
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#Model'.'|'.2
function _jm_obj_22(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#Model'.'|'.2]", path])
        return false;
    }
    let res;
    let must_count = 0;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_22 = path ? path.concat([prop]) : null;
        if (prop == "&")
        {
            // handle must & property
            must_count += 1;
            // .'$Model#Model'.'|'.2.'&'
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_13_idx = 0; arr_13_idx < pval.length; arr_13_idx++)
                {
                    let arr_13_item = pval[arr_13_idx]
                    let arr_13_lpath = (path ? lpath_22 : null) ? (path ? lpath_22 : null).concat([arr_13_idx]) : null;
                    // .'$Model#Model'.'|'.2.'&'.0
                    res = json_model_34(arr_13_item, ((path ? lpath_22 : null) ? arr_13_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $Model [.'$Model#Model'.'|'.2.'&'.0]", ((path ? lpath_22 : null) ? arr_13_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$Model#Model'.'|'.2.'&']", (path ? lpath_22 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Model#Model'.'|'.2.'&']", (path ? lpath_22 : null)])
                return false;
            }
        }
        else if (prop == "#")
        {
            // handle may # property
            // .'$Model#Model'.'|'.2.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#Model'.'|'.2.'#']", (path ? lpath_22 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#Model'.'|'.2.'#']", (path ? lpath_22 : null)])
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#Model'.'|'.2.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#Model'.'|'.2.'/^#/']", (path ? lpath_22 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#Model'.'|'.2]", (path ? lpath_22 : null)])
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("&"))
            {
                rep !== null && rep.push(["missing mandatory prop <&> [.'$Model#Model'.'|'.2]", path])
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#Model'.'|'.1
function _jm_obj_23(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#Model'.'|'.1]", path])
        return false;
    }
    let res;
    let must_count = 0;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_23 = path ? path.concat([prop]) : null;
        if (prop == "|")
        {
            // handle must | property
            must_count += 1;
            // .'$Model#Model'.'|'.1.'|'
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_14_idx = 0; arr_14_idx < pval.length; arr_14_idx++)
                {
                    let arr_14_item = pval[arr_14_idx]
                    let arr_14_lpath = (path ? lpath_23 : null) ? (path ? lpath_23 : null).concat([arr_14_idx]) : null;
                    // .'$Model#Model'.'|'.1.'|'.0
                    res = json_model_34(arr_14_item, ((path ? lpath_23 : null) ? arr_14_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $Model [.'$Model#Model'.'|'.1.'|'.0]", ((path ? lpath_23 : null) ? arr_14_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$Model#Model'.'|'.1.'|']", (path ? lpath_23 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Model#Model'.'|'.1.'|']", (path ? lpath_23 : null)])
                return false;
            }
        }
        else if (prop == "#")
        {
            // handle may # property
            // .'$Model#Model'.'|'.1.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#Model'.'|'.1.'#']", (path ? lpath_23 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#Model'.'|'.1.'#']", (path ? lpath_23 : null)])
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 1 re props
            // .'$Model#Model'.'|'.1.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#Model'.'|'.1.'/^#/']", (path ? lpath_23 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#Model'.'|'.1]", (path ? lpath_23 : null)])
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("|"))
            {
                rep !== null && rep.push(["missing mandatory prop <|> [.'$Model#Model'.'|'.1]", path])
            }
        }
        return false;
    }
    return true;
}

// object .'$Model#Model'.'|'.0
function _jm_obj_24(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Model#Model'.'|'.0]", path])
        return false;
    }
    let res;
    let must_count = 0;
    for (const [prop, pval] of Object.entries(val))
    {
        let lpath_24 = path ? path.concat([prop]) : null;
        if (prop == "@")
        {
            // handle must @ property
            must_count += 1;
            // .'$Model#Model'.'|'.0.'@'
            res = json_model_34(pval, (path ? lpath_24 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Model [.'$Model#Model'.'|'.0.'@']", (path ? lpath_24 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Model#Model'.'|'.0.'@']", (path ? lpath_24 : null)])
                return false;
            }
        }
        else if (prop == "#")
        {
            // handle may # property
            // .'$Model#Model'.'|'.0.'#'
            res = (typeof pval === 'string' || pval instanceof String);
            if (! res)
            {
                rep !== null && rep.push(["unexpected string [.'$Model#Model'.'|'.0.'#']", (path ? lpath_24 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#Model'.'|'.0.'#']", (path ? lpath_24 : null)])
                return false;
            }
        }
        else if (prop == "!")
        {
            // handle may ! property
            // .'$Model#Model'.'|'.0.'!'
            res = (typeof pval === 'boolean' || pval instanceof Boolean);
            if (! res)
            {
                rep !== null && rep.push(["not a bool [.'$Model#Model'.'|'.0.'!']", (path ? lpath_24 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Model#Model'.'|'.0.'!']", (path ? lpath_24 : null)])
                return false;
            }
        }
        else if (prop.startsWith("#"))
        {
            // handle 3 re props
            // .'$Model#Model'.'|'.0.'/^#/'
            res = true;
            if (! res)
            {
                rep !== null && rep.push(["unexpected $ANY [.'$Model#Model'.'|'.0.'/^#/']", (path ? lpath_24 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_1(prop, path, rep))
        {
            // handle 3 re props
            // .'$Model#Model'.'|'.0.'/^(<=|>=|<|>)$/'
            res = json_model_14(pval, (path ? lpath_24 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $CmpValue [.'$Model#Model'.'|'.0.'/^(<=|>=|<|>)$/']", (path ? lpath_24 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else if (_jm_re_2(prop, path, rep))
        {
            // handle 3 re props
            // .'$Model#Model'.'|'.0.'/^(=|!=)$/'
            res = json_model_15(pval, (path ? lpath_24 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $EqValue [.'$Model#Model'.'|'.0.'/^(=|!=)$/']", (path ? lpath_24 : null)])
            }
            if (! res)
            {
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Model#Model'.'|'.0]", (path ? lpath_24 : null)])
            return false;
        }
    }
    if (must_count != 1)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("@"))
            {
                rep !== null && rep.push(["missing mandatory prop <@> [.'$Model#Model'.'|'.0]", path])
            }
        }
        return false;
    }
    return true;
}


// check $Model#Model (.'$Model#Model')
function json_model_34(val, path, rep)
{
    let res;
    // .'$Model#Model'
    res = Object.prototype.toString.call(val) === '[object Object]';
    if (! res)
    {
        rep !== null && rep.push(["unexpected type [.'$Model#Model'.'|']", path])
    }
    if (res)
    {
        // .'$Model#Model'.'|'.0
        res = _jm_obj_24(val, path, rep);
        if (! res)
        {
            rep !== null && rep.push(["unexpected element [.'$Model#Model'.'|'.0]", path])
        }
        if (! res)
        {
            // .'$Model#Model'.'|'.1
            res = _jm_obj_23(val, path, rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected element [.'$Model#Model'.'|'.1]", path])
            }
            if (! res)
            {
                // .'$Model#Model'.'|'.2
                res = _jm_obj_22(val, path, rep);
                if (! res)
                {
                    rep !== null && rep.push(["unexpected element [.'$Model#Model'.'|'.2]", path])
                }
                if (! res)
                {
                    // .'$Model#Model'.'|'.3
                    res = _jm_obj_21(val, path, rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected element [.'$Model#Model'.'|'.3]", path])
                    }
                    if (! res)
                    {
                        // .'$Model#Model'.'|'.4
                        res = _jm_obj_20(val, path, rep);
                        if (! res)
                        {
                            rep !== null && rep.push(["unexpected element [.'$Model#Model'.'|'.4]", path])
                        }
                    }
                }
            }
        }
        if (res)
        {
            if (rep !== null) rep.length = 0
        }
        else
        {
            rep !== null && rep.push(["no model matched [.'$Model#Model'.'|']", path])
        }
    }
    if (! res)
    {
        res = ((val === null || (typeof val === 'number' || val instanceof Number) || (typeof val === 'boolean' || val instanceof Boolean) || (typeof val === 'string' || val instanceof String))) && _jm_cst_2.has(val);
        if (! res)
        {
            rep !== null && rep.push(["value not in enum [.'$Model#Model'.'|']", path])
        }
        if (! res)
        {
            // .'$Model#Model'.'|'.0
            res = json_model_11(val, path, rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $StrConst [.'$Model#Model'.'|'.0]", path])
            }
            if (! res)
            {
                // .'$Model#Model'.'|'.1
                res = json_model_10(val, path, rep);
                if (! res)
                {
                    rep !== null && rep.push(["unexpected $ValConst [.'$Model#Model'.'|'.1]", path])
                }
                if (! res)
                {
                    // .'$Model#Model'.'|'.2
                    // "/^/($EXREG)/[a-z]*X[a-z]*$/X"
                    res = ((typeof val === 'string' || val instanceof String)) && _jm_xre_1(val, path, rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected /^/($EXREG)/[a-z]*X[a-z]*$/X [.'$Model#Model'.'|'.2]", path])
                    }
                    if (! res)
                    {
                        // .'$Model#Model'.'|'.3
                        // "/^/($REGEX)/[a-z]*$/X"
                        res = ((typeof val === 'string' || val instanceof String)) && _jm_xre_0(val, path, rep);
                        if (! res)
                        {
                            rep !== null && rep.push(["unexpected /^/($REGEX)/[a-z]*$/X [.'$Model#Model'.'|'.3]", path])
                        }
                        if (! res)
                        {
                            // .'$Model#Model'.'|'.4
                            res = json_model_9(val, path, rep);
                            if (! res)
                            {
                                rep !== null && rep.push(["unexpected $Ref [.'$Model#Model'.'|'.4]", path])
                            }
                            if (! res)
                            {
                                // .'$Model#Model'.'|'.5
                                res = json_model_20(val, path, rep);
                                if (! res)
                                {
                                    rep !== null && rep.push(["unexpected $Array [.'$Model#Model'.'|'.5]", path])
                                }
                            }
                        }
                    }
                }
            }
            if (res)
            {
                if (rep !== null) rep.length = 0
            }
            else
            {
                rep !== null && rep.push(["no model matched [.'$Model#Model'.'|']", path])
            }
        }
    }
    return res;
}


var initialized = false

// differed module initializations
export function check_model_init()
{
    if (! initialized)
    {
        initialized = true;
        runtime.jm_set_rx(RegExp)
        _jm_cst_0.add(null)
        _jm_cst_0.add(true)
        _jm_cst_0.add(0)
        _jm_cst_0.add(1)
        _jm_cst_0.add(-1)
        _jm_cst_0.add(0.0)
        _jm_cst_0.add(1.0)
        _jm_cst_0.add(-1.0)
        _jm_cst_0.add("$DATE")
        _jm_cst_0.add("$TIME")
        _jm_cst_0.add("$DATETIME")
        _jm_cst_0.add("$URL")
        _jm_cst_0.add("$URI")
        _jm_cst_0.add("$UUID")
        _jm_cst_0.add("$EMAIL")
        _jm_cst_0.add("$REGEX")
        _jm_cst_0.add("$EXREG")
        _jm_cst_0.add("$NULL")
        _jm_cst_0.add("$BOOL")
        _jm_cst_0.add("$FLOAT")
        _jm_cst_0.add("$F16")
        _jm_cst_0.add("$F32")
        _jm_cst_0.add("$F64")
        _jm_cst_0.add("$NUMBER")
        _jm_cst_0.add("$INT")
        _jm_cst_0.add("$INTEGER")
        _jm_cst_0.add("$I8")
        _jm_cst_0.add("$I16")
        _jm_cst_0.add("$I32")
        _jm_cst_0.add("$I64")
        _jm_cst_0.add("$U8")
        _jm_cst_0.add("$U16")
        _jm_cst_0.add("$U32")
        _jm_cst_0.add("$U64")
        _jm_cst_0.add("$STRING")
        _jm_cst_0.add("$NONE")
        _jm_cst_0.add("$ANY")
        _jm_cst_0.add("")
        _jm_cst_1.add(null)
        _jm_cst_1.add(true)
        _jm_cst_1.add(0)
        _jm_cst_1.add(1)
        _jm_cst_1.add(-1)
        _jm_cst_1.add(0.0)
        _jm_cst_1.add(1.0)
        _jm_cst_1.add(-1.0)
        _jm_cst_1.add("$DATE")
        _jm_cst_1.add("$TIME")
        _jm_cst_1.add("$DATETIME")
        _jm_cst_1.add("$URL")
        _jm_cst_1.add("$URI")
        _jm_cst_1.add("$UUID")
        _jm_cst_1.add("$EMAIL")
        _jm_cst_1.add("$REGEX")
        _jm_cst_1.add("$EXREG")
        _jm_cst_1.add("$NULL")
        _jm_cst_1.add("$BOOL")
        _jm_cst_1.add("$FLOAT")
        _jm_cst_1.add("$F16")
        _jm_cst_1.add("$F32")
        _jm_cst_1.add("$F64")
        _jm_cst_1.add("$NUMBER")
        _jm_cst_1.add("$INT")
        _jm_cst_1.add("$INTEGER")
        _jm_cst_1.add("$I8")
        _jm_cst_1.add("$I16")
        _jm_cst_1.add("$I32")
        _jm_cst_1.add("$I64")
        _jm_cst_1.add("$U8")
        _jm_cst_1.add("$U16")
        _jm_cst_1.add("$U32")
        _jm_cst_1.add("$U64")
        _jm_cst_1.add("$STRING")
        _jm_cst_1.add("$NONE")
        _jm_cst_1.add("$ANY")
        _jm_cst_1.add("")
        _jm_cst_2.add(null)
        _jm_cst_2.add(true)
        _jm_cst_2.add(0)
        _jm_cst_2.add(1)
        _jm_cst_2.add(-1)
        _jm_cst_2.add(0.0)
        _jm_cst_2.add(1.0)
        _jm_cst_2.add(-1.0)
        _jm_cst_2.add("$DATE")
        _jm_cst_2.add("$TIME")
        _jm_cst_2.add("$DATETIME")
        _jm_cst_2.add("$URL")
        _jm_cst_2.add("$URI")
        _jm_cst_2.add("$UUID")
        _jm_cst_2.add("$EMAIL")
        _jm_cst_2.add("$REGEX")
        _jm_cst_2.add("$EXREG")
        _jm_cst_2.add("$NULL")
        _jm_cst_2.add("$BOOL")
        _jm_cst_2.add("$FLOAT")
        _jm_cst_2.add("$F16")
        _jm_cst_2.add("$F32")
        _jm_cst_2.add("$F64")
        _jm_cst_2.add("$NUMBER")
        _jm_cst_2.add("$INT")
        _jm_cst_2.add("$INTEGER")
        _jm_cst_2.add("$I8")
        _jm_cst_2.add("$I16")
        _jm_cst_2.add("$I32")
        _jm_cst_2.add("$I64")
        _jm_cst_2.add("$U8")
        _jm_cst_2.add("$U16")
        _jm_cst_2.add("$U32")
        _jm_cst_2.add("$U64")
        _jm_cst_2.add("$STRING")
        _jm_cst_2.add("$NONE")
        _jm_cst_2.add("$ANY")
        _jm_cst_2.add("")
        check_model_map.set("", json_model_3)
        check_model_map.set("Model", json_model_3)
    }
}

// differed module cleanup
export function check_model_free()
{
    if (initialized)
    {
        initialized = false;
    }
}

export function check_model(val, name, rep)
{
    let checker = check_model_map.get(name)
    if (checker === undefined)
        throw `no checker for "${name}"`
    let path = rep !== null ? [] : null

    return checker(val, path, rep)
}

// possibly run as main based on a guess
import main from "json_model_runtime/main.js"

if (import.meta.url.endsWith(process.argv[1]))
    main(check_model_init, check_model, check_model_free)
