#! /bin/env node
// we may need require to load re2
import { createRequire } from 'node:module';
const require = createRequire(import.meta.url);
//
// Generated by JSON Model Compiler version 2.0b0
// see https://github.com/clairey-zx81/json-model
//
import * as runtime from "json_model_runtime"
const JSON_MODEL_VERSION = "2.0b0";

let _jm_map_0 = new Map()
var check_model_map = new Map()

// check $position (.'$position')
function json_model_2(val, path, rep)
{
    let res;
    // .'$position'
    // .'$position'.'@'
    res = Array.isArray(val);
    if (res)
    {
        for (let arr_0_idx = 0; arr_0_idx < val.length; arr_0_idx++)
        {
            let arr_0_item = val[arr_0_idx]
            let arr_0_lpath = path ? path.concat([arr_0_idx]) : null;
            // .'$position'.'@'.0
            res = (typeof arr_0_item === 'number' || arr_0_item instanceof Number);
            if (! res)
            {
                rep !== null && rep.push(["not a -1.0 loose float [.'$position'.'@'.0]", (path ? arr_0_lpath : null)])
            }
            if (! res)
            {
                break;
            }
        }
    }
    if (! res)
    {
        rep !== null && rep.push(["not array or unexpected array [.'$position'.'@']", path])
    }
    if (res)
    {
        let ival_0 = val.length;
        res = ival_0 <= 3 && ival_0 >= 2;
    }
    if (! res)
    {
        rep !== null && rep.push(["constraints failed [.'$position']", path])
    }
    return res;
}

// check $coord_array (.'$coord_array')
function json_model_3(val, path, rep)
{
    let res;
    // .'$coord_array'
    // .'$coord_array'.'@'
    res = Array.isArray(val);
    if (res)
    {
        for (let arr_1_idx = 0; arr_1_idx < val.length; arr_1_idx++)
        {
            let arr_1_item = val[arr_1_idx]
            let arr_1_lpath = path ? path.concat([arr_1_idx]) : null;
            // .'$coord_array'.'@'.0
            res = json_model_2(arr_1_item, (path ? arr_1_lpath : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $position [.'$coord_array'.'@'.0]", (path ? arr_1_lpath : null)])
            }
            if (! res)
            {
                break;
            }
        }
    }
    if (! res)
    {
        rep !== null && rep.push(["not array or unexpected array [.'$coord_array'.'@']", path])
    }
    if (res)
    {
        let ival_1 = val.length;
        res = ival_1 >= 2;
    }
    if (! res)
    {
        rep !== null && rep.push(["constraints failed [.'$coord_array']", path])
    }
    return res;
}

// check $linear_ring (.'$linear_ring')
function json_model_4(val, path, rep)
{
    let res;
    // .'$linear_ring'
    // .'$linear_ring'.'@'
    res = Array.isArray(val);
    if (res)
    {
        for (let arr_2_idx = 0; arr_2_idx < val.length; arr_2_idx++)
        {
            let arr_2_item = val[arr_2_idx]
            let arr_2_lpath = path ? path.concat([arr_2_idx]) : null;
            // .'$linear_ring'.'@'.0
            res = json_model_2(arr_2_item, (path ? arr_2_lpath : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $position [.'$linear_ring'.'@'.0]", (path ? arr_2_lpath : null)])
            }
            if (! res)
            {
                break;
            }
        }
    }
    if (! res)
    {
        rep !== null && rep.push(["not array or unexpected array [.'$linear_ring'.'@']", path])
    }
    if (res)
    {
        let ival_2 = val.length;
        res = ival_2 >= 4;
    }
    if (! res)
    {
        rep !== null && rep.push(["constraints failed [.'$linear_ring']", path])
    }
    return res;
}

// object .'$Point'
function _jm_obj_0(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Point']", path])
        return false;
    }
    let res;
    let must_count = 0;
    for(const [prop, pval] of Object.entries(val))
    {
        let lpath_0 = path ? path.concat([prop]) : null;
        if (prop == "type")
        {
            // handle must type property
            must_count += 1;
            // .'$Point'.type
            res = ((typeof pval === 'string' || pval instanceof String)) && pval == "Point";
            if (! res)
            {
                rep !== null && rep.push(["unexpected Point [.'$Point'.type]", (path ? lpath_0 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Point'.type]", (path ? lpath_0 : null)])
                return false;
            }
        }
        else if (prop == "coordinates")
        {
            // handle must coordinates property
            must_count += 1;
            // .'$Point'.coordinates
            res = json_model_2(pval, (path ? lpath_0 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $position [.'$Point'.coordinates]", (path ? lpath_0 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Point'.coordinates]", (path ? lpath_0 : null)])
                return false;
            }
        }
        else if (prop == "bbox")
        {
            // handle may bbox property
            // .'$Point'.bbox
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_3_idx = 0; arr_3_idx < pval.length; arr_3_idx++)
                {
                    let arr_3_item = pval[arr_3_idx]
                    let arr_3_lpath = (path ? lpath_0 : null) ? (path ? lpath_0 : null).concat([arr_3_idx]) : null;
                    // .'$Point'.bbox.0
                    res = (typeof arr_3_item === 'number' || arr_3_item instanceof Number);
                    if (! res)
                    {
                        rep !== null && rep.push(["not a -1.0 loose float [.'$Point'.bbox.0]", ((path ? lpath_0 : null) ? arr_3_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$Point'.bbox]", (path ? lpath_0 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Point'.bbox]", (path ? lpath_0 : null)])
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Point']", (path ? lpath_0 : null)])
            return false;
        }
    }
    if (must_count != 2)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("coordinates"))
            {
                rep !== null && rep.push(["missing mandatory prop <coordinates> [.'$Point']", path])
            }
            if (! val.hasOwnProperty("type"))
            {
                rep !== null && rep.push(["missing mandatory prop <type> [.'$Point']", path])
            }
        }
        return false;
    }
    return true;
}

// check $Point (.'$Point')
function json_model_5(val, path, rep)
{
    let res;
    // .'$Point'
    res = _jm_obj_0(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected element [.'$Point']", path])
    }
    return res;
}

// object .'$MultiPoint'
function _jm_obj_1(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$MultiPoint']", path])
        return false;
    }
    let res;
    let must_count = 0;
    for(const [prop, pval] of Object.entries(val))
    {
        let lpath_1 = path ? path.concat([prop]) : null;
        if (prop == "type")
        {
            // handle must type property
            must_count += 1;
            // .'$MultiPoint'.type
            res = ((typeof pval === 'string' || pval instanceof String)) && pval == "MultiPoint";
            if (! res)
            {
                rep !== null && rep.push(["unexpected MultiPoint [.'$MultiPoint'.type]", (path ? lpath_1 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$MultiPoint'.type]", (path ? lpath_1 : null)])
                return false;
            }
        }
        else if (prop == "coordinates")
        {
            // handle must coordinates property
            must_count += 1;
            // .'$MultiPoint'.coordinates
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_4_idx = 0; arr_4_idx < pval.length; arr_4_idx++)
                {
                    let arr_4_item = pval[arr_4_idx]
                    let arr_4_lpath = (path ? lpath_1 : null) ? (path ? lpath_1 : null).concat([arr_4_idx]) : null;
                    // .'$MultiPoint'.coordinates.0
                    res = json_model_2(arr_4_item, ((path ? lpath_1 : null) ? arr_4_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $position [.'$MultiPoint'.coordinates.0]", ((path ? lpath_1 : null) ? arr_4_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$MultiPoint'.coordinates]", (path ? lpath_1 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$MultiPoint'.coordinates]", (path ? lpath_1 : null)])
                return false;
            }
        }
        else if (prop == "bbox")
        {
            // handle may bbox property
            // .'$MultiPoint'.bbox
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_5_idx = 0; arr_5_idx < pval.length; arr_5_idx++)
                {
                    let arr_5_item = pval[arr_5_idx]
                    let arr_5_lpath = (path ? lpath_1 : null) ? (path ? lpath_1 : null).concat([arr_5_idx]) : null;
                    // .'$MultiPoint'.bbox.0
                    res = (typeof arr_5_item === 'number' || arr_5_item instanceof Number);
                    if (! res)
                    {
                        rep !== null && rep.push(["not a -1.0 loose float [.'$MultiPoint'.bbox.0]", ((path ? lpath_1 : null) ? arr_5_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$MultiPoint'.bbox]", (path ? lpath_1 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$MultiPoint'.bbox]", (path ? lpath_1 : null)])
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$MultiPoint']", (path ? lpath_1 : null)])
            return false;
        }
    }
    if (must_count != 2)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("coordinates"))
            {
                rep !== null && rep.push(["missing mandatory prop <coordinates> [.'$MultiPoint']", path])
            }
            if (! val.hasOwnProperty("type"))
            {
                rep !== null && rep.push(["missing mandatory prop <type> [.'$MultiPoint']", path])
            }
        }
        return false;
    }
    return true;
}

// check $MultiPoint (.'$MultiPoint')
function json_model_6(val, path, rep)
{
    let res;
    // .'$MultiPoint'
    res = _jm_obj_1(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected element [.'$MultiPoint']", path])
    }
    return res;
}

// object .'$LineString'
function _jm_obj_2(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$LineString']", path])
        return false;
    }
    let res;
    let must_count = 0;
    for(const [prop, pval] of Object.entries(val))
    {
        let lpath_2 = path ? path.concat([prop]) : null;
        if (prop == "type")
        {
            // handle must type property
            must_count += 1;
            // .'$LineString'.type
            res = ((typeof pval === 'string' || pval instanceof String)) && pval == "LineString";
            if (! res)
            {
                rep !== null && rep.push(["unexpected LineString [.'$LineString'.type]", (path ? lpath_2 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$LineString'.type]", (path ? lpath_2 : null)])
                return false;
            }
        }
        else if (prop == "coordinates")
        {
            // handle must coordinates property
            must_count += 1;
            // .'$LineString'.coordinates
            res = json_model_3(pval, (path ? lpath_2 : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $coord_array [.'$LineString'.coordinates]", (path ? lpath_2 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$LineString'.coordinates]", (path ? lpath_2 : null)])
                return false;
            }
        }
        else if (prop == "bbox")
        {
            // handle may bbox property
            // .'$LineString'.bbox
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_6_idx = 0; arr_6_idx < pval.length; arr_6_idx++)
                {
                    let arr_6_item = pval[arr_6_idx]
                    let arr_6_lpath = (path ? lpath_2 : null) ? (path ? lpath_2 : null).concat([arr_6_idx]) : null;
                    // .'$LineString'.bbox.0
                    res = (typeof arr_6_item === 'number' || arr_6_item instanceof Number);
                    if (! res)
                    {
                        rep !== null && rep.push(["not a -1.0 loose float [.'$LineString'.bbox.0]", ((path ? lpath_2 : null) ? arr_6_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$LineString'.bbox]", (path ? lpath_2 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$LineString'.bbox]", (path ? lpath_2 : null)])
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$LineString']", (path ? lpath_2 : null)])
            return false;
        }
    }
    if (must_count != 2)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("coordinates"))
            {
                rep !== null && rep.push(["missing mandatory prop <coordinates> [.'$LineString']", path])
            }
            if (! val.hasOwnProperty("type"))
            {
                rep !== null && rep.push(["missing mandatory prop <type> [.'$LineString']", path])
            }
        }
        return false;
    }
    return true;
}

// check $LineString (.'$LineString')
function json_model_7(val, path, rep)
{
    let res;
    // .'$LineString'
    res = _jm_obj_2(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected element [.'$LineString']", path])
    }
    return res;
}

// object .'$MultiLineString'
function _jm_obj_3(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$MultiLineString']", path])
        return false;
    }
    let res;
    let must_count = 0;
    for(const [prop, pval] of Object.entries(val))
    {
        let lpath_3 = path ? path.concat([prop]) : null;
        if (prop == "type")
        {
            // handle must type property
            must_count += 1;
            // .'$MultiLineString'.type
            res = ((typeof pval === 'string' || pval instanceof String)) && pval == "MultiLineString";
            if (! res)
            {
                rep !== null && rep.push(["unexpected MultiLineString [.'$MultiLineString'.type]", (path ? lpath_3 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$MultiLineString'.type]", (path ? lpath_3 : null)])
                return false;
            }
        }
        else if (prop == "coordinates")
        {
            // handle must coordinates property
            must_count += 1;
            // .'$MultiLineString'.coordinates
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_7_idx = 0; arr_7_idx < pval.length; arr_7_idx++)
                {
                    let arr_7_item = pval[arr_7_idx]
                    let arr_7_lpath = (path ? lpath_3 : null) ? (path ? lpath_3 : null).concat([arr_7_idx]) : null;
                    // .'$MultiLineString'.coordinates.0
                    res = json_model_3(arr_7_item, ((path ? lpath_3 : null) ? arr_7_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $coord_array [.'$MultiLineString'.coordinates.0]", ((path ? lpath_3 : null) ? arr_7_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$MultiLineString'.coordinates]", (path ? lpath_3 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$MultiLineString'.coordinates]", (path ? lpath_3 : null)])
                return false;
            }
        }
        else if (prop == "bbox")
        {
            // handle may bbox property
            // .'$MultiLineString'.bbox
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_8_idx = 0; arr_8_idx < pval.length; arr_8_idx++)
                {
                    let arr_8_item = pval[arr_8_idx]
                    let arr_8_lpath = (path ? lpath_3 : null) ? (path ? lpath_3 : null).concat([arr_8_idx]) : null;
                    // .'$MultiLineString'.bbox.0
                    res = (typeof arr_8_item === 'number' || arr_8_item instanceof Number);
                    if (! res)
                    {
                        rep !== null && rep.push(["not a -1.0 loose float [.'$MultiLineString'.bbox.0]", ((path ? lpath_3 : null) ? arr_8_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$MultiLineString'.bbox]", (path ? lpath_3 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$MultiLineString'.bbox]", (path ? lpath_3 : null)])
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$MultiLineString']", (path ? lpath_3 : null)])
            return false;
        }
    }
    if (must_count != 2)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("coordinates"))
            {
                rep !== null && rep.push(["missing mandatory prop <coordinates> [.'$MultiLineString']", path])
            }
            if (! val.hasOwnProperty("type"))
            {
                rep !== null && rep.push(["missing mandatory prop <type> [.'$MultiLineString']", path])
            }
        }
        return false;
    }
    return true;
}

// check $MultiLineString (.'$MultiLineString')
function json_model_8(val, path, rep)
{
    let res;
    // .'$MultiLineString'
    res = _jm_obj_3(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected element [.'$MultiLineString']", path])
    }
    return res;
}

// object .'$Polygon'
function _jm_obj_4(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Polygon']", path])
        return false;
    }
    let res;
    let must_count = 0;
    for(const [prop, pval] of Object.entries(val))
    {
        let lpath_4 = path ? path.concat([prop]) : null;
        if (prop == "type")
        {
            // handle must type property
            must_count += 1;
            // .'$Polygon'.type
            res = ((typeof pval === 'string' || pval instanceof String)) && pval == "Polygon";
            if (! res)
            {
                rep !== null && rep.push(["unexpected Polygon [.'$Polygon'.type]", (path ? lpath_4 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Polygon'.type]", (path ? lpath_4 : null)])
                return false;
            }
        }
        else if (prop == "coordinates")
        {
            // handle must coordinates property
            must_count += 1;
            // .'$Polygon'.coordinates
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_9_idx = 0; arr_9_idx < pval.length; arr_9_idx++)
                {
                    let arr_9_item = pval[arr_9_idx]
                    let arr_9_lpath = (path ? lpath_4 : null) ? (path ? lpath_4 : null).concat([arr_9_idx]) : null;
                    // .'$Polygon'.coordinates.0
                    res = json_model_4(arr_9_item, ((path ? lpath_4 : null) ? arr_9_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $linear_ring [.'$Polygon'.coordinates.0]", ((path ? lpath_4 : null) ? arr_9_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$Polygon'.coordinates]", (path ? lpath_4 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$Polygon'.coordinates]", (path ? lpath_4 : null)])
                return false;
            }
        }
        else if (prop == "bbox")
        {
            // handle may bbox property
            // .'$Polygon'.bbox
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_10_idx = 0; arr_10_idx < pval.length; arr_10_idx++)
                {
                    let arr_10_item = pval[arr_10_idx]
                    let arr_10_lpath = (path ? lpath_4 : null) ? (path ? lpath_4 : null).concat([arr_10_idx]) : null;
                    // .'$Polygon'.bbox.0
                    res = (typeof arr_10_item === 'number' || arr_10_item instanceof Number);
                    if (! res)
                    {
                        rep !== null && rep.push(["not a -1.0 loose float [.'$Polygon'.bbox.0]", ((path ? lpath_4 : null) ? arr_10_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$Polygon'.bbox]", (path ? lpath_4 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$Polygon'.bbox]", (path ? lpath_4 : null)])
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$Polygon']", (path ? lpath_4 : null)])
            return false;
        }
    }
    if (must_count != 2)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("coordinates"))
            {
                rep !== null && rep.push(["missing mandatory prop <coordinates> [.'$Polygon']", path])
            }
            if (! val.hasOwnProperty("type"))
            {
                rep !== null && rep.push(["missing mandatory prop <type> [.'$Polygon']", path])
            }
        }
        return false;
    }
    return true;
}

// check $Polygon (.'$Polygon')
function json_model_9(val, path, rep)
{
    let res;
    // .'$Polygon'
    res = _jm_obj_4(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected element [.'$Polygon']", path])
    }
    return res;
}

// object .'$MultiPolygon'
function _jm_obj_5(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$MultiPolygon']", path])
        return false;
    }
    let res;
    let must_count = 0;
    for(const [prop, pval] of Object.entries(val))
    {
        let lpath_5 = path ? path.concat([prop]) : null;
        if (prop == "type")
        {
            // handle must type property
            must_count += 1;
            // .'$MultiPolygon'.type
            res = ((typeof pval === 'string' || pval instanceof String)) && pval == "MultiPolygon";
            if (! res)
            {
                rep !== null && rep.push(["unexpected MultiPolygon [.'$MultiPolygon'.type]", (path ? lpath_5 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$MultiPolygon'.type]", (path ? lpath_5 : null)])
                return false;
            }
        }
        else if (prop == "coordinates")
        {
            // handle must coordinates property
            must_count += 1;
            // .'$MultiPolygon'.coordinates
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_11_idx = 0; arr_11_idx < pval.length; arr_11_idx++)
                {
                    let arr_11_item = pval[arr_11_idx]
                    let arr_11_lpath = (path ? lpath_5 : null) ? (path ? lpath_5 : null).concat([arr_11_idx]) : null;
                    // .'$MultiPolygon'.coordinates.0
                    res = Array.isArray(arr_11_item);
                    if (res)
                    {
                        for (let arr_12_idx = 0; arr_12_idx < arr_11_item.length; arr_12_idx++)
                        {
                            let arr_12_item = arr_11_item[arr_12_idx]
                            let arr_12_lpath = ((path ? lpath_5 : null) ? arr_11_lpath : null) ? ((path ? lpath_5 : null) ? arr_11_lpath : null).concat([arr_12_idx]) : null;
                            // .'$MultiPolygon'.coordinates.0.0
                            res = json_model_4(arr_12_item, (((path ? lpath_5 : null) ? arr_11_lpath : null) ? arr_12_lpath : null), rep);
                            if (! res)
                            {
                                rep !== null && rep.push(["unexpected $linear_ring [.'$MultiPolygon'.coordinates.0.0]", (((path ? lpath_5 : null) ? arr_11_lpath : null) ? arr_12_lpath : null)])
                            }
                            if (! res)
                            {
                                break;
                            }
                        }
                    }
                    if (! res)
                    {
                        rep !== null && rep.push(["not array or unexpected array [.'$MultiPolygon'.coordinates.0]", ((path ? lpath_5 : null) ? arr_11_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$MultiPolygon'.coordinates]", (path ? lpath_5 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid mandatory prop value [.'$MultiPolygon'.coordinates]", (path ? lpath_5 : null)])
                return false;
            }
        }
        else if (prop == "bbox")
        {
            // handle may bbox property
            // .'$MultiPolygon'.bbox
            res = Array.isArray(pval);
            if (res)
            {
                for (let arr_13_idx = 0; arr_13_idx < pval.length; arr_13_idx++)
                {
                    let arr_13_item = pval[arr_13_idx]
                    let arr_13_lpath = (path ? lpath_5 : null) ? (path ? lpath_5 : null).concat([arr_13_idx]) : null;
                    // .'$MultiPolygon'.bbox.0
                    res = (typeof arr_13_item === 'number' || arr_13_item instanceof Number);
                    if (! res)
                    {
                        rep !== null && rep.push(["not a -1.0 loose float [.'$MultiPolygon'.bbox.0]", ((path ? lpath_5 : null) ? arr_13_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$MultiPolygon'.bbox]", (path ? lpath_5 : null)])
            }
            if (! res)
            {
                rep !== null && rep.push(["invalid optional prop value [.'$MultiPolygon'.bbox]", (path ? lpath_5 : null)])
                return false;
            }
        }
        else
        {
            rep !== null && rep.push(["unexpected prop [.'$MultiPolygon']", (path ? lpath_5 : null)])
            return false;
        }
    }
    if (must_count != 2)
    {
        if (rep !== null)
        {
            if (! val.hasOwnProperty("coordinates"))
            {
                rep !== null && rep.push(["missing mandatory prop <coordinates> [.'$MultiPolygon']", path])
            }
            if (! val.hasOwnProperty("type"))
            {
                rep !== null && rep.push(["missing mandatory prop <type> [.'$MultiPolygon']", path])
            }
        }
        return false;
    }
    return true;
}

// check $MultiPolygon (.'$MultiPolygon')
function json_model_10(val, path, rep)
{
    let res;
    // .'$MultiPolygon'
    res = _jm_obj_5(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected element [.'$MultiPolygon']", path])
    }
    return res;
}

// object .'$geometry'.'|'.0
function _jm_obj_6(val, path, rep)
{
    // check must only props
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$geometry'.'|'.0]", path])
        return false;
    }
    let pval;
    let res;
    if (! val.hasOwnProperty("type"))
    {
        rep !== null && rep.push(["missing mandatory prop <type> [.'$geometry'.'|'.0]", path])
        return false;
    }
    pval = val["type"];
    // .'$geometry'.'|'.0.type
    res = ((typeof pval === 'string' || pval instanceof String)) && pval == "Point";
    if (! res)
    {
        rep !== null && rep.push(["unexpected Point [.'$geometry'.'|'.0.type]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <type> [.'$geometry'.'|'.0]", path])
        return false;
    }
    if (! val.hasOwnProperty("coordinates"))
    {
        rep !== null && rep.push(["missing mandatory prop <coordinates> [.'$geometry'.'|'.0]", path])
        return false;
    }
    pval = val["coordinates"];
    // .'$geometry'.'|'.0.coordinates
    res = json_model_2(pval, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected $position [.'$geometry'.'|'.0.coordinates]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <coordinates> [.'$geometry'.'|'.0]", path])
        return false;
    }
    if (val.hasOwnProperty("bbox"))
    {
        pval = val["bbox"];
        // .'$geometry'.'|'.0.bbox
        res = Array.isArray(pval);
        if (res)
        {
            for (let arr_14_idx = 0; arr_14_idx < pval.length; arr_14_idx++)
            {
                let arr_14_item = pval[arr_14_idx]
                let arr_14_lpath = path ? path.concat([arr_14_idx]) : null;
                // .'$geometry'.'|'.0.bbox.0
                res = (typeof arr_14_item === 'number' || arr_14_item instanceof Number);
                if (! res)
                {
                    rep !== null && rep.push(["not a -1.0 loose float [.'$geometry'.'|'.0.bbox.0]", (path ? arr_14_lpath : null)])
                }
                if (! res)
                {
                    break;
                }
            }
        }
        if (! res)
        {
            rep !== null && rep.push(["not array or unexpected array [.'$geometry'.'|'.0.bbox]", path])
        }
        if (! res)
        {
            rep !== null && rep.push(["unexpected value for optional prop <bbox> [.'$geometry'.'|'.0]", path])
            return false;
        }
    }
    return true;
}

// object .'$geometry'.'|'.1
function _jm_obj_7(val, path, rep)
{
    // check must only props
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$geometry'.'|'.1]", path])
        return false;
    }
    let pval;
    let res;
    if (! val.hasOwnProperty("type"))
    {
        rep !== null && rep.push(["missing mandatory prop <type> [.'$geometry'.'|'.1]", path])
        return false;
    }
    pval = val["type"];
    // .'$geometry'.'|'.1.type
    res = ((typeof pval === 'string' || pval instanceof String)) && pval == "MultiPoint";
    if (! res)
    {
        rep !== null && rep.push(["unexpected MultiPoint [.'$geometry'.'|'.1.type]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <type> [.'$geometry'.'|'.1]", path])
        return false;
    }
    if (! val.hasOwnProperty("coordinates"))
    {
        rep !== null && rep.push(["missing mandatory prop <coordinates> [.'$geometry'.'|'.1]", path])
        return false;
    }
    pval = val["coordinates"];
    // .'$geometry'.'|'.1.coordinates
    res = Array.isArray(pval);
    if (res)
    {
        for (let arr_15_idx = 0; arr_15_idx < pval.length; arr_15_idx++)
        {
            let arr_15_item = pval[arr_15_idx]
            let arr_15_lpath = path ? path.concat([arr_15_idx]) : null;
            // .'$geometry'.'|'.1.coordinates.0
            res = json_model_2(arr_15_item, (path ? arr_15_lpath : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $position [.'$geometry'.'|'.1.coordinates.0]", (path ? arr_15_lpath : null)])
            }
            if (! res)
            {
                break;
            }
        }
    }
    if (! res)
    {
        rep !== null && rep.push(["not array or unexpected array [.'$geometry'.'|'.1.coordinates]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <coordinates> [.'$geometry'.'|'.1]", path])
        return false;
    }
    if (val.hasOwnProperty("bbox"))
    {
        pval = val["bbox"];
        // .'$geometry'.'|'.1.bbox
        res = Array.isArray(pval);
        if (res)
        {
            for (let arr_16_idx = 0; arr_16_idx < pval.length; arr_16_idx++)
            {
                let arr_16_item = pval[arr_16_idx]
                let arr_16_lpath = path ? path.concat([arr_16_idx]) : null;
                // .'$geometry'.'|'.1.bbox.0
                res = (typeof arr_16_item === 'number' || arr_16_item instanceof Number);
                if (! res)
                {
                    rep !== null && rep.push(["not a -1.0 loose float [.'$geometry'.'|'.1.bbox.0]", (path ? arr_16_lpath : null)])
                }
                if (! res)
                {
                    break;
                }
            }
        }
        if (! res)
        {
            rep !== null && rep.push(["not array or unexpected array [.'$geometry'.'|'.1.bbox]", path])
        }
        if (! res)
        {
            rep !== null && rep.push(["unexpected value for optional prop <bbox> [.'$geometry'.'|'.1]", path])
            return false;
        }
    }
    return true;
}

// object .'$geometry'.'|'.2
function _jm_obj_8(val, path, rep)
{
    // check must only props
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$geometry'.'|'.2]", path])
        return false;
    }
    let pval;
    let res;
    if (! val.hasOwnProperty("type"))
    {
        rep !== null && rep.push(["missing mandatory prop <type> [.'$geometry'.'|'.2]", path])
        return false;
    }
    pval = val["type"];
    // .'$geometry'.'|'.2.type
    res = ((typeof pval === 'string' || pval instanceof String)) && pval == "LineString";
    if (! res)
    {
        rep !== null && rep.push(["unexpected LineString [.'$geometry'.'|'.2.type]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <type> [.'$geometry'.'|'.2]", path])
        return false;
    }
    if (! val.hasOwnProperty("coordinates"))
    {
        rep !== null && rep.push(["missing mandatory prop <coordinates> [.'$geometry'.'|'.2]", path])
        return false;
    }
    pval = val["coordinates"];
    // .'$geometry'.'|'.2.coordinates
    res = json_model_3(pval, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected $coord_array [.'$geometry'.'|'.2.coordinates]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <coordinates> [.'$geometry'.'|'.2]", path])
        return false;
    }
    if (val.hasOwnProperty("bbox"))
    {
        pval = val["bbox"];
        // .'$geometry'.'|'.2.bbox
        res = Array.isArray(pval);
        if (res)
        {
            for (let arr_17_idx = 0; arr_17_idx < pval.length; arr_17_idx++)
            {
                let arr_17_item = pval[arr_17_idx]
                let arr_17_lpath = path ? path.concat([arr_17_idx]) : null;
                // .'$geometry'.'|'.2.bbox.0
                res = (typeof arr_17_item === 'number' || arr_17_item instanceof Number);
                if (! res)
                {
                    rep !== null && rep.push(["not a -1.0 loose float [.'$geometry'.'|'.2.bbox.0]", (path ? arr_17_lpath : null)])
                }
                if (! res)
                {
                    break;
                }
            }
        }
        if (! res)
        {
            rep !== null && rep.push(["not array or unexpected array [.'$geometry'.'|'.2.bbox]", path])
        }
        if (! res)
        {
            rep !== null && rep.push(["unexpected value for optional prop <bbox> [.'$geometry'.'|'.2]", path])
            return false;
        }
    }
    return true;
}

// object .'$geometry'.'|'.3
function _jm_obj_9(val, path, rep)
{
    // check must only props
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$geometry'.'|'.3]", path])
        return false;
    }
    let pval;
    let res;
    if (! val.hasOwnProperty("type"))
    {
        rep !== null && rep.push(["missing mandatory prop <type> [.'$geometry'.'|'.3]", path])
        return false;
    }
    pval = val["type"];
    // .'$geometry'.'|'.3.type
    res = ((typeof pval === 'string' || pval instanceof String)) && pval == "MultiLineString";
    if (! res)
    {
        rep !== null && rep.push(["unexpected MultiLineString [.'$geometry'.'|'.3.type]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <type> [.'$geometry'.'|'.3]", path])
        return false;
    }
    if (! val.hasOwnProperty("coordinates"))
    {
        rep !== null && rep.push(["missing mandatory prop <coordinates> [.'$geometry'.'|'.3]", path])
        return false;
    }
    pval = val["coordinates"];
    // .'$geometry'.'|'.3.coordinates
    res = Array.isArray(pval);
    if (res)
    {
        for (let arr_18_idx = 0; arr_18_idx < pval.length; arr_18_idx++)
        {
            let arr_18_item = pval[arr_18_idx]
            let arr_18_lpath = path ? path.concat([arr_18_idx]) : null;
            // .'$geometry'.'|'.3.coordinates.0
            res = json_model_3(arr_18_item, (path ? arr_18_lpath : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $coord_array [.'$geometry'.'|'.3.coordinates.0]", (path ? arr_18_lpath : null)])
            }
            if (! res)
            {
                break;
            }
        }
    }
    if (! res)
    {
        rep !== null && rep.push(["not array or unexpected array [.'$geometry'.'|'.3.coordinates]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <coordinates> [.'$geometry'.'|'.3]", path])
        return false;
    }
    if (val.hasOwnProperty("bbox"))
    {
        pval = val["bbox"];
        // .'$geometry'.'|'.3.bbox
        res = Array.isArray(pval);
        if (res)
        {
            for (let arr_19_idx = 0; arr_19_idx < pval.length; arr_19_idx++)
            {
                let arr_19_item = pval[arr_19_idx]
                let arr_19_lpath = path ? path.concat([arr_19_idx]) : null;
                // .'$geometry'.'|'.3.bbox.0
                res = (typeof arr_19_item === 'number' || arr_19_item instanceof Number);
                if (! res)
                {
                    rep !== null && rep.push(["not a -1.0 loose float [.'$geometry'.'|'.3.bbox.0]", (path ? arr_19_lpath : null)])
                }
                if (! res)
                {
                    break;
                }
            }
        }
        if (! res)
        {
            rep !== null && rep.push(["not array or unexpected array [.'$geometry'.'|'.3.bbox]", path])
        }
        if (! res)
        {
            rep !== null && rep.push(["unexpected value for optional prop <bbox> [.'$geometry'.'|'.3]", path])
            return false;
        }
    }
    return true;
}

// object .'$geometry'.'|'.4
function _jm_obj_10(val, path, rep)
{
    // check must only props
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$geometry'.'|'.4]", path])
        return false;
    }
    let pval;
    let res;
    if (! val.hasOwnProperty("type"))
    {
        rep !== null && rep.push(["missing mandatory prop <type> [.'$geometry'.'|'.4]", path])
        return false;
    }
    pval = val["type"];
    // .'$geometry'.'|'.4.type
    res = ((typeof pval === 'string' || pval instanceof String)) && pval == "Polygon";
    if (! res)
    {
        rep !== null && rep.push(["unexpected Polygon [.'$geometry'.'|'.4.type]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <type> [.'$geometry'.'|'.4]", path])
        return false;
    }
    if (! val.hasOwnProperty("coordinates"))
    {
        rep !== null && rep.push(["missing mandatory prop <coordinates> [.'$geometry'.'|'.4]", path])
        return false;
    }
    pval = val["coordinates"];
    // .'$geometry'.'|'.4.coordinates
    res = Array.isArray(pval);
    if (res)
    {
        for (let arr_20_idx = 0; arr_20_idx < pval.length; arr_20_idx++)
        {
            let arr_20_item = pval[arr_20_idx]
            let arr_20_lpath = path ? path.concat([arr_20_idx]) : null;
            // .'$geometry'.'|'.4.coordinates.0
            res = json_model_4(arr_20_item, (path ? arr_20_lpath : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $linear_ring [.'$geometry'.'|'.4.coordinates.0]", (path ? arr_20_lpath : null)])
            }
            if (! res)
            {
                break;
            }
        }
    }
    if (! res)
    {
        rep !== null && rep.push(["not array or unexpected array [.'$geometry'.'|'.4.coordinates]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <coordinates> [.'$geometry'.'|'.4]", path])
        return false;
    }
    if (val.hasOwnProperty("bbox"))
    {
        pval = val["bbox"];
        // .'$geometry'.'|'.4.bbox
        res = Array.isArray(pval);
        if (res)
        {
            for (let arr_21_idx = 0; arr_21_idx < pval.length; arr_21_idx++)
            {
                let arr_21_item = pval[arr_21_idx]
                let arr_21_lpath = path ? path.concat([arr_21_idx]) : null;
                // .'$geometry'.'|'.4.bbox.0
                res = (typeof arr_21_item === 'number' || arr_21_item instanceof Number);
                if (! res)
                {
                    rep !== null && rep.push(["not a -1.0 loose float [.'$geometry'.'|'.4.bbox.0]", (path ? arr_21_lpath : null)])
                }
                if (! res)
                {
                    break;
                }
            }
        }
        if (! res)
        {
            rep !== null && rep.push(["not array or unexpected array [.'$geometry'.'|'.4.bbox]", path])
        }
        if (! res)
        {
            rep !== null && rep.push(["unexpected value for optional prop <bbox> [.'$geometry'.'|'.4]", path])
            return false;
        }
    }
    return true;
}

// object .'$geometry'.'|'.5
function _jm_obj_11(val, path, rep)
{
    // check must only props
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$geometry'.'|'.5]", path])
        return false;
    }
    let pval;
    let res;
    if (! val.hasOwnProperty("type"))
    {
        rep !== null && rep.push(["missing mandatory prop <type> [.'$geometry'.'|'.5]", path])
        return false;
    }
    pval = val["type"];
    // .'$geometry'.'|'.5.type
    res = ((typeof pval === 'string' || pval instanceof String)) && pval == "MultiPolygon";
    if (! res)
    {
        rep !== null && rep.push(["unexpected MultiPolygon [.'$geometry'.'|'.5.type]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <type> [.'$geometry'.'|'.5]", path])
        return false;
    }
    if (! val.hasOwnProperty("coordinates"))
    {
        rep !== null && rep.push(["missing mandatory prop <coordinates> [.'$geometry'.'|'.5]", path])
        return false;
    }
    pval = val["coordinates"];
    // .'$geometry'.'|'.5.coordinates
    res = Array.isArray(pval);
    if (res)
    {
        for (let arr_22_idx = 0; arr_22_idx < pval.length; arr_22_idx++)
        {
            let arr_22_item = pval[arr_22_idx]
            let arr_22_lpath = path ? path.concat([arr_22_idx]) : null;
            // .'$geometry'.'|'.5.coordinates.0
            res = Array.isArray(arr_22_item);
            if (res)
            {
                for (let arr_23_idx = 0; arr_23_idx < arr_22_item.length; arr_23_idx++)
                {
                    let arr_23_item = arr_22_item[arr_23_idx]
                    let arr_23_lpath = (path ? arr_22_lpath : null) ? (path ? arr_22_lpath : null).concat([arr_23_idx]) : null;
                    // .'$geometry'.'|'.5.coordinates.0.0
                    res = json_model_4(arr_23_item, ((path ? arr_22_lpath : null) ? arr_23_lpath : null), rep);
                    if (! res)
                    {
                        rep !== null && rep.push(["unexpected $linear_ring [.'$geometry'.'|'.5.coordinates.0.0]", ((path ? arr_22_lpath : null) ? arr_23_lpath : null)])
                    }
                    if (! res)
                    {
                        break;
                    }
                }
            }
            if (! res)
            {
                rep !== null && rep.push(["not array or unexpected array [.'$geometry'.'|'.5.coordinates.0]", (path ? arr_22_lpath : null)])
            }
            if (! res)
            {
                break;
            }
        }
    }
    if (! res)
    {
        rep !== null && rep.push(["not array or unexpected array [.'$geometry'.'|'.5.coordinates]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <coordinates> [.'$geometry'.'|'.5]", path])
        return false;
    }
    if (val.hasOwnProperty("bbox"))
    {
        pval = val["bbox"];
        // .'$geometry'.'|'.5.bbox
        res = Array.isArray(pval);
        if (res)
        {
            for (let arr_24_idx = 0; arr_24_idx < pval.length; arr_24_idx++)
            {
                let arr_24_item = pval[arr_24_idx]
                let arr_24_lpath = path ? path.concat([arr_24_idx]) : null;
                // .'$geometry'.'|'.5.bbox.0
                res = (typeof arr_24_item === 'number' || arr_24_item instanceof Number);
                if (! res)
                {
                    rep !== null && rep.push(["not a -1.0 loose float [.'$geometry'.'|'.5.bbox.0]", (path ? arr_24_lpath : null)])
                }
                if (! res)
                {
                    break;
                }
            }
        }
        if (! res)
        {
            rep !== null && rep.push(["not array or unexpected array [.'$geometry'.'|'.5.bbox]", path])
        }
        if (! res)
        {
            rep !== null && rep.push(["unexpected value for optional prop <bbox> [.'$geometry'.'|'.5]", path])
            return false;
        }
    }
    return true;
}


// check $geometry (.'$geometry')
function json_model_11(val, path, rep)
{
    let res;
    // .'$geometry'
    res = Object.prototype.toString.call(val) === '[object Object]';
    if (res)
    {
        let tag_0 = val["type"];
        if (tag_0 !== undefined)
        {
            let fun_0 = _jm_map_0.get(tag_0);
            if (fun_0 !== undefined)
            {
                res = fun_0(val, path, rep);
            }
            else
            {
                res = false;
                rep !== null && rep.push(["tag <type> value not found [.'$geometry'.'|']", path])
            }
        }
        else
        {
            res = false;
            rep !== null && rep.push(["tag prop <type> is missing [.'$geometry'.'|']", path])
        }
    }
    else
    {
        rep !== null && rep.push(["value is not an object [.'$geometry'.'|']", path])
    }
    return res;
}

// object .'$GeometryCollection'
function _jm_obj_12(val, path, rep)
{
    // check must only props
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$GeometryCollection']", path])
        return false;
    }
    let pval;
    let res;
    if (! val.hasOwnProperty("type"))
    {
        rep !== null && rep.push(["missing mandatory prop <type> [.'$GeometryCollection']", path])
        return false;
    }
    pval = val["type"];
    // .'$GeometryCollection'.type
    res = ((typeof pval === 'string' || pval instanceof String)) && pval == "GeometryCollection";
    if (! res)
    {
        rep !== null && rep.push(["unexpected GeometryCollection [.'$GeometryCollection'.type]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <type> [.'$GeometryCollection']", path])
        return false;
    }
    if (! val.hasOwnProperty("geometries"))
    {
        rep !== null && rep.push(["missing mandatory prop <geometries> [.'$GeometryCollection']", path])
        return false;
    }
    pval = val["geometries"];
    // .'$GeometryCollection'.geometries
    res = Array.isArray(pval);
    if (res)
    {
        for (let arr_25_idx = 0; arr_25_idx < pval.length; arr_25_idx++)
        {
            let arr_25_item = pval[arr_25_idx]
            let arr_25_lpath = path ? path.concat([arr_25_idx]) : null;
            // .'$GeometryCollection'.geometries.0
            res = json_model_11(arr_25_item, (path ? arr_25_lpath : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $geometry [.'$GeometryCollection'.geometries.0]", (path ? arr_25_lpath : null)])
            }
            if (! res)
            {
                break;
            }
        }
    }
    if (! res)
    {
        rep !== null && rep.push(["not array or unexpected array [.'$GeometryCollection'.geometries]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <geometries> [.'$GeometryCollection']", path])
        return false;
    }
    if (val.hasOwnProperty("bbox"))
    {
        pval = val["bbox"];
        // .'$GeometryCollection'.bbox
        res = Array.isArray(pval);
        if (res)
        {
            for (let arr_26_idx = 0; arr_26_idx < pval.length; arr_26_idx++)
            {
                let arr_26_item = pval[arr_26_idx]
                let arr_26_lpath = path ? path.concat([arr_26_idx]) : null;
                // .'$GeometryCollection'.bbox.0
                res = (typeof arr_26_item === 'number' || arr_26_item instanceof Number);
                if (! res)
                {
                    rep !== null && rep.push(["not a -1.0 loose float [.'$GeometryCollection'.bbox.0]", (path ? arr_26_lpath : null)])
                }
                if (! res)
                {
                    break;
                }
            }
        }
        if (! res)
        {
            rep !== null && rep.push(["not array or unexpected array [.'$GeometryCollection'.bbox]", path])
        }
        if (! res)
        {
            rep !== null && rep.push(["unexpected value for optional prop <bbox> [.'$GeometryCollection']", path])
            return false;
        }
    }
    return true;
}

// check $GeometryCollection (.'$GeometryCollection')
function json_model_12(val, path, rep)
{
    let res;
    // .'$GeometryCollection'
    res = _jm_obj_12(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected element [.'$GeometryCollection']", path])
    }
    return res;
}

// object .'$Feature'.properties.'|'.1
function _jm_obj_14(val, path, rep)
{
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Feature'.properties.'|'.1]", path])
        return false;
    }
    // accept any object
    return true;
}

// object .'$Feature'
function _jm_obj_13(val, path, rep)
{
    // check must only props
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$Feature']", path])
        return false;
    }
    let pval;
    let res;
    if (! val.hasOwnProperty("type"))
    {
        rep !== null && rep.push(["missing mandatory prop <type> [.'$Feature']", path])
        return false;
    }
    pval = val["type"];
    // .'$Feature'.type
    res = ((typeof pval === 'string' || pval instanceof String)) && pval == "Feature";
    if (! res)
    {
        rep !== null && rep.push(["unexpected Feature [.'$Feature'.type]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <type> [.'$Feature']", path])
        return false;
    }
    if (! val.hasOwnProperty("geometry"))
    {
        rep !== null && rep.push(["missing mandatory prop <geometry> [.'$Feature']", path])
        return false;
    }
    pval = val["geometry"];
    // .'$Feature'.geometry
    // .'$Feature'.geometry.'|'.0
    res = pval === null;
    if (! res)
    {
        rep !== null && rep.push(["not null [.'$Feature'.geometry.'|'.0]", path])
    }
    if (! res)
    {
        // .'$Feature'.geometry.'|'.1
        res = json_model_11(pval, path, rep);
        if (! res)
        {
            rep !== null && rep.push(["unexpected $geometry [.'$Feature'.geometry.'|'.1]", path])
        }
        if (! res)
        {
            // .'$Feature'.geometry.'|'.2
            res = json_model_12(pval, path, rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $GeometryCollection [.'$Feature'.geometry.'|'.2]", path])
            }
        }
    }
    if (res)
    {
        if (rep !== null) rep.length = 0
    }
    else
    {
        rep !== null && rep.push(["no model matched [.'$Feature'.geometry.'|']", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <geometry> [.'$Feature']", path])
        return false;
    }
    if (! val.hasOwnProperty("properties"))
    {
        rep !== null && rep.push(["missing mandatory prop <properties> [.'$Feature']", path])
        return false;
    }
    pval = val["properties"];
    // .'$Feature'.properties
    // .'$Feature'.properties.'|'.0
    res = pval === null;
    if (! res)
    {
        rep !== null && rep.push(["not null [.'$Feature'.properties.'|'.0]", path])
    }
    if (! res)
    {
        // .'$Feature'.properties.'|'.1
        res = _jm_obj_14(pval, path, rep);
        if (! res)
        {
            rep !== null && rep.push(["unexpected element [.'$Feature'.properties.'|'.1]", path])
        }
    }
    if (res)
    {
        if (rep !== null) rep.length = 0
    }
    else
    {
        rep !== null && rep.push(["no model matched [.'$Feature'.properties.'|']", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <properties> [.'$Feature']", path])
        return false;
    }
    if (val.hasOwnProperty("id"))
    {
        pval = val["id"];
        // .'$Feature'.id
        // .'$Feature'.id.'|'.0
        res = (typeof pval === 'string' || pval instanceof String);
        if (! res)
        {
            rep !== null && rep.push(["unexpected string [.'$Feature'.id.'|'.0]", path])
        }
        if (! res)
        {
            // .'$Feature'.id.'|'.1
            res = (typeof pval === 'number' || pval instanceof Number);
            if (! res)
            {
                rep !== null && rep.push(["not a -1.0 loose float [.'$Feature'.id.'|'.1]", path])
            }
        }
        if (res)
        {
            if (rep !== null) rep.length = 0
        }
        else
        {
            rep !== null && rep.push(["no model matched [.'$Feature'.id.'|']", path])
        }
        if (! res)
        {
            rep !== null && rep.push(["unexpected value for optional prop <id> [.'$Feature']", path])
            return false;
        }
    }
    if (val.hasOwnProperty("bbox"))
    {
        pval = val["bbox"];
        // .'$Feature'.bbox
        res = Array.isArray(pval);
        if (res)
        {
            for (let arr_27_idx = 0; arr_27_idx < pval.length; arr_27_idx++)
            {
                let arr_27_item = pval[arr_27_idx]
                let arr_27_lpath = path ? path.concat([arr_27_idx]) : null;
                // .'$Feature'.bbox.0
                res = (typeof arr_27_item === 'number' || arr_27_item instanceof Number);
                if (! res)
                {
                    rep !== null && rep.push(["not a -1.0 loose float [.'$Feature'.bbox.0]", (path ? arr_27_lpath : null)])
                }
                if (! res)
                {
                    break;
                }
            }
        }
        if (! res)
        {
            rep !== null && rep.push(["not array or unexpected array [.'$Feature'.bbox]", path])
        }
        if (! res)
        {
            rep !== null && rep.push(["unexpected value for optional prop <bbox> [.'$Feature']", path])
            return false;
        }
    }
    return true;
}

// check $Feature (.'$Feature')
function json_model_13(val, path, rep)
{
    let res;
    // .'$Feature'
    res = _jm_obj_13(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected element [.'$Feature']", path])
    }
    return res;
}

// object .'$FeatureCollection'
function _jm_obj_15(val, path, rep)
{
    // check must only props
    if (! (Object.prototype.toString.call(val) === '[object Object]'))
    {
        rep !== null && rep.push(["not an object [.'$FeatureCollection']", path])
        return false;
    }
    let pval;
    let res;
    if (! val.hasOwnProperty("type"))
    {
        rep !== null && rep.push(["missing mandatory prop <type> [.'$FeatureCollection']", path])
        return false;
    }
    pval = val["type"];
    // .'$FeatureCollection'.type
    res = ((typeof pval === 'string' || pval instanceof String)) && pval == "FeatureCollection";
    if (! res)
    {
        rep !== null && rep.push(["unexpected FeatureCollection [.'$FeatureCollection'.type]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <type> [.'$FeatureCollection']", path])
        return false;
    }
    if (! val.hasOwnProperty("features"))
    {
        rep !== null && rep.push(["missing mandatory prop <features> [.'$FeatureCollection']", path])
        return false;
    }
    pval = val["features"];
    // .'$FeatureCollection'.features
    res = Array.isArray(pval);
    if (res)
    {
        for (let arr_28_idx = 0; arr_28_idx < pval.length; arr_28_idx++)
        {
            let arr_28_item = pval[arr_28_idx]
            let arr_28_lpath = path ? path.concat([arr_28_idx]) : null;
            // .'$FeatureCollection'.features.0
            res = json_model_13(arr_28_item, (path ? arr_28_lpath : null), rep);
            if (! res)
            {
                rep !== null && rep.push(["unexpected $Feature [.'$FeatureCollection'.features.0]", (path ? arr_28_lpath : null)])
            }
            if (! res)
            {
                break;
            }
        }
    }
    if (! res)
    {
        rep !== null && rep.push(["not array or unexpected array [.'$FeatureCollection'.features]", path])
    }
    if (! res)
    {
        rep !== null && rep.push(["unexpected value for mandatory prop <features> [.'$FeatureCollection']", path])
        return false;
    }
    if (val.hasOwnProperty("bbox"))
    {
        pval = val["bbox"];
        // .'$FeatureCollection'.bbox
        res = Array.isArray(pval);
        if (res)
        {
            for (let arr_29_idx = 0; arr_29_idx < pval.length; arr_29_idx++)
            {
                let arr_29_item = pval[arr_29_idx]
                let arr_29_lpath = path ? path.concat([arr_29_idx]) : null;
                // .'$FeatureCollection'.bbox.0
                res = (typeof arr_29_item === 'number' || arr_29_item instanceof Number);
                if (! res)
                {
                    rep !== null && rep.push(["not a -1.0 loose float [.'$FeatureCollection'.bbox.0]", (path ? arr_29_lpath : null)])
                }
                if (! res)
                {
                    break;
                }
            }
        }
        if (! res)
        {
            rep !== null && rep.push(["not array or unexpected array [.'$FeatureCollection'.bbox]", path])
        }
        if (! res)
        {
            rep !== null && rep.push(["unexpected value for optional prop <bbox> [.'$FeatureCollection']", path])
            return false;
        }
    }
    return true;
}

// check $FeatureCollection (.'$FeatureCollection')
function json_model_14(val, path, rep)
{
    let res;
    // .'$FeatureCollection'
    res = _jm_obj_15(val, path, rep);
    if (! res)
    {
        rep !== null && rep.push(["unexpected element [.'$FeatureCollection']", path])
    }
    return res;
}

// check $ (.)
function json_model_1(val, path, rep)
{
    let res;
    // .
    // generic xor list
    let xc_0 = 0;
    let xr_0;
    // .'^'.0
    xr_0 = json_model_11(val, path, rep);
    if (! xr_0)
    {
        rep !== null && rep.push(["unexpected $geometry [.'^'.0]", path])
    }
    if (xr_0)
    {
        xc_0 += 1;
    }
    // .'^'.1
    xr_0 = json_model_12(val, path, rep);
    if (! xr_0)
    {
        rep !== null && rep.push(["unexpected $GeometryCollection [.'^'.1]", path])
    }
    if (xr_0)
    {
        xc_0 += 1;
    }
    if (xc_0 <= 1)
    {
        // .'^'.2
        xr_0 = json_model_13(val, path, rep);
        if (! xr_0)
        {
            rep !== null && rep.push(["unexpected $Feature [.'^'.2]", path])
        }
        if (xr_0)
        {
            xc_0 += 1;
        }
    }
    if (xc_0 <= 1)
    {
        // .'^'.3
        xr_0 = json_model_14(val, path, rep);
        if (! xr_0)
        {
            rep !== null && rep.push(["unexpected $FeatureCollection [.'^'.3]", path])
        }
        if (xr_0)
        {
            xc_0 += 1;
        }
    }
    res = xc_0 == 1;
    if (res)
    {
        if (rep !== null) rep.length = 0
    }
    else
    {
        rep !== null && rep.push(["not one model match [.'^']", path])
    }
    return res;
}


var initialized = false

// differed module initializations
export function check_model_init()
{
    if (! initialized)
    {
        initialized = true;
        runtime.jm_set_rx(RegExp)
        _jm_map_0.set("Point", _jm_obj_6)
        _jm_map_0.set("MultiPoint", _jm_obj_7)
        _jm_map_0.set("LineString", _jm_obj_8)
        _jm_map_0.set("MultiLineString", _jm_obj_9)
        _jm_map_0.set("Polygon", _jm_obj_10)
        _jm_map_0.set("MultiPolygon", _jm_obj_11)
        check_model_map.set("", json_model_1)
        check_model_map.set("position", json_model_2)
        check_model_map.set("coord_array", json_model_3)
        check_model_map.set("linear_ring", json_model_4)
        check_model_map.set("Point", json_model_5)
        check_model_map.set("MultiPoint", json_model_6)
        check_model_map.set("LineString", json_model_7)
        check_model_map.set("MultiLineString", json_model_8)
        check_model_map.set("Polygon", json_model_9)
        check_model_map.set("MultiPolygon", json_model_10)
        check_model_map.set("geometry", json_model_11)
        check_model_map.set("GeometryCollection", json_model_12)
        check_model_map.set("Feature", json_model_13)
        check_model_map.set("FeatureCollection", json_model_14)
    }
}

// differed module cleanup
export function check_model_free()
{
    if (initialized)
    {
        initialized = false;
    }
}

export function check_model(val, name, rep)
{
    let checker = check_model_map.get(name)
    if (checker === undefined)
        throw `no checker for "${name}"`
    let path = rep !== null ? [] : null

    return checker(val, path, rep)
}

// possibly run as main based on a guess
import main from "json_model_runtime/main.js"

if (import.meta.url.endsWith(process.argv[1]))
    main(check_model_init, check_model, check_model_free)
