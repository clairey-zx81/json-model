//
// Generated by JSON Model Compiler version 2
// see https://github.com/clairey-zx81/json-model
//
import 'dart:convert';
import 'dart:io';
import 'dart:core';
// Import the helper library generated nearby
import 'package:json_model_runtime/json_model.dart' as runtime;
import 'package:json_model_runtime/main.dart';

//
// Generated JSON Model Validator
//
const String JSON_MODEL_VERSION = "2";

var _jm_map_0 = Map();
var _jm_cst_0 = <dynamic>{};
var _jm_cst_1 = <dynamic>{};
var json_model_6_map = <String, Function>{};
var check_model_map = <String, Function>{};

// object .'$Schema'.metadata
bool _jm_obj_0(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    if (! (val is Map))
    {
        rep?.add(["not an object [.'\$Schema'.metadata]", path]);
        return false;
    }
    bool res;
    for (var entry in val.entries)
    {
        var prop = entry.key;
        var pval = entry.value;
        List<dynamic>? lpath_1 = (path != null ? [...?path, prop] : null);
        if (prop.compareTo("date") == 0)
        {
            // handle may date property
            // .'$Schema'.metadata.date
            res = (pval is String);
            if (! res)
            {
                rep?.add(["unexpected string [.'\$Schema'.metadata.date]", (path != null ? lpath_1 : null)]);
                rep?.add(["invalid optional prop value [.'\$Schema'.metadata.date]", (path != null ? lpath_1 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("name") == 0)
        {
            // handle may name property
            // .'$Schema'.metadata.name
            res = (pval is String);
            if (! res)
            {
                rep?.add(["unexpected string [.'\$Schema'.metadata.name]", (path != null ? lpath_1 : null)]);
                rep?.add(["invalid optional prop value [.'\$Schema'.metadata.name]", (path != null ? lpath_1 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("authors") == 0)
        {
            // handle may authors property
            // .'$Schema'.metadata.authors
            res = (pval is List);
            if (res)
            {
                for (var arr_1_idx = 0; arr_1_idx < pval.length; arr_1_idx++)
                {
                    var arr_1_item = pval[arr_1_idx];
                    List<dynamic>? arr_1_lpath = ((path != null ? lpath_1 : null) != null ? [...?(path != null ? lpath_1 : null), arr_1_idx] : null);
                    // .'$Schema'.metadata.authors.0
                    res = (arr_1_item is String);
                    if (! res)
                    {
                        rep?.add(["unexpected string [.'\$Schema'.metadata.authors.0]", ((path != null ? lpath_1 : null) != null ? arr_1_lpath : null)]);
                        break;
                    }
                }
            }
            if (! res)
            {
                rep?.add(["not array or unexpected array [.'\$Schema'.metadata.authors]", (path != null ? lpath_1 : null)]);
                rep?.add(["invalid optional prop value [.'\$Schema'.metadata.authors]", (path != null ? lpath_1 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("previous") == 0)
        {
            // handle may previous property
            // .'$Schema'.metadata.previous
            res = (pval is String);
            if (! res)
            {
                rep?.add(["unexpected string [.'\$Schema'.metadata.previous]", (path != null ? lpath_1 : null)]);
                rep?.add(["invalid optional prop value [.'\$Schema'.metadata.previous]", (path != null ? lpath_1 : null)]);
                return false;
            }
            continue;
        }
        rep?.add(["unexpected prop [.'\$Schema'.metadata]", (path != null ? lpath_1 : null)]);
        return false;
    }
    return true;
}

// check $Schema (.'$Schema')
bool json_model_2(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$Schema'
    if (! (val is Map))
    {
        rep?.add(["not an object [.'\$Schema']", path]);
        return false;
    }
    bool res;
    int must_count = 0;
    for (var entry in val.entries)
    {
        var prop = entry.key;
        var pval = entry.value;
        List<dynamic>? lpath_0 = (path != null ? [...?path, prop] : null);
        if (prop.compareTo("types") == 0)
        {
            // handle must types property
            must_count += 1;
            // .'$Schema'.types
            res = (pval is List);
            if (res)
            {
                for (var arr_0_idx = 0; arr_0_idx < pval.length; arr_0_idx++)
                {
                    var arr_0_item = pval[arr_0_idx];
                    List<dynamic>? arr_0_lpath = ((path != null ? lpath_0 : null) != null ? [...?(path != null ? lpath_0 : null), arr_0_idx] : null);
                    // .'$Schema'.types.0
                    res = json_model_3(arr_0_item, ((path != null ? lpath_0 : null) != null ? arr_0_lpath : null), rep);
                    if (! res)
                    {
                        rep?.add(["unexpected \$Type [.'\$Schema'.types.0]", ((path != null ? lpath_0 : null) != null ? arr_0_lpath : null)]);
                        break;
                    }
                }
            }
            if (! res)
            {
                rep?.add(["not array or unexpected array [.'\$Schema'.types]", (path != null ? lpath_0 : null)]);
                rep?.add(["invalid mandatory prop value [.'\$Schema'.types]", (path != null ? lpath_0 : null)]);
                return false;
            }
            continue;
        }
        if (prop.compareTo("metadata") == 0)
        {
            // handle may metadata property
            // .'$Schema'.metadata
            res = _jm_obj_0(pval, (path != null ? lpath_0 : null), rep);
            if (! res)
            {
                rep?.add(["unexpected element [.'\$Schema'.metadata]", (path != null ? lpath_0 : null)]);
                rep?.add(["invalid optional prop value [.'\$Schema'.metadata]", (path != null ? lpath_0 : null)]);
                return false;
            }
            continue;
        }
        rep?.add(["unexpected prop [.'\$Schema']", (path != null ? lpath_0 : null)]);
        return false;
    }
    if (must_count != 1)
    {
        if (rep != null)
        {
            if (! val.containsKey("types"))
            {
                rep?.add(["missing mandatory prop <types> [.'\$Schema']", path]);
            }
        }
        return false;
    }
    return true;
}


// check $Type (.'$Type')
bool json_model_3(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    bool res;
    // .'$Type'
    bool iso_0 = (val is Map);
    res = iso_0;
    if (res)
    {
        if (val.containsKey("kind"))
        {
            dynamic tag_0 = val["kind"];
            dynamic fun_0 = _jm_map_0[tag_0];
            if (fun_0 != null)
            {
                res = fun_0(val, path, rep);
            }
            else
            {
                res = false;
                rep?.add(["tag <kind> value not found [.'\$Type'.'|']", path]);
            }
        }
        else
        {
            res = false;
            rep?.add(["tag prop <kind> is missing [.'\$Type'.'|']", path]);
        }
    }
    else
    {
        rep?.add(["value is not an object [.'\$Type'.'|']", path]);
    }
    return res;
}


// check $atomic-types (.'$atomic-types')
bool json_model_4(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$atomic-types'
    bool res = ((val == null || val is num || val is bool || val is String)) && _jm_cst_0.contains(val);
    if (! res)
    {
        rep?.add(["value not in enum [.'\$atomic-types'.'|']", path]);
    }
    return res;
}

// check $atomic (.'$atomic')
bool json_model_5(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$atomic'
    // .'$atomic'.'|'.0
    bool res = val == null;
    if (! res)
    {
        rep?.add(["not null [.'\$atomic'.'|'.0]", path]);
        // .'$atomic'.'|'.1
        res = (val is bool);
        if (! res)
        {
            rep?.add(["not a bool [.'\$atomic'.'|'.1]", path]);
            // .'$atomic'.'|'.2
            res = (val is int);
            if (! res)
            {
                rep?.add(["not a -1 strict int [.'\$atomic'.'|'.2]", path]);
                // .'$atomic'.'|'.3
                res = (val is double);
                if (! res)
                {
                    rep?.add(["not a -1.0 strict float [.'\$atomic'.'|'.3]", path]);
                    // .'$atomic'.'|'.4
                    res = (val is String);
                    if (! res)
                    {
                        rep?.add(["unexpected string [.'\$atomic'.'|'.4]", path]);
                    }
                }
            }
        }
    }
    if (res)
    {
        rep?.clear();
    }
    else
    {
        rep?.add(["no model matched [.'\$atomic'.'|']", path]);
    }
    return res;
}

// check json_model_6_map_enumeration (.'$Atomic'.enumeration)
bool _jm_f_0(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$Atomic'.enumeration
    bool res = (val is List);
    if (res)
    {
        for (var arr_2_idx = 0; arr_2_idx < val.length; arr_2_idx++)
        {
            var arr_2_item = val[arr_2_idx];
            List<dynamic>? arr_2_lpath = (path != null ? [...?path, arr_2_idx] : null);
            // .'$Atomic'.enumeration.0
            res = json_model_5(arr_2_item, (path != null ? arr_2_lpath : null), rep);
            if (! res)
            {
                rep?.add(["unexpected \$atomic [.'\$Atomic'.enumeration.0]", (path != null ? arr_2_lpath : null)]);
                break;
            }
        }
    }
    if (! res)
    {
        rep?.add(["not array or unexpected array [.'\$Atomic'.enumeration]", path]);
    }
    return res;
}


// check json_model_6_map_explicitTypeZone (.'$Atomic'.explicitTypeZone)
bool _jm_f_1(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$Atomic'.explicitTypeZone
    bool res = ((val == null || val is num || val is bool || val is String)) && _jm_cst_1.contains(val);
    if (! res)
    {
        rep?.add(["value not in enum [.'\$Atomic'.explicitTypeZone.'|']", path]);
    }
    return res;
}

// check json_model_6_map_fractionDigits (.'$Atomic'.fractionDigits)
bool _jm_f_2(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$Atomic'.fractionDigits
    bool res = (val is int) && val >= 0;
    if (! res)
    {
        rep?.add(["not a 0 strict int [.'\$Atomic'.fractionDigits]", path]);
    }
    return res;
}

// check json_model_6_map_length (.'$Atomic'.length)
bool _jm_f_3(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$Atomic'.length
    bool res = (val is int) && val >= 0;
    if (! res)
    {
        rep?.add(["not a 0 strict int [.'\$Atomic'.length]", path]);
    }
    return res;
}

// check json_model_6_map_maxLength (.'$Atomic'.maxLength)
bool _jm_f_4(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$Atomic'.maxLength
    bool res = (val is int) && val >= 0;
    if (! res)
    {
        rep?.add(["not a 0 strict int [.'\$Atomic'.maxLength]", path]);
    }
    return res;
}

// check json_model_6_map_minLength (.'$Atomic'.minLength)
bool _jm_f_5(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$Atomic'.minLength
    bool res = (val is int) && val >= 0;
    if (! res)
    {
        rep?.add(["not a 0 strict int [.'\$Atomic'.minLength]", path]);
    }
    return res;
}

// check json_model_6_map_name (.'$Atomic'.name)
bool _jm_f_6(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$Atomic'.name
    bool res = (val is String);
    if (! res)
    {
        rep?.add(["unexpected string [.'\$Atomic'.name]", path]);
    }
    return res;
}

// check json_model_6_map_pattern (.'$Atomic'.pattern)
bool _jm_f_7(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$Atomic'.pattern
    bool res = (val is String);
    if (! res)
    {
        rep?.add(["unexpected string [.'\$Atomic'.pattern]", path]);
    }
    return res;
}

// check json_model_6_map_totalDigits (.'$Atomic'.totalDigits)
bool _jm_f_8(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$Atomic'.totalDigits
    bool res = (val is int) && val >= 0;
    if (! res)
    {
        rep?.add(["not a 0 strict int [.'\$Atomic'.totalDigits]", path]);
    }
    return res;
}


// check $Atomic (.'$Atomic')
bool json_model_6(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // could there be derived atomics as well?
    // .'$Atomic'
    if (! (val is Map))
    {
        rep?.add(["not an object [.'\$Atomic']", path]);
        return false;
    }
    bool res;
    dynamic pfun;
    int must_count = 0;
    for (var entry in val.entries)
    {
        var prop = entry.key;
        var pval = entry.value;
        List<dynamic>? lpath_2 = (path != null ? [...?path, prop] : null);
        if (prop.compareTo("kind") == 0)
        {
            // handle must kind property
            must_count += 1;
            // .'$Atomic'.kind
            res = (pval is String) && pval.compareTo("atomic") == 0;
            if (! res)
            {
                rep?.add(["unexpected atomic [.'\$Atomic'.kind]", (path != null ? lpath_2 : null)]);
                rep?.add(["invalid mandatory prop value [.'\$Atomic'.kind]", (path != null ? lpath_2 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("baseType") == 0)
        {
            // handle must baseType property
            must_count += 1;
            // .'$Atomic'.baseType
            res = json_model_4(pval, (path != null ? lpath_2 : null), rep);
            if (! res)
            {
                rep?.add(["unexpected \$atomic-types [.'\$Atomic'.baseType]", (path != null ? lpath_2 : null)]);
                rep?.add(["invalid mandatory prop value [.'\$Atomic'.baseType]", (path != null ? lpath_2 : null)]);
                return false;
            }
            continue;
        }
        if ((pfun = json_model_6_map[prop]) != null)
        {
            // handle 13 may props
            if (pfun != null && ! (pfun(pval, (path != null ? lpath_2 : null), rep)))
            {
                rep?.add(["invalid optional prop value [.'\$Atomic']", (path != null ? lpath_2 : null)]);
                return false;
            }
            continue;
        }
        rep?.add(["unexpected prop [.'\$Atomic']", (path != null ? lpath_2 : null)]);
        return false;
    }
    if (must_count != 2)
    {
        if (rep != null)
        {
            if (! val.containsKey("baseType"))
            {
                rep?.add(["missing mandatory prop <baseType> [.'\$Atomic']", path]);
            }
            if (! val.containsKey("kind"))
            {
                rep?.add(["missing mandatory prop <kind> [.'\$Atomic']", path]);
            }
        }
        return false;
    }
    return true;
}

// check $Object (.'$Object')
bool json_model_7(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$Object'
    if (! (val is Map))
    {
        rep?.add(["not an object [.'\$Object']", path]);
        return false;
    }
    bool res;
    int must_count = 0;
    for (var entry in val.entries)
    {
        var prop = entry.key;
        var pval = entry.value;
        List<dynamic>? lpath_3 = (path != null ? [...?path, prop] : null);
        if (prop.compareTo("kind") == 0)
        {
            // handle must kind property
            must_count += 1;
            // .'$Object'.kind
            res = (pval is String) && pval.compareTo("object") == 0;
            if (! res)
            {
                rep?.add(["unexpected object [.'\$Object'.kind]", (path != null ? lpath_3 : null)]);
                rep?.add(["invalid mandatory prop value [.'\$Object'.kind]", (path != null ? lpath_3 : null)]);
                return false;
            }
            continue;
        }
        if (prop.compareTo("name") == 0)
        {
            // handle may name property
            // .'$Object'.name
            res = (pval is String);
            if (! res)
            {
                rep?.add(["unexpected string [.'\$Object'.name]", (path != null ? lpath_3 : null)]);
                rep?.add(["invalid optional prop value [.'\$Object'.name]", (path != null ? lpath_3 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("closed") == 0)
        {
            // handle may closed property
            // .'$Object'.closed
            res = (pval is bool);
            if (! res)
            {
                rep?.add(["not a bool [.'\$Object'.closed]", (path != null ? lpath_3 : null)]);
                rep?.add(["invalid optional prop value [.'\$Object'.closed]", (path != null ? lpath_3 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("content") == 0)
        {
            // handle may content property
            // .'$Object'.content
            res = (pval is List);
            if (res)
            {
                for (var arr_3_idx = 0; arr_3_idx < pval.length; arr_3_idx++)
                {
                    var arr_3_item = pval[arr_3_idx];
                    List<dynamic>? arr_3_lpath = ((path != null ? lpath_3 : null) != null ? [...?(path != null ? lpath_3 : null), arr_3_idx] : null);
                    // .'$Object'.content.0
                    res = json_model_8(arr_3_item, ((path != null ? lpath_3 : null) != null ? arr_3_lpath : null), rep);
                    if (! res)
                    {
                        rep?.add(["unexpected \$Fields [.'\$Object'.content.0]", ((path != null ? lpath_3 : null) != null ? arr_3_lpath : null)]);
                        break;
                    }
                }
            }
            if (! res)
            {
                rep?.add(["not array or unexpected array [.'\$Object'.content]", (path != null ? lpath_3 : null)]);
                rep?.add(["invalid optional prop value [.'\$Object'.content]", (path != null ? lpath_3 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("baseType") == 0)
        {
            // handle may baseType property
            // .'$Object'.baseType
            res = (pval is String);
            if (! res)
            {
                rep?.add(["unexpected string [.'\$Object'.baseType]", (path != null ? lpath_3 : null)]);
                rep?.add(["invalid optional prop value [.'\$Object'.baseType]", (path != null ? lpath_3 : null)]);
                return false;
            }
            continue;
        }
        rep?.add(["unexpected prop [.'\$Object']", (path != null ? lpath_3 : null)]);
        return false;
    }
    if (must_count != 1)
    {
        if (rep != null)
        {
            if (! val.containsKey("kind"))
            {
                rep?.add(["missing mandatory prop <kind> [.'\$Object']", path]);
            }
        }
        return false;
    }
    return true;
}

// check $Fields (.'$Fields')
bool json_model_8(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$Fields'
    if (! (val is Map))
    {
        rep?.add(["not an object [.'\$Fields']", path]);
        return false;
    }
    bool res;
    int must_count = 0;
    for (var entry in val.entries)
    {
        var prop = entry.key;
        var pval = entry.value;
        List<dynamic>? lpath_4 = (path != null ? [...?path, prop] : null);
        if (prop.compareTo("name") == 0)
        {
            // handle must name property
            must_count += 1;
            // .'$Fields'.name
            res = (pval is String);
            if (! res)
            {
                rep?.add(["unexpected string [.'\$Fields'.name]", (path != null ? lpath_4 : null)]);
                rep?.add(["invalid mandatory prop value [.'\$Fields'.name]", (path != null ? lpath_4 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("type") == 0)
        {
            // handle must type property
            must_count += 1;
            // .'$Fields'.type
            res = json_model_11(pval, (path != null ? lpath_4 : null), rep);
            if (! res)
            {
                rep?.add(["unexpected \$type-or-ref [.'\$Fields'.type]", (path != null ? lpath_4 : null)]);
                rep?.add(["invalid mandatory prop value [.'\$Fields'.type]", (path != null ? lpath_4 : null)]);
                return false;
            }
            continue;
        }
        if (prop.compareTo("unique") == 0)
        {
            // handle may unique property
            // .'$Fields'.unique
            res = (pval is bool);
            if (! res)
            {
                rep?.add(["not a bool [.'\$Fields'.unique]", (path != null ? lpath_4 : null)]);
                rep?.add(["invalid optional prop value [.'\$Fields'.unique]", (path != null ? lpath_4 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("default") == 0)
        {
            // handle may default property
            // .'$Fields'.default
            res = true;
            continue;
        }
        else if (prop.compareTo("required") == 0)
        {
            // handle may required property
            // .'$Fields'.required
            res = (pval is bool);
            if (! res)
            {
                rep?.add(["not a bool [.'\$Fields'.required]", (path != null ? lpath_4 : null)]);
                rep?.add(["invalid optional prop value [.'\$Fields'.required]", (path != null ? lpath_4 : null)]);
                return false;
            }
            continue;
        }
        rep?.add(["unexpected prop [.'\$Fields']", (path != null ? lpath_4 : null)]);
        return false;
    }
    if (must_count != 2)
    {
        if (rep != null)
        {
            if (! val.containsKey("name"))
            {
                rep?.add(["missing mandatory prop <name> [.'\$Fields']", path]);
            }
            if (! val.containsKey("type"))
            {
                rep?.add(["missing mandatory prop <type> [.'\$Fields']", path]);
            }
        }
        return false;
    }
    return true;
}

// check $Array (.'$Array')
bool json_model_9(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // WTF about 'content'?
    // .'$Array'
    if (! (val is Map))
    {
        rep?.add(["not an object [.'\$Array']", path]);
        return false;
    }
    bool res;
    int must_count = 0;
    for (var entry in val.entries)
    {
        var prop = entry.key;
        var pval = entry.value;
        List<dynamic>? lpath_5 = (path != null ? [...?path, prop] : null);
        if (prop.compareTo("kind") == 0)
        {
            // handle must kind property
            must_count += 1;
            // .'$Array'.kind
            res = (pval is String) && pval.compareTo("array") == 0;
            if (! res)
            {
                rep?.add(["unexpected array [.'\$Array'.kind]", (path != null ? lpath_5 : null)]);
                rep?.add(["invalid mandatory prop value [.'\$Array'.kind]", (path != null ? lpath_5 : null)]);
                return false;
            }
            continue;
        }
        if (prop.compareTo("name") == 0)
        {
            // handle may name property
            // .'$Array'.name
            res = (pval is String);
            if (! res)
            {
                rep?.add(["unexpected string [.'\$Array'.name]", (path != null ? lpath_5 : null)]);
                rep?.add(["invalid optional prop value [.'\$Array'.name]", (path != null ? lpath_5 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("content") == 0)
        {
            // handle may content property
            // .'$Array'.content
            res = json_model_11(pval, (path != null ? lpath_5 : null), rep);
            if (! res)
            {
                rep?.add(["unexpected \$type-or-ref [.'\$Array'.content]", (path != null ? lpath_5 : null)]);
                rep?.add(["invalid optional prop value [.'\$Array'.content]", (path != null ? lpath_5 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("baseType") == 0)
        {
            // handle may baseType property
            // .'$Array'.baseType
            res = (pval is String);
            if (! res)
            {
                rep?.add(["unexpected string [.'\$Array'.baseType]", (path != null ? lpath_5 : null)]);
                rep?.add(["invalid optional prop value [.'\$Array'.baseType]", (path != null ? lpath_5 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("maxLength") == 0)
        {
            // handle may maxLength property
            // .'$Array'.maxLength
            res = (pval is int) && pval >= 0;
            if (! res)
            {
                rep?.add(["not a 0 strict int [.'\$Array'.maxLength]", (path != null ? lpath_5 : null)]);
                rep?.add(["invalid optional prop value [.'\$Array'.maxLength]", (path != null ? lpath_5 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("minLength") == 0)
        {
            // handle may minLength property
            // .'$Array'.minLength
            res = (pval is int) && pval >= 0;
            if (! res)
            {
                rep?.add(["not a 0 strict int [.'\$Array'.minLength]", (path != null ? lpath_5 : null)]);
                rep?.add(["invalid optional prop value [.'\$Array'.minLength]", (path != null ? lpath_5 : null)]);
                return false;
            }
            continue;
        }
        rep?.add(["unexpected prop [.'\$Array']", (path != null ? lpath_5 : null)]);
        return false;
    }
    if (must_count != 1)
    {
        if (rep != null)
        {
            if (! val.containsKey("kind"))
            {
                rep?.add(["missing mandatory prop <kind> [.'\$Array']", path]);
            }
        }
        return false;
    }
    return true;
}

// check $Union (.'$Union')
bool json_model_10(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // jsound.jsound.json does not say that it is a typeâ€¦
    // .'$Union'
    if (! (val is Map))
    {
        rep?.add(["not an object [.'\$Union']", path]);
        return false;
    }
    bool res;
    int must_count = 0;
    for (var entry in val.entries)
    {
        var prop = entry.key;
        var pval = entry.value;
        List<dynamic>? lpath_6 = (path != null ? [...?path, prop] : null);
        if (prop.compareTo("kind") == 0)
        {
            // handle must kind property
            must_count += 1;
            // .'$Union'.kind
            res = (pval is String) && pval.compareTo("union") == 0;
            if (! res)
            {
                rep?.add(["unexpected union [.'\$Union'.kind]", (path != null ? lpath_6 : null)]);
                rep?.add(["invalid mandatory prop value [.'\$Union'.kind]", (path != null ? lpath_6 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("name") == 0)
        {
            // handle must name property
            must_count += 1;
            // .'$Union'.name
            res = (pval is String);
            if (! res)
            {
                rep?.add(["unexpected string [.'\$Union'.name]", (path != null ? lpath_6 : null)]);
                rep?.add(["invalid mandatory prop value [.'\$Union'.name]", (path != null ? lpath_6 : null)]);
                return false;
            }
            continue;
        }
        else if (prop.compareTo("content") == 0)
        {
            // handle must content property
            must_count += 1;
            // .'$Union'.content
            res = (pval is List);
            if (res)
            {
                for (var arr_4_idx = 0; arr_4_idx < pval.length; arr_4_idx++)
                {
                    var arr_4_item = pval[arr_4_idx];
                    List<dynamic>? arr_4_lpath = ((path != null ? lpath_6 : null) != null ? [...?(path != null ? lpath_6 : null), arr_4_idx] : null);
                    // .'$Union'.content.0
                    res = json_model_11(arr_4_item, ((path != null ? lpath_6 : null) != null ? arr_4_lpath : null), rep);
                    if (! res)
                    {
                        rep?.add(["unexpected \$type-or-ref [.'\$Union'.content.0]", ((path != null ? lpath_6 : null) != null ? arr_4_lpath : null)]);
                        break;
                    }
                }
            }
            if (! res)
            {
                rep?.add(["not array or unexpected array [.'\$Union'.content]", (path != null ? lpath_6 : null)]);
                rep?.add(["invalid mandatory prop value [.'\$Union'.content]", (path != null ? lpath_6 : null)]);
                return false;
            }
            continue;
        }
        if (prop.compareTo("baseType") == 0)
        {
            // handle may baseType property
            // .'$Union'.baseType
            res = (pval is String);
            if (! res)
            {
                rep?.add(["unexpected string [.'\$Union'.baseType]", (path != null ? lpath_6 : null)]);
                rep?.add(["invalid optional prop value [.'\$Union'.baseType]", (path != null ? lpath_6 : null)]);
                return false;
            }
            continue;
        }
        rep?.add(["unexpected prop [.'\$Union']", (path != null ? lpath_6 : null)]);
        return false;
    }
    if (must_count != 3)
    {
        if (rep != null)
        {
            if (! val.containsKey("content"))
            {
                rep?.add(["missing mandatory prop <content> [.'\$Union']", path]);
            }
            if (! val.containsKey("kind"))
            {
                rep?.add(["missing mandatory prop <kind> [.'\$Union']", path]);
            }
            if (! val.containsKey("name"))
            {
                rep?.add(["missing mandatory prop <name> [.'\$Union']", path]);
            }
        }
        return false;
    }
    return true;
}

// check $type-or-ref (.'$type-or-ref')
bool json_model_11(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .'$type-or-ref'
    // .'$type-or-ref'.'|'.0
    bool res = (val is String);
    if (! res)
    {
        rep?.add(["unexpected string [.'\$type-or-ref'.'|'.0]", path]);
        // .'$type-or-ref'.'|'.1
        res = json_model_3(val, path, rep);
        if (! res)
        {
            rep?.add(["unexpected \$Type [.'\$type-or-ref'.'|'.1]", path]);
        }
    }
    if (res)
    {
        rep?.clear();
    }
    else
    {
        rep?.add(["no model matched [.'\$type-or-ref'.'|']", path]);
    }
    return res;
}

// check $ (.)
bool json_model_1(dynamic val, List<dynamic>? path, List<dynamic>? rep)
{
    // .
    bool res = json_model_2(val, path, rep);
    if (! res)
    {
        rep?.add(["unexpected \$Schema [.]", path]);
    }
    return res;
}


// dart_init.dart
class GlobalState {
  static bool initializer = false;
}

Function? check_model_fun(String name) {
  return check_model_map[name];
}


void check_model_init() {
  if (!GlobalState.initializer){
    GlobalState.initializer = true;
  }
        _jm_map_0["atomic"] = json_model_6;
        _jm_map_0["object"] = json_model_7;
        _jm_map_0["array"] = json_model_9;
        _jm_map_0["union"] = json_model_10;
        _jm_cst_0.add("string");
        _jm_cst_0.add("decimal");
        _jm_cst_0.add("integer");
        _jm_cst_0.add("double");
        _jm_cst_0.add("boolean");
        _jm_cst_0.add("anyURI");
        _jm_cst_0.add("base64Binary");
        _jm_cst_0.add("hexBinary");
        _jm_cst_0.add("date");
        _jm_cst_0.add("dateTime");
        _jm_cst_0.add("time");
        _jm_cst_0.add("dateTimeStamp");
        _jm_cst_0.add("duration");
        _jm_cst_0.add("null");
        _jm_cst_1.add("required");
        _jm_cst_1.add("prohibited");
        _jm_cst_1.add("optional");
        json_model_6_map["enumeration"] = _jm_f_0;
        json_model_6_map["explicitTypeZone"] = _jm_f_1;
        json_model_6_map["fractionDigits"] = _jm_f_2;
        json_model_6_map["length"] = _jm_f_3;
        json_model_6_map["maxExclusive"] = json_model_5;
        json_model_6_map["maxInclusive"] = json_model_5;
        json_model_6_map["maxLength"] = _jm_f_4;
        json_model_6_map["minExclusive"] = json_model_5;
        json_model_6_map["minInclusive"] = json_model_5;
        json_model_6_map["minLength"] = _jm_f_5;
        json_model_6_map["name"] = _jm_f_6;
        json_model_6_map["pattern"] = _jm_f_7;
        json_model_6_map["totalDigits"] = _jm_f_8;
        check_model_map[""] = json_model_2;
        check_model_map["Schema"] = json_model_2;
        check_model_map["Type"] = json_model_3;
        check_model_map["atomic-types"] = json_model_4;
        check_model_map["atomic"] = json_model_5;
        check_model_map["Atomic"] = json_model_6;
        check_model_map["Object"] = json_model_7;
        check_model_map["Fields"] = json_model_8;
        check_model_map["Array"] = json_model_9;
        check_model_map["Union"] = json_model_10;
        check_model_map["type-or-ref"] = json_model_11;
}

// dart_free.dart
void check_model_free() {
  GlobalState.initializer = true;
}


void main(List<String> args) {
  runValidation(
    args,
    check_model_init,
    check_model_fun,
    check_model_free,
  );
}
