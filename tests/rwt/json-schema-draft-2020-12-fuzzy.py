#! /bin/env python
#
# Model: ./json-schema-draft-2020-12-fuzzy.model.json
#
# Generated by jmc (JSON Model Compiler) (https://github.com/clairey-zx81/json-model)
#

from typing import Callable
import re as re
import datetime
import urllib.parse

type Jsonable = None|bool|int|float|str|list[Jsonable]|dict[str, Jsonable]
type Path = list[str]
type Report = list[str]|None
type CheckFun = Callable[[Jsonable, str, Report], bool]
type PropMap = dict[str, CheckFun]
type TagMap = dict[None|bool|float|int|str, CheckFun]

# extract type name
def _tname(value: Jsonable) -> str:
    return type(value).__name__

# maybe add message to report
def _rep(msg: str, rep: Report) -> bool:
    rep is None or rep.append(msg)
    return False

json_model_122_may: PropMap

def is_valid_re(value: Jsonable, path: str, rep: Report = None) -> bool:
    if isinstance(value, str):
        try:
            re.compile(value)
            return True
        except Exception as e:
            rep is None or rep.append(f"regex compile error at {path}: {value} ({e})")
            return False
    rep is None or rep.append(f"incompatible type for regex at {path}: {_tname(value)}")
    return False

def is_valid_url(value: Jsonable, path: str, rep: Report = None) -> bool:
    if isinstance(value, str):
        try:
            urllib.parse.urlparse(value)
            return True
        except Exception as e:
            rep is None or re.append(f"invalid url at {path}: {value} ({e})")
            return False
    rep is None or rep.append(f"incompatible type for url at {path}: {_tname(value)}")
    return False

# define "json_model_122_may_$id" ($.'$schema#ObjectSchema'.'$id')
def jm_f_0(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.'$id'
    result = json_model_108(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $URI-REFERENCE at {path} [$.'$schema#ObjectSchema'.'$id']")
    return result

# define "json_model_122_may_$schema" ($.'$schema#ObjectSchema'.'$schema')
def jm_f_1(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.'$schema'
    result = isinstance(value, str) and value == "https://json-schema.org/draft/2020-12/schema"
    if not result:
        rep is None or rep.append(f"not an expected _https://json-schema.org/draft/2020-12/schema at {path} [$.'$schema#ObjectSchema'.'$schema']")
    return result

# define "json_model_122_may_$ref" ($.'$schema#ObjectSchema'.'$ref')
def jm_f_2(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.'$ref'
    result = json_model_108(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $URI-REFERENCE at {path} [$.'$schema#ObjectSchema'.'$ref']")
    return result

# define "json_model_122_may_$anchor" ($.'$schema#ObjectSchema'.'$anchor')
def jm_f_3(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.'$anchor'
    result = json_model_108(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $URI-REFERENCE at {path} [$.'$schema#ObjectSchema'.'$anchor']")
    return result

# define "json_model_122_may_$dynamicRef" ($.'$schema#ObjectSchema'.'$dynamicRef')
def jm_f_4(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.'$dynamicRef'
    result = json_model_108(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $URI-REFERENCE at {path} [$.'$schema#ObjectSchema'.'$dynamicRef']")
    return result

# define "json_model_122_may_$dynamicAnchor" ($.'$schema#ObjectSchema'.'$dynamicAnchor')
def jm_f_5(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.'$dynamicAnchor'
    result = json_model_108(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $URI-REFERENCE at {path} [$.'$schema#ObjectSchema'.'$dynamicAnchor']")
    return result



# define "json_model_122_may_$comment" ($.'$schema#ObjectSchema'.'$comment')
def jm_f_7(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.'$comment'
    result = isinstance(value, str)
    if not result:
        rep is None or rep.append(f"not an expected string at {path} [$.'$schema#ObjectSchema'.'$comment']")
    return result



# define "json_model_122_may_prefixItems" ($.'$schema#ObjectSchema'.prefixItems)
def jm_f_9(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.prefixItems
    result = json_model_120(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $schemaArray at {path} [$.'$schema#ObjectSchema'.prefixItems]")
    return result

# define "json_model_122_may_items" ($.'$schema#ObjectSchema'.items)
def jm_f_10(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.items
    result = json_model_123(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $Schema at {path} [$.'$schema#ObjectSchema'.items]")
    return result

# define "json_model_122_may_contains" ($.'$schema#ObjectSchema'.contains)
def jm_f_11(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.contains
    result = json_model_123(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $Schema at {path} [$.'$schema#ObjectSchema'.contains]")
    return result

# define "json_model_122_may_additionalProperties" ($.'$schema#ObjectSchema'.additionalProperties)
def jm_f_12(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.additionalProperties
    result = json_model_123(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $Schema at {path} [$.'$schema#ObjectSchema'.additionalProperties]")
    return result







# define "json_model_122_may_propertyNames" ($.'$schema#ObjectSchema'.propertyNames)
def jm_f_16(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.propertyNames
    result = json_model_123(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $Schema at {path} [$.'$schema#ObjectSchema'.propertyNames]")
    return result

# define "json_model_122_may_if" ($.'$schema#ObjectSchema'.if)
def jm_f_17(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.if
    result = json_model_123(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $Schema at {path} [$.'$schema#ObjectSchema'.if]")
    return result

# define "json_model_122_may_then" ($.'$schema#ObjectSchema'.then)
def jm_f_18(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.then
    result = json_model_123(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $Schema at {path} [$.'$schema#ObjectSchema'.then]")
    return result

# define "json_model_122_may_else" ($.'$schema#ObjectSchema'.else)
def jm_f_19(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.else
    result = json_model_123(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $Schema at {path} [$.'$schema#ObjectSchema'.else]")
    return result

# define "json_model_122_may_not" ($.'$schema#ObjectSchema'.not)
def jm_f_20(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.not
    result = json_model_123(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $Schema at {path} [$.'$schema#ObjectSchema'.not]")
    return result

# define "json_model_122_may_allOf" ($.'$schema#ObjectSchema'.allOf)
def jm_f_21(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.allOf
    result = json_model_120(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $schemaArray at {path} [$.'$schema#ObjectSchema'.allOf]")
    return result

# define "json_model_122_may_anyOf" ($.'$schema#ObjectSchema'.anyOf)
def jm_f_22(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.anyOf
    result = json_model_120(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $schemaArray at {path} [$.'$schema#ObjectSchema'.anyOf]")
    return result

# define "json_model_122_may_oneOf" ($.'$schema#ObjectSchema'.oneOf)
def jm_f_23(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.oneOf
    result = json_model_120(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $schemaArray at {path} [$.'$schema#ObjectSchema'.oneOf]")
    return result

# define "json_model_122_may_unevaluatedItems" ($.'$schema#ObjectSchema'.unevaluatedItems)
def jm_f_24(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.unevaluatedItems
    result = json_model_123(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $Schema at {path} [$.'$schema#ObjectSchema'.unevaluatedItems]")
    return result

# define "json_model_122_may_unevaluatedProperties" ($.'$schema#ObjectSchema'.unevaluatedProperties)
def jm_f_25(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.unevaluatedProperties
    result = json_model_123(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $Schema at {path} [$.'$schema#ObjectSchema'.unevaluatedProperties]")
    return result

# define "json_model_122_may_type" ($.'$schema#ObjectSchema'.type)
def jm_f_26(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.type
    # $.'$schema#ObjectSchema'.type.'|'.0
    result = json_model_115(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $simpleTypes at {path} [$.'$schema#ObjectSchema'.type.'|'.0]")
    if not result:
        # $.'$schema#ObjectSchema'.type.'|'.1
        result = json_model_116(value, path, rep)
        if not result:
            rep is None or rep.append(f"not an expected $simpleTypesArray at {path} [$.'$schema#ObjectSchema'.type.'|'.1]")
    if not result:
        rep is None or rep.append(f"not any model match at {path} [$.'$schema#ObjectSchema'.type.'|']")
    return result

# define "json_model_122_may_const" ($.'$schema#ObjectSchema'.const)
def jm_f_27(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.const
    result = True or _rep(f"invalid $ANY at {path}", rep)
    if not result:
        rep is None or rep.append(f"not an expected $ANY at {path} [$.'$schema#ObjectSchema'.const]")
    return result

# define "json_model_122_may_enum" ($.'$schema#ObjectSchema'.enum)
def jm_f_28(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.enum
    result = isinstance(value, list)
    if result:
        for array_0_idx, array_0_item in enumerate(value):
            lpath = path + '.' + str(array_0_idx)
            # $.'$schema#ObjectSchema'.enum.0
            result = True or _rep(f"invalid $ANY at {path}", rep)
            if not result:
                rep is None or rep.append(f"not an expected $ANY at {lpath} [$.'$schema#ObjectSchema'.enum.0]")
            if not result:
                break
    if not result:
        rep is None or rep.append(f"not array or unexpected array at {path} [$.'$schema#ObjectSchema'.enum]")
    return result

# define "json_model_122_may_multipleOf" ($.'$schema#ObjectSchema'.multipleOf)
def jm_f_29(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.multipleOf
    result = isinstance(value, float) and value > 0.0
    if not result:
        rep is None or rep.append(f"not a 1.0 float at {path} [$.'$schema#ObjectSchema'.multipleOf]")
    return result

# define "json_model_122_may_maximum" ($.'$schema#ObjectSchema'.maximum)
def jm_f_30(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.maximum
    result = isinstance(value, float)
    if not result:
        rep is None or rep.append(f"not a -1.0 float at {path} [$.'$schema#ObjectSchema'.maximum]")
    return result

# define "json_model_122_may_exclusiveMaximum" ($.'$schema#ObjectSchema'.exclusiveMaximum)
def jm_f_31(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.exclusiveMaximum
    result = isinstance(value, float)
    if not result:
        rep is None or rep.append(f"not a -1.0 float at {path} [$.'$schema#ObjectSchema'.exclusiveMaximum]")
    return result

# define "json_model_122_may_minimum" ($.'$schema#ObjectSchema'.minimum)
def jm_f_32(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.minimum
    result = isinstance(value, float)
    if not result:
        rep is None or rep.append(f"not a -1.0 float at {path} [$.'$schema#ObjectSchema'.minimum]")
    return result

# define "json_model_122_may_exclusiveMinimum" ($.'$schema#ObjectSchema'.exclusiveMinimum)
def jm_f_33(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.exclusiveMinimum
    result = isinstance(value, float)
    if not result:
        rep is None or rep.append(f"not a -1.0 float at {path} [$.'$schema#ObjectSchema'.exclusiveMinimum]")
    return result

# define "json_model_122_may_maxLength" ($.'$schema#ObjectSchema'.maxLength)
def jm_f_34(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.maxLength
    result = json_model_118(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $nonNegativeInteger at {path} [$.'$schema#ObjectSchema'.maxLength]")
    return result

# define "json_model_122_may_minLength" ($.'$schema#ObjectSchema'.minLength)
def jm_f_35(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.minLength
    result = json_model_118(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $nonNegativeInteger at {path} [$.'$schema#ObjectSchema'.minLength]")
    return result

# define "json_model_122_may_pattern" ($.'$schema#ObjectSchema'.pattern)
def jm_f_36(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.pattern
    result = is_valid_re(value, path, rep) or _rep(f"invalid $REGEX at {path}", rep)
    if not result:
        rep is None or rep.append(f"not an expected $REGEX at {path} [$.'$schema#ObjectSchema'.pattern]")
    return result

# define "json_model_122_may_maxItems" ($.'$schema#ObjectSchema'.maxItems)
def jm_f_37(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.maxItems
    result = json_model_118(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $nonNegativeInteger at {path} [$.'$schema#ObjectSchema'.maxItems]")
    return result

# define "json_model_122_may_minItems" ($.'$schema#ObjectSchema'.minItems)
def jm_f_38(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.minItems
    result = json_model_118(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $nonNegativeInteger at {path} [$.'$schema#ObjectSchema'.minItems]")
    return result

# define "json_model_122_may_uniqueItems" ($.'$schema#ObjectSchema'.uniqueItems)
def jm_f_39(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.uniqueItems
    result = isinstance(value, bool)
    if not result:
        rep is None or rep.append(f"not a bool at {path} [$.'$schema#ObjectSchema'.uniqueItems]")
    return result

# define "json_model_122_may_maxContains" ($.'$schema#ObjectSchema'.maxContains)
def jm_f_40(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.maxContains
    result = json_model_118(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $nonNegativeInteger at {path} [$.'$schema#ObjectSchema'.maxContains]")
    return result

# define "json_model_122_may_minContains" ($.'$schema#ObjectSchema'.minContains)
def jm_f_41(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.minContains
    result = json_model_118(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $nonNegativeInteger at {path} [$.'$schema#ObjectSchema'.minContains]")
    return result

# define "json_model_122_may_maxProperties" ($.'$schema#ObjectSchema'.maxProperties)
def jm_f_42(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.maxProperties
    result = json_model_118(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $nonNegativeInteger at {path} [$.'$schema#ObjectSchema'.maxProperties]")
    return result

# define "json_model_122_may_minProperties" ($.'$schema#ObjectSchema'.minProperties)
def jm_f_43(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.minProperties
    result = json_model_118(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $nonNegativeInteger at {path} [$.'$schema#ObjectSchema'.minProperties]")
    return result

# define "json_model_122_may_required" ($.'$schema#ObjectSchema'.required)
def jm_f_44(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.required
    result = json_model_117(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $stringArray at {path} [$.'$schema#ObjectSchema'.required]")
    return result



# define "json_model_122_may_title" ($.'$schema#ObjectSchema'.title)
def jm_f_46(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.title
    result = isinstance(value, str)
    if not result:
        rep is None or rep.append(f"not an expected string at {path} [$.'$schema#ObjectSchema'.title]")
    return result

# define "json_model_122_may_description" ($.'$schema#ObjectSchema'.description)
def jm_f_47(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.description
    result = isinstance(value, str)
    if not result:
        rep is None or rep.append(f"not an expected string at {path} [$.'$schema#ObjectSchema'.description]")
    return result

# define "json_model_122_may_default" ($.'$schema#ObjectSchema'.default)
def jm_f_48(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.default
    result = True or _rep(f"invalid $ANY at {path}", rep)
    if not result:
        rep is None or rep.append(f"not an expected $ANY at {path} [$.'$schema#ObjectSchema'.default]")
    return result

# define "json_model_122_may_deprecated" ($.'$schema#ObjectSchema'.deprecated)
def jm_f_49(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.deprecated
    result = isinstance(value, bool)
    if not result:
        rep is None or rep.append(f"not a bool at {path} [$.'$schema#ObjectSchema'.deprecated]")
    return result

# define "json_model_122_may_readOnly" ($.'$schema#ObjectSchema'.readOnly)
def jm_f_50(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.readOnly
    result = isinstance(value, bool)
    if not result:
        rep is None or rep.append(f"not a bool at {path} [$.'$schema#ObjectSchema'.readOnly]")
    return result

# define "json_model_122_may_writeOnly" ($.'$schema#ObjectSchema'.writeOnly)
def jm_f_51(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.writeOnly
    result = isinstance(value, bool)
    if not result:
        rep is None or rep.append(f"not a bool at {path} [$.'$schema#ObjectSchema'.writeOnly]")
    return result

# define "json_model_122_may_examples" ($.'$schema#ObjectSchema'.examples)
def jm_f_52(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.examples
    result = isinstance(value, list)
    if result:
        for array_1_idx, array_1_item in enumerate(value):
            lpath = path + '.' + str(array_1_idx)
            # $.'$schema#ObjectSchema'.examples.0
            result = True or _rep(f"invalid $ANY at {path}", rep)
            if not result:
                rep is None or rep.append(f"not an expected $ANY at {lpath} [$.'$schema#ObjectSchema'.examples.0]")
            if not result:
                break
    if not result:
        rep is None or rep.append(f"not array or unexpected array at {path} [$.'$schema#ObjectSchema'.examples]")
    return result

# define "json_model_122_may_format" ($.'$schema#ObjectSchema'.format)
def jm_f_53(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.format
    result = isinstance(value, str)
    if not result:
        rep is None or rep.append(f"not an expected string at {path} [$.'$schema#ObjectSchema'.format]")
    return result

# define "json_model_122_may_contentEncoding" ($.'$schema#ObjectSchema'.contentEncoding)
def jm_f_54(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.contentEncoding
    result = isinstance(value, str)
    if not result:
        rep is None or rep.append(f"not an expected string at {path} [$.'$schema#ObjectSchema'.contentEncoding]")
    return result

# define "json_model_122_may_contentMediaType" ($.'$schema#ObjectSchema'.contentMediaType)
def jm_f_55(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.contentMediaType
    result = isinstance(value, str)
    if not result:
        rep is None or rep.append(f"not an expected string at {path} [$.'$schema#ObjectSchema'.contentMediaType]")
    return result

# define "json_model_122_may_contentSchema" ($.'$schema#ObjectSchema'.contentSchema)
def jm_f_56(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#ObjectSchema'.contentSchema
    result = json_model_123(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $Schema at {path} [$.'$schema#ObjectSchema'.contentSchema]")
    return result


# define "$schema" ($.'$schema')
def json_model_107(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema'
    # $.'$schema'.'@'
    result = json_model_123(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $Schema at {path} [$.'$schema'.'@']")
    if not result:
        rep is None or rep.append(f"invalid type or constraints at {path} [$.'$schema']")
    return result

# define "$schema#Schema" ($.'$schema#Schema')
def json_model_123(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#Schema'
    # $.'$schema#Schema'.'|'.0
    result = isinstance(value, bool)
    if not result:
        rep is None or rep.append(f"not a bool at {path} [$.'$schema#Schema'.'|'.0]")
    if not result:
        # $.'$schema#Schema'.'|'.1
        result = json_model_122(value, path, rep)
        if not result:
            rep is None or rep.append(f"not an expected $ObjectSchema at {path} [$.'$schema#Schema'.'|'.1]")
    if not result:
        rep is None or rep.append(f"not any model match at {path} [$.'$schema#Schema'.'|']")
    return result


# object $.'$schema#ObjectSchema'.'$vocabulary'
def jm_f_6(value: Jsonable, path: str, rep: Report = None) -> bool:
    if not isinstance(value, dict):
        rep is None or rep.append(f"not an object at {path} [$.'$schema#ObjectSchema'.'$vocabulary']")
        return False
    for prop, val in value.items():
        assert isinstance(prop, str)
        lpath = path + "." + prop
        if is_valid_url(prop, path, rep) or _rep(f"invalid $URL at {path}", rep) or _rep(f"prop {prop} does not match $URL at {path}", rep):  # $URL
            # $.'$schema#ObjectSchema'.'$vocabulary'.'$URL'
            result = isinstance(val, bool)
            if not result:
                rep is None or rep.append(f"not a bool at {lpath} [$.'$schema#ObjectSchema'.'$vocabulary'.'$URL']")
            if not result:
                return False
        else:  # no catch all
            rep is None or rep.append(f"no other prop expected at {path} [$.'$schema#ObjectSchema'.'$vocabulary']")
            return False
    return True


# object $.'$schema#ObjectSchema'.'$defs'
def jm_f_8(value: Jsonable, path: str, rep: Report = None) -> bool:
    if not isinstance(value, dict):
        rep is None or rep.append(f"not an object at {path} [$.'$schema#ObjectSchema'.'$defs']")
        return False
    for prop, val in value.items():
        assert isinstance(prop, str)
        lpath = path + "." + prop
        # $.'$schema#ObjectSchema'.'$defs'.''
        result = json_model_123(val, path, rep)
        if not result:
            rep is None or rep.append(f"not an expected $Schema at {lpath} [$.'$schema#ObjectSchema'.'$defs'.'']")
        if not result:
            rep is None or rep.append(f"unexpected other value at {lpath} [$.'$schema#ObjectSchema'.'$defs'.'']")
            return False
    return True


# object $.'$schema#ObjectSchema'.properties
def jm_f_13(value: Jsonable, path: str, rep: Report = None) -> bool:
    if not isinstance(value, dict):
        rep is None or rep.append(f"not an object at {path} [$.'$schema#ObjectSchema'.properties]")
        return False
    for prop, val in value.items():
        assert isinstance(prop, str)
        lpath = path + "." + prop
        # $.'$schema#ObjectSchema'.properties.''
        result = json_model_123(val, path, rep)
        if not result:
            rep is None or rep.append(f"not an expected $Schema at {lpath} [$.'$schema#ObjectSchema'.properties.'']")
        if not result:
            rep is None or rep.append(f"unexpected other value at {lpath} [$.'$schema#ObjectSchema'.properties.'']")
            return False
    return True


# object $.'$schema#ObjectSchema'.patternProperties
def jm_f_14(value: Jsonable, path: str, rep: Report = None) -> bool:
    if not isinstance(value, dict):
        rep is None or rep.append(f"not an object at {path} [$.'$schema#ObjectSchema'.patternProperties]")
        return False
    for prop, val in value.items():
        assert isinstance(prop, str)
        lpath = path + "." + prop
        if is_valid_re(prop, path, rep) or _rep(f"invalid $REGEX at {path}", rep) or _rep(f"prop {prop} does not match $REGEX at {path}", rep):  # $REGEX
            # $.'$schema#ObjectSchema'.patternProperties.'$REGEX'
            result = json_model_123(val, path, rep)
            if not result:
                rep is None or rep.append(f"not an expected $Schema at {lpath} [$.'$schema#ObjectSchema'.patternProperties.'$REGEX']")
            if not result:
                return False
        else:  # no catch all
            rep is None or rep.append(f"no other prop expected at {path} [$.'$schema#ObjectSchema'.patternProperties]")
            return False
    return True


# object $.'$schema#ObjectSchema'.dependentSchemas
def jm_f_15(value: Jsonable, path: str, rep: Report = None) -> bool:
    if not isinstance(value, dict):
        rep is None or rep.append(f"not an object at {path} [$.'$schema#ObjectSchema'.dependentSchemas]")
        return False
    for prop, val in value.items():
        assert isinstance(prop, str)
        lpath = path + "." + prop
        # $.'$schema#ObjectSchema'.dependentSchemas.''
        result = json_model_123(val, path, rep)
        if not result:
            rep is None or rep.append(f"not an expected $Schema at {lpath} [$.'$schema#ObjectSchema'.dependentSchemas.'']")
        if not result:
            rep is None or rep.append(f"unexpected other value at {lpath} [$.'$schema#ObjectSchema'.dependentSchemas.'']")
            return False
    return True


# object $.'$schema#ObjectSchema'.dependentRequired
def jm_f_45(value: Jsonable, path: str, rep: Report = None) -> bool:
    if not isinstance(value, dict):
        rep is None or rep.append(f"not an object at {path} [$.'$schema#ObjectSchema'.dependentRequired]")
        return False
    for prop, val in value.items():
        assert isinstance(prop, str)
        lpath = path + "." + prop
        # $.'$schema#ObjectSchema'.dependentRequired.''
        result = json_model_117(val, path, rep)
        if not result:
            rep is None or rep.append(f"not an expected $stringArray at {lpath} [$.'$schema#ObjectSchema'.dependentRequired.'']")
        if not result:
            rep is None or rep.append(f"unexpected other value at {lpath} [$.'$schema#ObjectSchema'.dependentRequired.'']")
            return False
    return True


# object $.'$schema#ObjectSchema'
def json_model_122(value: Jsonable, path: str, rep: Report = None) -> bool:
    if not isinstance(value, dict):
        rep is None or rep.append(f"not an object at {path} [$.'$schema#ObjectSchema']")
        return False
    for prop, val in value.items():
        assert isinstance(prop, str)
        lpath = path + "." + prop
        if prop in json_model_122_may:  # may
            if not json_model_122_may[prop](val, lpath, rep):
                rep is None or rep.append(f"invalid may prop value at {lpath} [$.'$schema#ObjectSchema'.{prop}]")
                return False
        else:  # no catch all
            rep is None or rep.append(f"no other prop expected at {path} [$.'$schema#ObjectSchema']")
            return False
    return True



# define "$schema#URI-REFERENCE" ($.'$schema#URI-REFERENCE')
def json_model_108(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#URI-REFERENCE'
    result = isinstance(value, str)
    if not result:
        rep is None or rep.append(f"not an expected string at {path} [$.'$schema#URI-REFERENCE']")
    return result

# define "$schema#simpleTypes" ($.'$schema#simpleTypes')
def json_model_115(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#simpleTypes'
    result = not isinstance(value, (list, dict)) and value in {'array', 'boolean', 'integer', 'null', 'number', 'object', 'string'}
    if not result:
        rep is None or rep.append(f"value not in enum at {path} [$.'$schema#simpleTypes'.'|']")
    return result

# define "$schema#simpleTypesArray" ($.'$schema#simpleTypesArray')
def json_model_116(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#simpleTypesArray'
    # $.'$schema#simpleTypesArray'.'@'
    result = isinstance(value, list)
    if result:
        for array_2_idx, array_2_item in enumerate(value):
            lpath = path + '.' + str(array_2_idx)
            # $.'$schema#simpleTypesArray'.'@'.0
            result = json_model_115(array_2_item, path, rep)
            if not result:
                rep is None or rep.append(f"not an expected $simpleTypes at {lpath} [$.'$schema#simpleTypesArray'.'@'.0]")
            if not result:
                break
    if not result:
        rep is None or rep.append(f"not array or unexpected array at {path} [$.'$schema#simpleTypesArray'.'@']")
    result &= len(set(value)) == len(value)
    result &= len(value) >= 1
    if not result:
        rep is None or rep.append(f"invalid type or constraints at {path} [$.'$schema#simpleTypesArray']")
    return result

# define "$schema#stringArray" ($.'$schema#stringArray')
def json_model_117(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#stringArray'
    # $.'$schema#stringArray'.'@'
    result = isinstance(value, list)
    if result:
        for array_3_idx, array_3_item in enumerate(value):
            lpath = path + '.' + str(array_3_idx)
            # $.'$schema#stringArray'.'@'.0
            result = isinstance(array_3_item, str)
            if not result:
                rep is None or rep.append(f"not an expected string at {lpath} [$.'$schema#stringArray'.'@'.0]")
            if not result:
                break
    if not result:
        rep is None or rep.append(f"not array or unexpected array at {path} [$.'$schema#stringArray'.'@']")
    result &= len(set(value)) == len(value)
    if not result:
        rep is None or rep.append(f"invalid type or constraints at {path} [$.'$schema#stringArray']")
    return result

# define "$schema#nonNegativeInteger" ($.'$schema#nonNegativeInteger')
def json_model_118(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#nonNegativeInteger'
    result = isinstance(value, int) and not isinstance(value, bool) and value >= 0
    if not result:
        rep is None or rep.append(f"not a 0 int at {path} [$.'$schema#nonNegativeInteger']")
    return result

# define "$schema#schemaArray" ($.'$schema#schemaArray')
def json_model_120(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $.'$schema#schemaArray'
    # $.'$schema#schemaArray'.'@'
    result = isinstance(value, list)
    if result:
        for array_4_idx, array_4_item in enumerate(value):
            lpath = path + '.' + str(array_4_idx)
            # $.'$schema#schemaArray'.'@'.0
            result = json_model_123(array_4_item, path, rep)
            if not result:
                rep is None or rep.append(f"not an expected $Schema at {lpath} [$.'$schema#schemaArray'.'@'.0]")
            if not result:
                break
    if not result:
        rep is None or rep.append(f"not array or unexpected array at {path} [$.'$schema#schemaArray'.'@']")
    result &= len(value) >= 1
    if not result:
        rep is None or rep.append(f"invalid type or constraints at {path} [$.'$schema#schemaArray']")
    return result

# define "$" ($)
def json_model_1(value: Jsonable, path: str, rep: Report = None) -> bool:
    # $
    result = json_model_107(value, path, rep)
    if not result:
        rep is None or rep.append(f"not an expected $schema at {path} [$]")
    return result

# entry function check_model
def check_model(value: Jsonable, path: str = "$", rep: Report = None) -> bool:
    return json_model_1(value, path, rep)


# object properties maps
json_model_122_may = {
    "$id": jm_f_0,
    "$schema": jm_f_1,
    "$ref": jm_f_2,
    "$anchor": jm_f_3,
    "$dynamicRef": jm_f_4,
    "$dynamicAnchor": jm_f_5,
    "$vocabulary": jm_f_6,
    "$comment": jm_f_7,
    "$defs": jm_f_8,
    "prefixItems": jm_f_9,
    "items": jm_f_10,
    "contains": jm_f_11,
    "additionalProperties": jm_f_12,
    "properties": jm_f_13,
    "patternProperties": jm_f_14,
    "dependentSchemas": jm_f_15,
    "propertyNames": jm_f_16,
    "if": jm_f_17,
    "then": jm_f_18,
    "else": jm_f_19,
    "not": jm_f_20,
    "allOf": jm_f_21,
    "anyOf": jm_f_22,
    "oneOf": jm_f_23,
    "unevaluatedItems": jm_f_24,
    "unevaluatedProperties": jm_f_25,
    "type": jm_f_26,
    "const": jm_f_27,
    "enum": jm_f_28,
    "multipleOf": jm_f_29,
    "maximum": jm_f_30,
    "exclusiveMaximum": jm_f_31,
    "minimum": jm_f_32,
    "exclusiveMinimum": jm_f_33,
    "maxLength": jm_f_34,
    "minLength": jm_f_35,
    "pattern": jm_f_36,
    "maxItems": jm_f_37,
    "minItems": jm_f_38,
    "uniqueItems": jm_f_39,
    "maxContains": jm_f_40,
    "minContains": jm_f_41,
    "maxProperties": jm_f_42,
    "minProperties": jm_f_43,
    "required": jm_f_44,
    "dependentRequired": jm_f_45,
    "title": jm_f_46,
    "description": jm_f_47,
    "default": jm_f_48,
    "deprecated": jm_f_49,
    "readOnly": jm_f_50,
    "writeOnly": jm_f_51,
    "examples": jm_f_52,
    "format": jm_f_53,
    "contentEncoding": jm_f_54,
    "contentMediaType": jm_f_55,
    "contentSchema": jm_f_56,
}


# possibly run as a script: $0 values...
if __name__ == "__main__":
    import json
    import sys
    for fn in sys.argv[1:]:
        try:
            with open(fn) as f:
                value = json.load(f)
            reasons = []
            if check_model(value, "", reasons):
                print(f"{fn}: PASS")
            else:
                print(f"{fn}: FAIL {reasons}")
        except Exception as e:
            print(f"{fn}: ERROR ({e})")

