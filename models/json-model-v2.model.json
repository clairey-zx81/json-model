{
  "#": "Self-Validating JSON Model",
  "~": "https://json-model.org/models/json-model",
  "$": {
    "#": "Definitions, without predefs of any kind",
    "": "https://json-model.org/models/json-model",
    "Url": "/^((file|https?)://.+|\\./.*|\\.\\./.*)$/",
    "Ref": "/^\\$/",
    "Val": { "|":  [ null, true, -1, -1.0, "" ] },
    "Any": { "&": [ ] },
    "None": { "|": [ ] },
    "Common": { "?#": "" },
    "Array": [ "$Model" ],
    "Constraint": {
      "_@": "$Model",
      "/^(<=|>=|<|>|≥|≤)$/": { "|": [ -1, -1.0, "" ] },
      "/^(=|!=|≠)$/": "$Val",
      "?!": true
    },
    "Or": { "_|": [ "$Model" ] },
    "And": { "_&": [ "$Model" ] },
    "Xor": { "_^": [ "$Model" ] },
    "Add": { "_+": [ "$Model" ] },
    "Obj": { "": "$Model", "/^[@|&^+/*]$/": "$None" },
    "Elem": { "|": [ "$Constraint", "$Or", "$And", "$Xor", "$Add", "$Obj" ] },
    "Element": { "+": [ "$Common", "$Elem" ] },
    "Trafo": {
      "#": "remove and/or add stuff",
      "?/": { "|": [ "$Scalar", [ "$Any" ] ] },
      "?*": { "|": [ [ "$Any" ], { "": "$Model" } ] }
    },
    "Transformation": { "|": [ "$Model", { "+": [ "$Common", "$Trafo" ] } ] },
    "Scalar": { "|": [ "=null", "=true", "=0", "=1", "=-1", "=0.0", "=1.0", "=-1.0", "" ] },
    "Model": { "|": [ "$Scalar", "$Array", "$Element" ] },
    "Defs": { "?": "$Url", "/.+/": "$Model" },
    "Rename": { "/^\\..+$/": "/^([#|&^+/*@~=$%]|[<>!]=?)$/" },
    "Rewrite": { "/^\\$.*$/": "$Transformation" },
    "Import": { "?<": { "|": [ "$Ref", [ "$Ref" ] ] } },
    "RootOnly": {
      "#": "symbols that can only appear at the model's root",
      "?~": "$Url",
      "?$": { "+": [ "$Common", "$Defs" ] },
      "?%": { "+": [ "$Common", "$Rename", "$Rewrite", "$Import" ] }
    },
    "Root": { "+": [ "$RootOnly", "$Element" ] },
    "RootModel": { "|": [ "$Scalar", "$Array", "$Root" ] }
  },
  "@": "$RootModel"
}
